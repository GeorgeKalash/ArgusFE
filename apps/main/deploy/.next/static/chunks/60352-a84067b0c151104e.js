(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60352],{88469:function(e,l,i){"use strict";i.d(l,{N:function(){return n}});let a="RTOW.asmx/",n={Country:{qry:a+"qryPCO2"},DispersalType:{qry:a+"qryPMO2"},Currency:{qry:a+"qryPMO3"},Agent:{qry:a+"qryPDA2"},ProductDispersalEngine:{qry:a+"qryPDE"},OutwardsCash:{qry:a+"qryOWC"},OutwardsOrder:{qry:a+"qryOWO",qry2:a+"qryOWO2",page:a+"pageOWO",get:a+"getOWO",get2:a+"get2OWO",set:a+"setOWO",set2:a+"set2OWO",del:a+"delOWO",close:a+"closeOWO",reopen:a+"reopenOWO",post:a+"postOWO",snapshot:a+"snapshotOWO"},OutwardsRequest:{get:a+"getOWX"},InwardSettlement:{qry:a+"qryIWS",page:a+"pageIWS",get:a+"getIWS",set:a+"setIWS",del:a+"delIWS",close:a+"closeIWS",reopen:a+"reopenIWS",post:a+"postIWS",snapshot:a+"snapshotIWS"},InwardsTransfer:{get:a+"getIW",set:a+"setIW",del:a+"delIW",snapshot:a+"snapshotIW",snapshot2:a+"snapshotIW2",close:a+"closeIW",reopen:a+"reopenIW",post:a+"postIW",open:a+"openIW"},InwardGLInformation:{get:a+"getIWI"},Beneficiary:{qry:a+"qryBEN",qry2:a+"qryBEN2",qry3:a+"qryBEN3",get:a+"getBEN",del:a+"delBEN",snapshot:a+"snapshotBEN",snapshot2:a+"snapshotBEN2 "},BeneficiaryBank:{qry:a+"qryBEB",get:a+"getBEB",set:a+"set2BEB",del:a+"delBEB"},BeneficiaryCash:{qry:a+"qryBEC",get:a+"getBEC",set:a+"set2BEC",del:a+"delBEC"},FeeSchedule:{qry:a+"qryFSC",page:a+"pageFSC",snapshot:a+"snapshotFSC",get:a+"getFSC",set:a+"setFSC",del:a+"delFSC"},FeeScheduleDetail:{qry:a+"qryFSD",get:a+"getFSD",set2:a+"set2FSD",del:a+"delFSD"},FeeScheduleOutwards:{qry:a+"qryFSO",page:a+"pageFSO",get:a+"getFSO",set:a+"setFSO",del:a+"delFSO"},FeeScheduleInwards:{qry:a+"qryFSI",page:a+"pageFSI",get:a+"getFSI",set:a+"setFSI",del:a+"delFSI"},OutwardGLInformation:{get:a+"getOWI"},AutoPostExclusion:{qry:a+"qryAPX",get:a+"getAPX",set:a+"setAPX",del:a+"delAPX",get2:a+"get2APX",set2:a+"set2APX"},OutwardsModification:{qry:a+"qryOWM",page:a+"pageOWM",snapshot:a+"snapshotOWM",get:a+"getOWM",set2:a+"set2OWM",del:a+"delOWM",post:a+"postOWM",reopen:a+"reopenOWM",close:a+"closeOWM"},Postoutwards:{qry:a+"qryOWT3",post2:a+"post2OWT"},OutwardsReturn:{page:a+"pageOWR",qry2:a+"qryOWR2",get:a+"getOWR",set:a+"setOWR",close:a+"closeOWR",reopen:a+"reopenOWR",post:a+"postOWR",snapshot:a+"snapshotOWR"},CorrespondentOutwards:{qry:a+"qryACE",set:a+"setACE"},ReceiptVouchers:{qry:a+"qryRV",page:a+"pageRV",get:a+"getRV",set:a+"setRV",set2:a+"set2RV",del:a+"delRV",post:a+"postRV",close:a+"closeRV",reopen:a+"reopenRV",snapshot:a+"snapshotRV"},OutwardsTransfer:{get:a+"getOWT",snapshot:a+"snapshotOWT",qry2:a+"qryOWT2"},UnassignedCountry:{unassigned:a+"unassignedCOU"},UnassignedCurrency:{unassigned:a+"unassignedCU"},UnassignedDispersalType:{unassigned:a+"unassignedDT"},AssignedCountry:{assigned:a+"assignedCOU"},AssignedCurrency:{assigned:a+"assignedCU"},AssignedDispersalType:{assigned:a+"assignedDT"},OutwardReturnSettlement:{qry:a+"qryORS",page:a+"pageORS",get:a+"getORS",get2:a+"get2ORS",set:a+"setORS",set2:a+"set2ORS",del:a+"delORS",post:a+"postORS",close:a+"closeORS",reopen:a+"reopenORS",snapshot:a+"snapshotORS"},OutwardReturnReason:{page:a+"pageOWRR",snapshot:a+"snapshotOWRR",qry:a+"qryOWRR",get:a+"getOWRR",set:a+"setOWRR",del:a+"delOWRR"}}},45937:function(e,l,i){"use strict";var a=i(52322),n=i(38449),t=i(93894),d=i(2784),o=i(65950),r=i(19473),s=i(21326);let c=e=>{let{recordId:l,editMode:i,onSubmit:c=()=>{},window:u,actions:v=[],address:m,setAddress:h,required:p=!0,...I}=e,{getRequest:y,postRequest:x}=(0,d.useContext)(o.$),{platformLabels:f}=(0,d.useContext)(r.l),[g,C]=(0,d.useState)(l||null),[N,b]=(0,d.useState)(null),A=!!m&&!!h,R=A?m:N,P=A?h:b;(0,s.Z)({title:f.Address,window:u});let V=async e=>{if(!p){P(e),c(e,u);return}let l={...e,recordId:g||(null==R?void 0:R.recordId)||null},i=await x({extension:n.r.Address.set,record:JSON.stringify(l)}),a=(null==i?void 0:i.recordId)||g||null,t={...l,recordId:a,addressId:a};C(a),P(t),c(t,u)};return(0,d.useEffect)(()=>{!A&&g&&(async()=>{let e=await y({extension:n.r.Address.get,parameters:"_filter=&_recordId=".concat(g)});b((null==e?void 0:e.record)||null)})()},[g,A]),(0,a.jsx)(t.O,{editMode:i,setAddress:P,address:R,onSubmit:V,actions:v,window:u,...I})};c.width=600,c.height=500,l.Z=c},93894:function(e,l,i){"use strict";i.d(l,{O:function(){return u}});var a=i(52322),n=i(2784),t=i(82737),d=i(13073),o=i(80983),r=i(31389),s=i(33625),c=i(48601);let u=e=>{let{setAddress:l,address:i,editMode:u,window:v,readOnly:m,allowPost:h=!0,optional:p=!1,onSubmit:I,isSavedClear:y=!0,isCleared:x=!0,changeClear:f=!1,actions:g=[],...C}=e,[N,b]=(0,n.useState)(!p),[A,R]=(0,n.useState)({}),{formik:P}=(0,o.c)({maxAccess:A.maxAccess,initialValues:{recordId:null,name:"",countryId:null,countryName:"",stateId:null,stateName:"",cityId:null,city:"",street1:"",street2:"",email1:"",email2:"",phone:"",phone2:"",phone3:"",addressId:null,postalCode:"",cityDistrictId:null,cityDistrict:"",bldgNo:"",unitNo:"",subNo:"",poBox:""},validateOnChange:!0,validateOnBlur:!0,validationSchema:c.Ry({...A.validate}),onSubmit:e=>{l(e),h?I(e,v):v.close()}});return(0,n.useEffect)(()=>{p&&(P.values.name||P.values.street1||P.values.countryId||P.values.cityId)&&b(!0),!p||P.values.name||P.values.street1||P.values.countryId||P.values.cityId||b(!1)},[P.values]),(0,a.jsx)(t.Z,{form:P,maxAccess:A.maxAccess,isInfo:!1,disabledSubmit:m,editMode:u,isSavedClear:y,isCleared:x,onClear:f?()=>{P.resetForm({values:P.initialValues})}:void 0,actions:g,...C,children:(0,a.jsx)(r.R,{children:(0,a.jsx)(s.g,{children:(0,a.jsx)(d.Z,{addressValidation:P,readOnly:m,required:N,setFormik:R,address:i,...C})})})})}},60352:function(e,l,i){"use strict";i.d(l,{Z:function(){return ef}});var a=i(52322),n=i(60218),t=i(28738),d=i(2784),o=i(5088),r=i(48601),s=i(62202),c=i(13073),u=i(75991),v=i(89330),m=i(61084),h=i(24074),p=i(8661),I=i(91084),y=i(82737),x=i(53621),f=i(27423),g=i(38449),C=i(26612),N=i(84100),b=i(65950),A=i(84141),R=i(39812),P=i(53137),V=i(61802),D=i(6988),F=i(58867),Z=i(69387),O=i(88469),j=i(71987),S=i(78711),w=i(46553),_=i(17720),k=i(31389);function q(e){let{client:l,beneficiary:i}=e,{getRequest:n}=(0,d.useContext)(b.$),{query:{data:t},labels:o,access:r}=(0,j.J)({queryFn:s,endpointId:O.N.Beneficiary.qry2,datasetId:C.i.Beneficiary});async function s(){let e=await n({extension:O.N.Beneficiary.qry2,parameters:"_clientId=".concat(l,"&_beneficiaryId=").concat(i)});return e.list=e.list.map(e=>(null===e.isInactive&&(e.isInactive=!1),e)),e}let c=[{field:"name",headerName:o.name,flex:2},{field:"addressLine1",headerName:o.addressLine1,flex:2},{field:"nationalityName",headerName:o.nationalityId,flex:1},{field:"countryName",headerName:o.country,flex:1},{field:"accountReference",headerName:o.accountRef,flex:1},{field:"branchName",headerName:o.branchName,flex:1},{field:"dispersalTypeName",headerName:o.dispersalType,flex:1},{field:"isInactive",headerName:o.isInactive,type:"checkbox"}];return(0,a.jsx)(k.R,{children:(0,a.jsx)(Z.Z,{width:500,height:400,columns:c,gridData:t,rowId:["beneficiaryId"],isLoading:!1,pagination:!1,maxAccess:r})})}var L=i(23925),M=i(44258),W=i(96577),E=i.n(W),B={src:"/_next/static/media/history.18e0f9a6.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABqfk8+AAAADnRSTlMAMwm42MpLr5hThz0ia2PoVjIAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA2SURBVHicJcq3AcAwDASxe2YF77+uC6EGJs90QURBhQhni9VcaGFJGuOXZBl8KsdaL3M0sw8/H2IA9r2uA2cAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},T=e=>{let{clientId:l}=e,{stack:i}=(0,V.zY)();(0,S.TA)({initialValues:{recordId:l},validateOnChange:!0,validateOnBlur:!0,onSubmit:()=>{}});let{getRequest:n}=(0,d.useContext)(b.$),{query:{data:t},labels:o,access:r}=(0,j.J)({queryFn:s,endpointId:O.N.Beneficiary.qry,datasetId:C.i.Beneficiary});async function s(){let e=await n({extension:O.N.Beneficiary.qry,parameters:"_clientId=".concat(l)});return e.list=e.list.map(e=>(null===e.isInactive&&(e.isInactive=!1),e)),e}let c=[{field:"name",headerName:o.name,flex:2},{field:"addressLine1",headerName:o.addressLine1,flex:2},{field:"nationalityName",headerName:o.nationalityId,flex:1},{field:"countryName",headerName:o.country,flex:1},{field:"accountReference",headerName:o.accountRef,flex:1},{field:"branchName",headerName:o.branchName,flex:1},{field:"dispersalTypeName",headerName:o.dispersalType,flex:1},{field:"isInactive",headerName:o.isInactive,type:"checkbox"},{field:"beneficiary history",headerName:o.beneficiaryHistory,flex:1,cellRenderer:e=>(0,a.jsx)(L.Z,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:(0,a.jsx)(M.Z,{size:"small",onClick:()=>u(e),children:(0,a.jsx)(E(),{src:B,alt:"History",width:18,height:18})})})}],u=e=>{i({Component:q,props:{client:e.data.clientId,beneficiary:e.data.beneficiaryId},width:1100,height:500,title:o.beneficiaryHistory})};return(0,a.jsx)(Z.Z,{width:500,height:400,columns:c,gridData:t,rowId:["beneficiaryId"],isLoading:!1,pagination:!1,maxAccess:r,onEdit:e=>{let l=e.beneficiaryId,a=e.clientId,n=e.dispersalType,t=e.nationalityId;1===n?i({Component:w.Z,props:{client:{clientId:a},dispersalType:n,beneficiary:{beneficiaryId:l,beneficiarySeqNo:e.seqNo},corId:0,countryId:t,recordId:(null==e?void 0:e.clientId)&&(null==e?void 0:e.beneficiaryId)&&(null==e?void 0:e.seqNo)?(100*e.clientId).toString()+(10*e.beneficiaryId).toString()+e.seqNo:null}}):2===n&&i({Component:_.Z,props:{client:{clientId:a},dispersalType:n,beneficiary:{beneficiaryId:l,beneficiarySeqNo:e.seqNo},corId:0,countryId:t,recordId:(null==e?void 0:e.clientId)&&(null==e?void 0:e.beneficiaryId)&&(null==e?void 0:e.seqNo)?(100*e.clientId).toString()+(10*e.beneficiaryId).toString()+e.seqNo:null}})}})},Y=i(7121),U=i(96026),J=i(19473),G=i(38509),H=i(62362),X=i(80983),z=i(23361),K=i(51235),Q=i(19689),$=i(69627),ee=i(91406),el=i(54074),ei=i(2119);function ea(e){var l,i;let{labels:t,editMode:r,maxAccess:s,readOnly:c,clientFormik:u,allowEdit:v,window:m}=e,[I,y]=(0,d.useState)(),{getRequest:f}=(0,d.useContext)(b.$);(0,d.useEffect)(()=>{!async function(){y(parseInt((await f({extension:g.r.Defaults.get,parameters:"_filter=&_key=countryId"})).record.value))}()},[]);let{formik:C}=(0,X.c)({initialValues:{trxCountPerYear:"",trxAmountPerYear:"",riskLevel:"",civilStatus:"",title:"",oldReference:"",extraIncome:"",bankId:"",iban:"",extraIncomeId:"",educationLevel:""},maxAccess:s,validateOnChange:!0,onSubmit:async e=>{u.setValues({...u.values,trxCountPerYear:e.trxCountPerYear,trxAmountPerYear:e.trxAmountPerYear,riskLevel:e.riskLevel,civilStatus:e.civilStatus,oldReference:e.oldReference,extraIncome:e.extraIncome,extraIncomeId:e.extraIncomeId,bankId:e.bankId,iban:e.iban,title:e.title,educationLevel:e.educationLevel}),m.close()}});return(0,d.useEffect)(()=>{C.setValues({trxCountPerYear:u.values.trxCountPerYear,trxAmountPerYear:u.values.trxAmountPerYear,riskLevel:u.values.riskLevel,civilStatus:u.values.civilStatus,oldReference:u.values.oldReference,title:u.values.title,extraIncome:u.values.extraIncome,extraIncomeId:u.values.extraIncomeId,bankId:u.values.bankId,iban:u.values.iban,educationLevel:u.values.educationLevel})},[]),(0,a.jsx)(el.Z,{onSave:C.handleSubmit,disabledSubmit:r,maxAccess:s,children:(0,a.jsx)(k.R,{children:(0,a.jsx)(H.Q,{children:(0,a.jsxs)(n.ZP,{container:!0,xs:12,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(ee.Z,{name:"trxCountPerYear",readOnly:r||c,onChange:C.handleChange,label:t.trxCountPerYear,onClear:()=>C.setFieldValue("trxCountPerYear",""),value:C.values.trxCountPerYear,error:C.touched.trxCountPerYear&&!!C.errors.trxCountPerYear})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(ee.Z,{name:"trxAmountPerYear",readOnly:r||c,label:t.trxAmountPerYear,onChange:C.handleChange,value:C.values.trxAmountPerYear,onClear:()=>C.setFieldValue("trxAmountPerYear",""),error:C.touched.trxAmountPerYear&&!!C.errors.trxAmountPerYear})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(p.Z,{endpointId:h.u.RiskLevel.qry,name:"riskLevel",label:t.riskLevel,readOnly:r&&!v||c,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:C.values,onChange:(e,l)=>{l?C.setFieldValue("riskLevel",null==l?void 0:l.recordId):C.setFieldValue("riskLevel",null)},error:C.touched.riskLevel&&!!C.errors.riskLevel,maxAccess:s})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(p.Z,{datasetId:N.v.CIVIL_STATUS,name:"civilStatus",label:t.civilStatus,valueField:"key",displayField:"value",values:C.values,readOnly:r&&!v||c,onChange:(e,l)=>{C.setFieldValue("civilStatus",null==l?void 0:l.key)},error:C.touched.civilStatus&&!!C.errors.civilStatus,maxAccess:s})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(o.Z,{name:"oldReference",label:t.oldReference,value:null===(l=C.values)||void 0===l?void 0:l.oldReference,readOnly:r||c,onChange:C.handleChange,maxLength:"10",onClear:()=>C.setFieldValue("oldReference",""),error:C.touched.oldReference&&!!C.errors.oldReference,maxAccess:s})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(p.Z,{datasetId:N.v.TITLE,name:"title",label:t.title,valueField:"key",displayField:"value",readOnly:r&&!v||c,values:C.values,onChange:(e,l)=>{l?C.setFieldValue("title",null==l?void 0:l.key):C.setFieldValue("title",null)},error:C.touched.title&&!!C.errors.title,maxAccess:s})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(ee.Z,{name:"extraIncome",maxLength:12,decimalScale:0,readOnly:r||c,onChange:C.handleChange,label:t.extraIncome,value:C.values.extraIncome,error:C.touched.extraIncome&&!!C.errors.extraIncome})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(p.Z,{endpointId:x.d.ExtraIncome.qry,name:"extraIncomeId",label:t.extraIncomeType,readOnly:r||c,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:C.values,onChange:(e,l)=>{C.setFieldValue("extraIncomeId",(null==l?void 0:l.recordId)||"")},error:C.touched.extraIncomeId&&!!C.errors.extraIncomeId,maxAccess:s})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(p.Z,{endpointId:I&&ei.G.CbBank.qry2,parameters:I&&"_countryId=".concat(I),name:"bankId",label:t.bank,readOnly:r||c,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:C.values,onChange:(e,l)=>{C.setFieldValue("bankId",(null==l?void 0:l.recordId)||"")},error:C.touched.bankId&&!!C.errors.bankId,maxAccess:s})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(o.Z,{name:"iban",label:t.iban,value:null===(i=C.values)||void 0===i?void 0:i.iban,readOnly:r||c,onChange:C.handleChange,maxLength:"10",onClear:()=>C.setFieldValue("iban",""),error:C.touched.iban&&!!C.errors.iban,maxAccess:s})}),(0,a.jsx)(n.ZP,{item:!0,xs:"12",children:(0,a.jsx)(p.Z,{datasetId:N.v.EDUCATION_LEVEL,name:"educationLevel",label:t.educationLevel,valueField:"key",displayField:"value",readOnly:r&&!v&&!0,values:C.values,onChange:(e,l)=>{l?C.setFieldValue("educationLevel",null==l?void 0:l.key):C.setFieldValue("educationLevel",null)},error:C.touched.educationLevel&&!!C.errors.educationLevel,maxAccess:s})})]})})})})}var en=i(84695),et=i.n(en);i(15233);var ed=i(45297),eo=i(81576),er=i(83715),es=i.n(er),ec=i(7087),eu=i.n(ec),ev=function(e){var l,i;let{label:n,name:t,type:o,value:r,onChange:s,onBlur:c,error:u,...v}=e,{defaultsData:m}=(0,d.useContext)(J.l),[h,p]=(0,d.useState)(""),{_readOnly:I,_required:y,_hidden:x}=(0,eo.W)(t,v.maxAccess,v.required,v.readOnly,v.hidden),f=null==m?void 0:null===(i=m.list)||void 0===i?void 0:null===(l=i.find(e=>{let{key:l}=e;return"countryRef"===l}))||void 0===l?void 0:l.value;return(0,d.useEffect)(()=>{let e=document.querySelector('[name="'.concat(t,'"]'));e&&(e.type=o)},[o,t]),x?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)("div",{className:"".concat(es().phoneWrapper," ").concat(eu().outlinedRoot),children:[n&&(0,a.jsxs)("div",{className:"".concat(es().phoneLabel," ").concat(eu().inputLabelShrink," ").concat(u&&es().errorLabel),children:[n," ",y&&(0,a.jsx)("span",{children:"*"})]}),(0,a.jsxs)("div",{dir:"ltr",className:"".concat(es().phoneWrapper," ").concat(eu().outlinedRoot),children:[(0,a.jsx)(et(),{country:null==f?void 0:f.toLowerCase(),value:r||"",placeholder:"",dir:"rtl",language:"ars",prefix:"+",enableSearch:!0,disableAreaCodes:!0,onChange:(e,l,i)=>{let a=("+"+e).replace(/^0+/,"00");p("+"+l.dialCode),s&&s(a,l,i)},onBlur:e=>{c&&c(e)},disableDropdown:I,inputProps:{name:t,onPaste:v.onPaste,onCopy:v.onCopy,readOnly:I},containerStyle:{border:"1px solid ".concat(u?"red":"#ccc"),display:"flex",alignItems:"center"},inputStyle:{width:"100%",border:"none"},containerClass:"".concat(es().phoneContainer," ").concat(eu().outlinedFieldset),inputClass:es().phoneInput,dropdownClass:es().phoneDropdown,specialLabel:"",...v}),(r||0===r)&&!I&&(0,a.jsx)(M.Z,{tabIndex:-1,onClick:()=>v.onClear(h),"aria-label":"clear input",className:es().phoneClearButton,children:(0,a.jsx)(ed.Z,{className:eu().icon})})]})]})},em=i(31907),eh=i(50023),ep=i(21326),eI=i(45937),ey=i(13409);let ex=e=>{var l,i,Z,O,S,w,_,q,L,M,W,E,B,ee,el,ei,en,et,ed,eo,er,es,ec,eu,ex,ef,eg,eC,eN,eb,eA,eR,eP,eV,eD,eF,eZ,eO,ej,eS;let{recordId:ew,plantId:e_,allowEdit:ek=!1,window:eq}=e,{stack:eL}=(0,V.zY)(),{getRequestFullEndPoint:eM,getRequest:eW,postRequest:eE}=(0,d.useContext)(b.$),{systemChecks:eB,defaultsData:eT}=(0,d.useContext)(J.l),[eY,eU]=(0,d.useState)(!!ew),[eJ,eG]=(0,d.useState)(!!ew),[eH,eX]=(0,d.useState)(!!ew),[ez,eK]=(0,d.useState)(!0),[eQ,e$]=(0,d.useState)([]),[e0,e1]=(0,d.useState)(!!ew),[e2,e3]=(0,d.useState)(!1),[e4,e5]=(0,d.useState)(!1),[e8,e6]=(0,d.useState)({}),[e9,e7]=(0,d.useState)({}),[le,ll]=(0,d.useState)(!1),[li,la]=(0,d.useState)(null),[ln,lt]=(0,d.useState)(null),[ld,lo]=(0,d.useState)(null),{stack:lr}=(0,U.V)(),{platformLabels:ls}=(0,d.useContext)(J.l),[lc,lu]=(0,d.useState)({}),lv=null==eT?void 0:null===(i=eT.list)||void 0===i?void 0:null===(l=i.find(e=>{let{key:l}=e;return"ct-client-trial-days"===l}))||void 0===l?void 0:l.value,{labels:lm,access:lh}=(0,eh.Z)({datasetId:C.i.ClientMaster,editMode:!!ew});(0,ep.Z)({title:lm.pageTitle,window:eq});let lp=e=>{e.preventDefault()},[lI]=(0,I.Z)(),ly=(0,j.E)({endpointId:F.u.CtClientIndividual.snapshot});async function lx(e){e||(lb.setFieldValue("idtId",""),lb.setFieldValue("idtName",""),lb.setFieldValue("isResident",!1));let l=await lI(e);l&&(lb.setFieldValue("idtId",l.recordId),lb.setFieldValue("idtName",l.name),lb.setFieldValue("isResident",l.isResident||!1))}function lf(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];eW({extension:P.L.CtClientIndividual.get2,parameters:"_clientId=".concat(e)}).then(async i=>{var a,n,t,d,o,r,s,c,u,v,m,p,I,y,x,f,g,C,N,b,A,P,V,D,F,Z,O,j,S,w,_,k,q,L,M,W,E,B,T,U,J,G,H,X,z,K,Q,$,ee,el,ei,ea,en,et,ed,eo,er,es,ec,eu,ev,em,eh,ep,eI,ey,ex,ef,eg,eC,eN,eb,eA,eR,eP,eV,eD,eF,eZ,eO,ej,eS,ew,e_,ek,eq,eL,eM,eE,eB,eT,eY,eU,eJ,eG,eH,eX,ez,eK,eQ,e0,e2,e3,e4,e5,e8,e6,e9,e7,le,ll,li,ln,ld,lr;let ls=null==i?void 0:i.record;if((null==ls?void 0:ls.workAddressView)&&e$(null==ls?void 0:ls.workAddressView),lb.setValues({functionId:Y.J.KYC,masterRecordId:null==ls?void 0:null===(a=ls.clientMaster)||void 0===a?void 0:a.recordId,reference:null===(n=ls.clientMaster)||void 0===n?void 0:n.reference,clientId:null===(t=ls.clientIDView)||void 0===t?void 0:t.clientId,expiryDate:(0,R.a1)(null===(d=ls.clientMaster)||void 0===d?void 0:d.expiryDate),issueDate:(null===(o=ls.clientIDView)||void 0===o?void 0:o.idIssueDate)&&(0,R.a1)(null===(r=ls.clientIDView)||void 0===r?void 0:r.idIssueDate),idCountry:null===(s=ls.clientIDView)||void 0===s?void 0:s.idCountryId,idCity:null===(c=ls.clientIDView)||void 0===c?void 0:c.idCityId,idNo:null===(u=ls.clientIDView)||void 0===u?void 0:u.idNo,idNoRepeat:null===(v=ls.clientIDView)||void 0===v?void 0:v.idNo,idNoEncrypt:(null===(m=ls.clientIDView)||void 0===m?void 0:m.idNo)&&(null===(p=ls.clientIDView)||void 0===p?void 0:p.idNo),idNoRepeatEncrypt:(null===(I=ls.clientIDView)||void 0===I?void 0:I.idNo)&&(null===(y=ls.clientIDView)||void 0===y?void 0:y.idNo),idtId:null===(x=ls.clientIDView)||void 0===x?void 0:x.idtId,isDiplomat:null===(f=ls.clientIDView)||void 0===f?void 0:f.isDiplomat,cityName:null===(g=ls.clientIDView)||void 0===g?void 0:g.idCityName,idIssuePlaceCode:null===(C=ls.clientIDView)||void 0===C?void 0:C.extraInfo,addressRecordId:null===(N=ls.addressView)||void 0===N?void 0:N.recordId,countryId:null===(b=ls.addressView)||void 0===b?void 0:b.countryId,cityId:null===(A=ls.addressView)||void 0===A?void 0:A.cityId,city:null===(P=ls.addressView)||void 0===P?void 0:P.city,stateId:null===(V=ls.addressView)||void 0===V?void 0:V.stateId,cityDistrictId:null===(D=ls.addressView)||void 0===D?void 0:D.cityDistrictId,cityDistrict:null===(F=ls.addressView)||void 0===F?void 0:F.cityDistrict,email1:null===(Z=ls.addressView)||void 0===Z?void 0:Z.email1,email2:null===(O=ls.addressView)||void 0===O?void 0:O.email2,name:null===(j=ls.addressView)||void 0===j?void 0:j.name,phone:null===(S=ls.addressView)||void 0===S?void 0:S.phone,phone2:null===(w=ls.addressView)||void 0===w?void 0:w.phone2,phone3:null===(_=ls.addressView)||void 0===_?void 0:_.phone3,postalCode:null===(k=ls.addressView)||void 0===k?void 0:k.postalCode,street1:null===(q=ls.addressView)||void 0===q?void 0:q.street1,street2:null===(L=ls.addressView)||void 0===L?void 0:L.street2,subNo:null===(M=ls.addressView)||void 0===M?void 0:M.subNo,unitNo:null===(W=ls.addressView)||void 0===W?void 0:W.unitNo,bldgNo:null===(E=ls.addressView)||void 0===E?void 0:E.bldgNo,poBox:null===(B=ls.addressView)||void 0===B?void 0:B.poBox,birthDate:(null===(T=ls.clientIndividual)||void 0===T?void 0:T.birthDate)&&(0,R.a1)(ls.clientIndividual.birthDate),firstName:null===(U=ls.clientIndividual)||void 0===U?void 0:U.firstName,lastName:null===(J=ls.clientIndividual)||void 0===J?void 0:J.lastName,middleName:null===(G=ls.clientIndividual)||void 0===G?void 0:G.middleName,familyName:null===(H=ls.clientIndividual)||void 0===H?void 0:H.familyName,fl_firstName:null===(X=ls.clientIndividual)||void 0===X?void 0:X.fl_firstName,fl_lastName:null===(z=ls.clientIndividual)||void 0===z?void 0:z.fl_lastName,fl_middleName:null===(K=ls.clientIndividual)||void 0===K?void 0:K.fl_middleName,fl_familyName:null===(Q=ls.clientIndividual)||void 0===Q?void 0:Q.fl_familyName,isResident:null===($=ls.clientIndividual)||void 0===$?void 0:$.isResident,incomeSourceId:null===(ee=ls.clientIndividual)||void 0===ee?void 0:ee.incomeSourceId,sponsorName:null===(el=ls.clientIndividual)||void 0===el?void 0:el.sponsorName,addressId:ls.clientMaster.addressId,category:null===(ei=ls.clientMaster)||void 0===ei?void 0:ei.category,nationalityId:null===(ea=ls.clientMaster)||void 0===ea?void 0:ea.nationalityId,nationality:null===(en=ls.clientMaster)||void 0===en?void 0:en.nationality,cellPhone:null===(et=ls.clientMaster)||void 0===et?void 0:et.cellPhone,cellPhoneEncrypt:(null===(ed=ls.clientMaster)||void 0===ed?void 0:ed.cellPhone)&&(null===(eo=ls.clientMaster)||void 0===eo?void 0:eo.cellPhone),cellPhoneRepeatEncrypt:(null===(er=ls.clientMaster)||void 0===er?void 0:er.cellPhone)&&(null===(es=ls.clientMaster)||void 0===es?void 0:es.cellPhone),cellPhoneRepeat:null===(ec=ls.clientMaster)||void 0===ec?void 0:ec.cellPhone,createdDate:null===(eu=ls.clientMaster)||void 0===eu?void 0:eu.createdDate,flName:null===(ev=ls.clientMaster)||void 0===ev?void 0:ev.flName,keyword:null===(em=ls.clientMaster)||void 0===em?void 0:em.keyword,otp:null===(eh=ls.clientMaster)||void 0===eh?void 0:eh.otp,plantId:null===(ep=ls.clientRemittance)||void 0===ep?void 0:ep.plantId,name:null===(eI=ls.clientMaster)||void 0===eI?void 0:eI.name,oldReference:null===(ey=ls.clientMaster)||void 0===ey?void 0:ey.oldReference,status:null===(ex=ls.clientMaster)||void 0===ex?void 0:ex.status,professionId:null===(ef=ls.clientMaster)||void 0===ef?void 0:ef.professionId,extraIncome:null===(eg=ls.clientMaster)||void 0===eg?void 0:eg.extraIncome,extraIncomeId:null===(eC=ls.clientMaster)||void 0===eC?void 0:eC.extraIncomeId,bankId:null===(eN=ls.clientMaster)||void 0===eN?void 0:eN.bankId,iban:null===(eb=ls.clientMaster)||void 0===eb?void 0:eb.iban,trialDays:null===(eA=ls.clientMaster)||void 0===eA?void 0:eA.trialDays,idScanMode:null===(eR=ls.clientMaster)||void 0===eR?void 0:eR.idScanMode,recordId:e,remittanceRecordId:null===(eP=ls.clientRemittance)||void 0===eP?void 0:eP.recordId,otpVerified:null===(eV=ls.clientRemittance)||void 0===eV?void 0:eV.otpVerified,govCellVerified:null===(eD=ls.clientRemittance)||void 0===eD?void 0:eD.govCellVerified,addressId:null===(eF=ls.clientRemittance)||void 0===eF?void 0:eF.addressId,batchId:null===(eZ=ls.clientRemittance)||void 0===eZ?void 0:eZ.batchId,civilStatus:null===(eO=ls.clientRemittance)||void 0===eO?void 0:eO.civilStatus,clientId:null===(ej=ls.clientRemittance)||void 0===ej?void 0:ej.clientId,coveredFace:null===(eS=ls.clientRemittance)||void 0===eS?void 0:eS.coveredFace,date:null===(ew=ls.clientRemittance)||void 0===ew?void 0:ew.date,dtId:null===(e_=ls.clientRemittance)||void 0===e_?void 0:e_.dtId,educationLevel:null===(ek=ls.clientRemittance)||void 0===ek?void 0:ek.educationLevel,gender:null===(eq=ls.clientRemittance)||void 0===eq?void 0:eq.gender,isEmployee:null===(eL=ls.clientRemittance)||void 0===eL?void 0:eL.isEmployee,cobId:null===(eM=ls.clientRemittance)||void 0===eM?void 0:eM.cobId,relativeDiplomatInfo:null===(eE=ls.clientRemittance)||void 0===eE?void 0:eE.relativeDiplomatInfo,releaseStatus:null===(eB=ls.clientRemittance)||void 0===eB?void 0:eB.releaseStatus,riskLevel:null===(eT=ls.clientRemittance)||void 0===eT?void 0:eT.riskLevel,salaryRangeId:null===(eY=ls.clientRemittance)||void 0===eY?void 0:eY.salaryRangeId,smsLanguage:null===(eU=ls.clientRemittance)||void 0===eU?void 0:eU.smsLanguage,whatsAppNo:null===(eJ=ls.clientRemittance)||void 0===eJ?void 0:eJ.whatsAppNo,wip:null===(eG=ls.clientRemittance)||void 0===eG?void 0:eG.wip,workAddressId:null===(eH=ls.clientRemittance)||void 0===eH?void 0:eH.workAddressId,title:null===(eX=ls.clientRemittance)||void 0===eX?void 0:eX.title,mobileVerified:null===(ez=ls.clientRemittance)||void 0===ez?void 0:ez.mobileVerificationStatus,isRelativeDiplomat:null===(eK=ls.clientRemittance)||void 0===eK?void 0:eK.isRelativeDiplomat,trxAmountPerYear:null===(eQ=ls.clientRemittance)||void 0===eQ?void 0:eQ.trxAmountPerYear,trxCountPerYear:null===(e0=ls.clientRemittance)||void 0===e0?void 0:e0.trxCountPerYear,cltRemReference:null===(e2=ls.clientRemittance)||void 0===e2?void 0:e2.reference}),lo(null===(e3=ls.clientMaster)||void 0===e3?void 0:e3.idScanMode),e1(!0),!0===l&&(null===(e4=ls.clientRemittance)||void 0===e4?void 0:e4.clientId)&&(null===(e5=ls.clientIDView)||void 0===e5?void 0:e5.idNo)&&(null===(e8=ls.clientIDView)||void 0===e8?void 0:e8.idtId)&&(null===(e6=ls.clientMaster)||void 0===e6?void 0:e6.idScanMode)&&((null===(e9=ls.clientMaster)||void 0===e9?void 0:e9.idScanMode)==1||(null===(e7=ls.clientMaster)||void 0===e7?void 0:e7.idScanMode)==2)){lt(!0);let e="_number=".concat(null===(le=ls.clientIDView)||void 0===le?void 0:le.idNo,"&_clientId=").concat(null===(ll=ls.clientRemittance)||void 0===ll?void 0:ll.clientId,"&_idType=").concat(null===(li=ls.clientIDView)||void 0===li?void 0:li.idtId,"&_idScanMode=").concat(null===(ln=ls.clientMaster)||void 0===ln?void 0:ln.idScanMode),l=await eW({extension:h.u.PreviewImageID.get,parameters:e});la(null!==(lr=null==l?void 0:null===(ld=l.record)||void 0===ld?void 0:ld.imageContent)&&void 0!==lr?lr:null),lt(!1)}})}(0,d.useEffect)(()=>{ew&&lf(ew,!0)},[]);let lg=e=>{e&&eW({extension:F.u.IDNumber.get,parameters:"_idNo="+e}).then(e=>{e.record&&lr({message:"the ID number exists."})})},lC=async()=>{ll(!0),lb.setFieldTouched("cellPhone",!1),lb.setFieldTouched("cellPhoneRepeat",!1),lb.setFieldTouched("idNo",!1),lb.setFieldValue("trialDays",lv),eL({Component:z.Z,props:{height:200,fullScreen:!1,okButtonAction:lw,DialogText:ls.PhoneVerificationConfirmation},width:450,height:170,title:ls.Confirmation})},lN=()=>{eL({Component:A.Z,props:{recordId:lb.values.recordId,values:lb.values,deviceId:lb.values.cellPhone,functionId:lb.values.functionId,setEditMode:e1,getData:lf}})},{formik:lb}=(0,X.c)({maxAccess:lc.maxAccess,initialValues:{reference:"",clientId:null,expiryDate:null,issueDate:null,idCountry:"",idCity:"",idNo:"",idNoRepeat:"",idNoEncrypt:"",idNoRepeatEncrypt:"",idtId:"",idtName:"",cityName:"",birthDate:null,firstName:"",lastName:"",middleName:"",familyName:"",fl_firstName:"",fl_lastName:"",fl_middleName:"",fl_familyName:"",isResident:!1,incomeSourceId:"",masterRecordId:"",addressId:"",category:"",nationalityId:"",nationality:"",cellPhone:"",cellPhoneEncrypt:"",cellPhoneRepeatEncrypt:"",cellPhoneRepeat:"",country:"",createdDate:null,isDiplomatReadOnly:!1,flName:"",keyword:"",otp:"",status:-1,plantId:e_||"",name:"",oldReference:"",bankId:"",iban:"",trialDays:null,idScanMode:null,remittanceRecordId:"",trxCountPerYear:"",trxAmountPerYear:"",otpVerified:!1,govCellVerified:!1,addressId:"",batchId:"",civilStatus:"",coveredFace:!1,date:null,dtId:"",educationLevel:"",gender:"",idNo:"",isDiplomat:!1,isEmployee:!1,cobId:null,relativeDiplomatInfo:"",releaseStatus:"",riskLevel:"",salary:"",salaryRange:"",smsLanguage:"",sponsorName:"",whatsAppNo:"",wip:"",workAddressId:"",title:"",mobileVerified:"",isRelativeDiplomat:!1,professionId:"",cltRemReference:"",idIssuePlaceCode:""},validateOnChange:!0,validateOnBlur:!0,validationSchema:r.Ry({...lc.validate,reference:ez&&r.Z_().required(),isResident:r.Z_().required(),birthDate:r.hT().required(),idtId:r.Z_().required(),idNo:r.Z_().required(),expiryDate:r.hT().required(),issueDate:r.hT().required(),countryId:r.Z_().required(),cityId:r.Z_().required(),idCountry:r.Z_().required(),firstName:r.Z_().required(),lastName:r.Z_().required(),nationalityId:r.Z_().required(),professionId:r.Z_().required(),cellPhone:r.Z_().required("Phone number is required").test("isValidPhoneNumber","Invalid phone number",function(e){let{country:l}=this.options.context;return!l||(0,em.y)(e,l)}),cellPhoneRepeat:r.Z_().required("Phone number is required").oneOf([r.iH("cellPhone"),null],"Cell phone must match").test("isValidPhoneNumber","Invalid phone number",function(e){let{country:l}=this.options.context;return!l||(0,em.y)(e,l)}),smsLanguage:r.Z_().required(),incomeSourceId:r.Z_().required(),gender:r.Z_().required()}),onSubmit:async e=>{lq?lC():await lV(e)}}),lA=!(e0&&-1===lb.values.status&&!lb.values.otpVerified&&2!==lb.values.wip),lR=2===lb.values.wip;async function lP(e){if(li)return await eE({extension:h.u.ScannerImage.set,record:JSON.stringify({base64Image:li,clientId:e.clientId,numberID:e.numberID})})}let lV=async e=>{let l=new Date,i={recordId:e.masterRecordId,reference:e.reference,category:1,name:e.firstName,flName:e.fl_firstName,keyword:e.keyword,nationalityId:e.nationalityId,status:e.status,addressId:null,cellPhone:e.cellPhone,oldReference:e.oldReference,otp:null==e?void 0:e.otp,plantId:lb.values.plantId,createdDate:(0,R.ku)(l.toISOString()),expiryDate:(0,R.ku)(e.expiryDate),professionId:e.professionId,categoryName:e.categoryName,extraIncomeId:e.extraIncomeId,bankId:e.bankId,iban:e.iban,trialDays:e.trialDays,idScanMode:e.idScanMode},a={idNo:e.idNo,clientId:e.clientId||0,idCountryId:e.idCountry,idtId:e.idtId,idExpiryDate:(0,R.ku)(e.expiryDate),idIssueDate:e.issueDate&&(0,R.ku)(e.issueDate),idCityId:e.idCity,isDiplomat:e.isDiplomat,extraInfo:e.idIssuePlaceCode},n={clientId:e.clientId||0,firstName:e.firstName,lastName:e.lastName,middleName:e.familyName?e.middleName+""+e.familyName:e.middleName,familyName:null,fl_firstName:e.fl_firstName,fl_lastName:e.fl_lastName,fl_middleName:e.fl_familyName?e.fl_middleName+" "+e.fl_familyName:e.fl_middleName,fl_familyName:null,birthDate:(0,R.ku)(e.birthDate),isResident:e.isResident,sponsorName:e.sponsorName,incomeSourceId:e.incomeSourceId},t={recordId:e.remittanceRecordId,clientId:e.clientId||0,plantId:lb.values.plantId,reference:"",salaryRangeId:e.salaryRangeId,riskLevel:e.riskLevel,smsLanguage:e.smsLanguage,whatsAppNo:e.whatsAppNo,gender:e.gender,title:e.title,civilStatus:e.civilStatus,mobileVerificationStatus:0,educationLevel:e.educationLevel,isDiplomat:e.isDiplomat,isRelativeDiplomat:e.isRelativeDiplomat,relativeDiplomatInfo:e.relativeDiplomatInfo,idNo:e.idNo,otpVerified:e.otpVerified,coveredFace:e.coveredFace,isEmployee:e.isEmployee,wip:1,addressId:e.addressId,workAddressId:null==eQ?void 0:eQ.recordId,cobId:e.cobId,trxCountPerYear:e.trxCountPerYear,trxAmountPerYear:e.trxAmountPerYear,govCellVerified:e.govCellVerified},d={recordId:e.addressRecordId,name:e.name,countryId:e.countryId,stateId:e.stateId,cityId:e.cityId,cityName:e.cityName,street1:e.street1,street2:e.street2,email1:e.email1,email2:e.email2,phone:e.phone,phone2:e.phone2,phone3:e.phone3,addressId:e.addressId,postalCode:e.postalCode,cityDistrictId:e.cityDistrictId,bldgNo:e.bldgNo,unitNo:e.unitNo,subNo:e.subNo,poBox:e.poBox},o=eQ.length>0?{recordId:eQ.recordId,name:eQ.name,countryId:eQ.countryId,stateId:eQ.stateId,cityId:eQ.cityId,cityName:eQ.cityName,street1:eQ.street1,street2:eQ.street2,email1:eQ.email1,email2:eQ.email2,phone:eQ.phone,phone2:eQ.phone2,phone3:eQ.phone3,addressId:eQ.addressId,postalCode:eQ.postalCode,cityDistrictId:eQ.cityDistrictId,bldgNo:eQ.bldgNo,poBox:eQ.poBox,unitNo:eQ.unitNo,subNo:eQ.subNo}:null;if(ek){i.status=-1;let l={plantId:lb.values.plantId,clientID:a,ClientIndividual:n,clientRemittance:t,clientMaster:i,address:d,workAddress:o};await eE({extension:P.L.CtClientIndividual.update,record:JSON.stringify(l)}).then(l=>{l&&(li&&(null==e?void 0:e.idScanMode)==1&&ld!==(null==e?void 0:e.idScanMode)&&lP({clientId:e.clientId,numberID:e.idNo}),s.ZP.success(ls.Edited),lN(),lf(e.recordId))})}else{let l={plantId:lb.values.plantId,clientMaster:i,clientID:a,ClientIndividual:n,clientRemittance:t,address:d,workAddress:(null==o?void 0:o.name)&&(null==o?void 0:o.countryId)&&(null==o?void 0:o.cityId)&&(null==o?void 0:o.phone)&&(null==o?void 0:o.street1)?o:null};eE({extension:P.L.CtClientIndividual.set2,record:JSON.stringify(l)}).then(l=>{l&&(li&&(null==e?void 0:e.idScanMode)==1&&lP({clientId:l.recordId,numberID:e.idNo}),s.ZP.success(ls.Submit),ly(),e3(!0),lf(l.recordId),e1(!0))})}};(0,d.useEffect)(()=>{!async function(){var e,l,i,a;if(null==lb?void 0:null===(e=lb.values)||void 0===e?void 0:e.idtId){let e=null===(l=e8.list)||void 0===l?void 0:l.find(e=>e.recordId===lb.values.idtId);if(!e||!e.type||1!==e.type&&2!==e.type){lb.setFieldValue("idCountry",null),lb.setFieldValue("nationalityId",null);return}let n=parseInt(null==eT?void 0:null===(a=eT.list)||void 0===a?void 0:null===(i=a.find(e=>"countryId"===e.key))||void 0===i?void 0:i.value);lb.setFieldValue("idCountry",n),lb.setFieldValue("nationalityId",1==e.type?n:null)}else lb.setFieldValue("idCountry",null),lb.setFieldValue("nationalityId",null)}()},[lb.values.idtId]),(0,d.useEffect)(()=>{lb.values.clientId&&e2&&lN()},[lb.values.clientId,e2]);let lD=e=>{e?(lb.setFieldValue("isDiplomat",!0),lb.setFieldValue("isDiplomatReadOnly",!0)):(lb.setFieldValue("isDiplomat",!1),lb.setFieldValue("isDiplomatReadOnly",!1))},lF=[!ek&&{key:"Client Relation",condition:!0,onClick:"onClientRelation",disabled:!e0},!ek&&{key:"Add Client Relation",condition:!0,onClick:"onAddClientRelation",disabled:!e0},!ek&&{key:"BeneficiaryList",condition:!0,onClick:()=>void eL({Component:T,props:{clientId:ew},width:1300,height:500,title:lm.beneficiaries}),disabled:!e0},{key:"Approval",condition:!0,onClick:"onApproval",disabled:!lR},{key:"Close",condition:!lA,onClick:async()=>{let e=lb.values,l={recordId:null==e?void 0:e.remittanceRecordId},i=await eE({extension:P.L.CtClientIndividual.close,record:JSON.stringify(l)});i.recordId&&(s.ZP.success(ls.Closed),ly(),lf(i.recordId))},disabled:!e0},{key:"Reopen",condition:lA,disabled:!0},!ek&&{key:"Client Balance",condition:!0,onClick:"onClientBalance",disabled:!e0}],lZ=()=>{e5(!e4)},lO=async e=>{lt(!0);let l="_number=".concat(lb.values.idNo,"&_idType=").concat(lb.values.idtId),i=await eW({extension:h.u.Absher.get,parameters:l}),a=null==i?void 0:i.record;a?(lb.setFieldValue("idScanMode",2),la(null==a?void 0:a.imageContent),e.close()):(lb.setFieldValue("idScanMode",null),la(null)),lt(!1)},lj=async e=>{lt(!0);let l=await eM({endPoint:""});(null==l?void 0:l.imageContent)?(lb.setFieldValue("idScanMode",1),la(null==l?void 0:l.imageContent),e.close()):(lb.setFieldValue("idScanMode",null),la(null)),lt(!1)},lS=e=>{eL({Component:z.Z,props:{DialogText:2===e?ls.AbsherConfirmation:ls.scannerConfirmation,okButtonAction:2===e?lO:lj,fullScreen:!1},width:450,height:170,title:ls.Confirmation})};(0,d.useEffect)(()=>{if(lb.values.nationalityId){var e,l,i;let a=null==e9?void 0:null===(i=e9.list)||void 0===i?void 0:null===(l=i.filter(e=>e.recordId===lb.values.nationalityId))||void 0===l?void 0:null===(e=l[0])||void 0===e?void 0:e.languageId;a&&lb.setFieldValue("smsLanguage",a)}},[null==lb?void 0:null===(Z=lb.values)||void 0===Z?void 0:Z.nationalityId]);let lw=async e=>{let l=lb.values.cellPhone.replace(/^\+/,""),i="_idNo=".concat(lb.values.idNo,"&_mobileNumber=").concat(l);eW({extension:h.u.Mobile.get,parameters:i}).then(l=>{e.close(),lb.setFieldValue("govCellVerified",!0),l.record.isOwner?(lb.setFieldValue("trialDays",null),s.ZP.success(ls.PhoneVerification)):(lb.setFieldValue("trialDays",lv),s.ZP.error(ls.notOwner))}).catch(()=>{lb.setFieldValue("govCellVerified",!1)})},l_=!!(lb.touched.cellPhone&&lb.touched.cellPhoneRepeat),lk=!!lb.touched.idNo,lq=(l_||lk)&&!le&&!lb.values.govCellVerified&&!(null==eB?void 0:eB.some(e=>e.checkId===K.F.CT_DISABLE_MOBILE_VERIFICATION));function lL(e,l){e$({...e}),l.close()}return(0,a.jsx)(y.Z,{actions:lF,resourceId:C.i.UpdateClientRemittance,form:lb,maxAccess:lh,editMode:e0,previewReport:e0,disabledSubmit:e0&&!ek&&!0,children:(0,a.jsx)(k.R,{children:(0,a.jsx)(H.Q,{children:(0,a.jsxs)(n.ZP,{container:!0,xs:12,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:6,children:(0,a.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(m.B,{endpointId:h.u.Defaults.get,param:"ct-nra-individual",name:"reference",label:lm.reference,editMode:e0,value:null===(O=lb.values)||void 0===O?void 0:O.reference,setReferenceRequired:eK,onChange:lb.handleChange,onClear:()=>lb.setFieldValue("reference",""),error:lb.touched.reference&&!!lb.errors.reference,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(o.Z,{name:"cltRemReference",label:lm.lastKYC,value:null==lb?void 0:null===(S=lb.values)||void 0===S?void 0:S.cltRemReference,maxAccess:lh,maxLength:"30",readOnly:!0,error:lb.touched.cltRemReference&&!!lb.errors.cltRemReference})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(Q.Z,{name:"isResident",value:null===(w=lb.values)||void 0===w?void 0:w.isResident,onChange:e=>lb.setFieldValue("isResident",e.target.checked),label:lm.isResident,maxAccess:lh,disabled:e0&&!ek})}),(0,a.jsx)(n.ZP,{item:!0,xs:6,children:(0,a.jsx)(v.Z,{name:"birthDate",label:lm.birthDate,value:null===(_=lb.values)||void 0===_?void 0:_.birthDate,required:!0,onChange:lb.setFieldValue,onClear:()=>lb.setFieldValue("birthDate",""),autoFocus:!e0,disabledDate:">=",readOnly:e0&&!ek&&!0,error:lb.touched.birthDate&&!!lb.errors.birthDate,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:6,children:(0,a.jsx)(G.Z,{name:"birthDateHijri",label:lm.birthDateHijri,value:null===(q=lb.values)||void 0===q?void 0:q.birthDate,readOnly:e0&&!ek,onChange:(e,l)=>{lb.setFieldValue("birthDate",l)},onClear:()=>lb.setFieldValue("birthDate",""),maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(u.Z,{title:lm.id,children:(0,a.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:5,children:(0,a.jsx)(o.Z,{name:"idNo",label:lm.idNo,type:eY?"password":"",value:null===(L=lb.values)||void 0===L?void 0:L.idNo,required:!0,onChange:e=>{ll(!1),lb.handleChange(e)},onCopy:lp,onPaste:lp,onBlur:e=>{var l;(null==e?void 0:null===(l=e.relatedTarget)||void 0===l?void 0:l.id)!=="idNo"&&(lb.handleChange(e),lx(e.target.value),eU(!0),e0||lg(e.target.value))},readOnly:e0,maxLength:"15",onFocus:()=>eU(!1),ClearId:"idNo",onClear:()=>lb.setFieldValue("idNo",null),error:lb.touched.idNo&&!!lb.errors.idNo,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:5,children:(0,a.jsx)(p.Z,{endpointId:h.u.IdTypes.qry,name:"idtId",label:lm.id_type,valueField:"recordId",displayField:"name",readOnly:e0&&!ek&&!0,values:lb.values,setData:e6,required:!0,onChange:(e,l)=>{l?lD(l.isDiplomat):lD(""),lb.setFieldValue("idtId",(null==l?void 0:l.recordId)||""),lb.setFieldValue("idtName",(null==l?void 0:l.name)||""),lb.setFieldValue("isResident",(null==l?void 0:l.isResident)||!1)},error:lb.touched.idtId&&!!lb.errors.idtId,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:2,children:(0,a.jsx)($.Z,{onClick:()=>eL({Component:D.Z,props:{clientformik:lb,labels:lm,idTypes:e8,refreshProf:lZ}}),label:lm.fetch,disabled:!!(!(null==lb?void 0:null===(M=lb.values)||void 0===M?void 0:M.idtId)||!(null==lb?void 0:null===(W=lb.values)||void 0===W?void 0:W.birthDate)||!lb.values.idNo||e0&&new Date(null===(E=lb.values)||void 0===E?void 0:E.expiryDate)>=new Date)||!!e0&&!ek})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(v.Z,{name:"expiryDate",label:lm.expiryDate,value:null===(B=lb.values)||void 0===B?void 0:B.expiryDate,readOnly:e0&&!ek&&!0,required:!0,onChange:lb.setFieldValue,onClear:()=>lb.setFieldValue("expiryDate",""),disabledDate:!e0&&"<",error:lb.touched.expiryDate&&!!lb.errors.expiryDate,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(v.Z,{name:"issueDate",label:lm.issueDate,value:null===(ee=lb.values)||void 0===ee?void 0:ee.issueDate,readOnly:e0&&!ek&&!0,required:!0,onChange:lb.setFieldValue,onClear:()=>lb.setFieldValue("issueDate",""),disabledDate:!e0&&">",error:lb.touched.issueDate&&!!lb.errors.issueDate,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(G.Z,{name:"issueDateHijri",label:lm.issueDateHijri,value:null===(el=lb.values)||void 0===el?void 0:el.issueDate,onChange:(e,l)=>{lb.setFieldValue("issueDate",l)},readOnly:e0&&!ek&&!0,disabledDate:!e0&&">",onClear:()=>lb.setFieldValue("issueDate",""),maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(p.Z,{endpointId:g.r.Country.qry,name:"idCountry",label:lm.issusCountry,valueField:"recordId",displayField:["reference","name","flName"],readOnly:e0&&!ek&&!0,displayFieldWidth:1.5,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],values:lb.values,required:!0,onChange:(e,l)=>{l?lb.setFieldValue("idCountry",null==l?void 0:l.recordId):lb.setFieldValue("idCountry",""),lb.setFieldValue("idCity",""),lb.setFieldValue("cityName","")},error:lb.touched.idCountry&&!!lb.errors.idCountry,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(f.U,{endpointId:g.r.City.snapshot,parameters:{_countryId:lb.values.idCountry,_stateId:0},name:"idCity",label:lm.issueCity,form:lb,valueField:"name",displayField:"name",firstValue:lb.values.cityName,secondDisplayField:!1,readOnly:(e0&&!ek||!lb.values.idCountry)&&!0,maxAccess:lh,onChange:(e,l)=>{l?(lb.setFieldValue("idCity",null==l?void 0:l.recordId),lb.setFieldValue("cityName",null==l?void 0:l.name)):(lb.setFieldValue("idCity",null),lb.setFieldValue("cityName",null))},error:lb.touched.idCity&&!!lb.errors.idCity})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(o.Z,{name:"idIssuePlaceCode",label:lm.issusPlace,value:null===(ei=lb.values)||void 0===ei?void 0:ei.idIssuePlaceCode,onChange:lb.handleChange,readOnly:e0&&!ek&&!0,onClear:()=>lb.setFieldValue("idIssuePlaceCode",""),error:lb.touched.idIssuePlaceCode&&!!lb.errors.idIssuePlaceCode,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(o.Z,{name:"firstName",label:lm.first,value:null===(en=lb.values)||void 0===en?void 0:en.firstName,required:!0,onChange:e=>{var l;lb.handleChange(e),lb.setFieldValue("name",e.target.value+" "+(null===(l=lb.values)||void 0===l?void 0:l.lastName))},language:"english",maxLength:"10",readOnly:e0&&!ek&&!0,onClear:()=>lb.setFieldValue("firstName",""),error:lb.touched.firstName&&!!lb.errors.firstName,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(o.Z,{name:"middleName",label:lm.middle,value:null===(et=lb.values)||void 0===et?void 0:et.middleName,onChange:lb.handleChange,language:"english",maxLength:"10",readOnly:e0&&!ek&&!0,onClear:()=>lb.setFieldValue("middleName",""),error:lb.touched.middleName&&!!lb.errors.middleName,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(o.Z,{name:"lastName",label:lm.last,value:null===(ed=lb.values)||void 0===ed?void 0:ed.lastName,required:!0,onChange:e=>{var l;lb.handleChange(e),lb.setFieldValue("name",(null===(l=lb.values)||void 0===l?void 0:l.firstName)+" "+e.target.value)},language:"english",maxLength:"10",readOnly:e0&&!ek&&!0,onClear:()=>lb.setFieldValue("lastName",""),error:lb.touched.lastName&&!!lb.errors.lastName,maxAccess:lh})})]})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsxs)(ey.Z,{container:!0,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(o.Z,{name:"fl_firstName",label:lm.fl_first,value:null===(eo=lb.values)||void 0===eo?void 0:eo.fl_firstName,onChange:lb.handleChange,maxLength:"10",readOnly:e0&&!ek&&!0,dir:"rtl",language:"arabic",onClear:()=>lb.setFieldValue("fl_firstName",""),error:lb.touched.fl_firstName&&!!lb.errors.fl_firstName,helperText:lb.touched.fl_firstName&&lb.errors.fl_firstName,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(o.Z,{name:"fl_middleName",label:lm.fl_middle,value:null===(er=lb.values)||void 0===er?void 0:er.fl_middleName,onChange:lb.handleChange,readOnly:e0&&!ek&&!0,dir:"rtl",language:"arabic",onClear:()=>lb.setFieldValue("fl_familyName",""),error:lb.touched.fl_middleName&&!!lb.errors.fl_middleName,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(o.Z,{name:"fl_lastName",label:lm.fl_last,value:null===(es=lb.values)||void 0===es?void 0:es.fl_lastName,onChange:lb.handleChange,maxLength:"10",dir:"rtl",language:"arabic",readOnly:e0&&!ek&&!0,onClear:()=>lb.setFieldValue("fl_lastName",""),error:lb.touched.fl_lastName&&!!lb.errors.fl_lastName,maxAccess:lh})})]})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(p.Z,{endpointId:g.r.Country.qry,name:"nationalityId",label:lm.nationality,setData:e7,valueField:"recordId",displayField:["reference","name","flName"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],displayFieldWidth:1.5,readOnly:e0&&!ek&&!0,values:lb.values,required:!0,onChange:(e,l)=>{l?(lb.setFieldValue("nationalityId",null==l?void 0:l.recordId),lb.setFieldValue("smsLanguage",null==l?void 0:l.languageId)):(lb.setFieldValue("nationalityId",""),lb.setFieldValue("smsLanguage",""))},error:lb.touched.nationalityId&&!!lb.errors.nationalityId,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(p.Z,{datasetId:N.v.GENDER,name:"gender",label:lm.gender,valueField:"key",displayField:"value",required:!0,readOnly:e0&&!ek&&!0,values:lb.values,onChange:(e,l)=>{lb.setFieldValue("coveredFace",!1),l?lb.setFieldValue("gender",null==l?void 0:l.key):lb.setFieldValue("gender","")},error:lb.touched.gender&&!!lb.errors.gender,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(p.Z,{endpointId:x.d.Profession.qry,filter:(null==e8?void 0:null===(ex=e8.list)||void 0===ex?void 0:null===(eu=ex.filter(e=>e.recordId==lb.values.idtId))||void 0===eu?void 0:null===(ec=eu[0])||void 0===ec?void 0:ec.isDiplomat)?e=>2===e.diplomatStatus:void 0,name:"professionId",label:lm.profession,valueField:"recordId",readOnly:e0&&!ek&&!0,displayField:["reference","name","flName"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],displayFieldWidth:3,values:lb.values,required:!0,onChange:(e,l)=>{l?lb.setFieldValue("professionId",null==l?void 0:l.recordId):lb.setFieldValue("professionId","")},error:lb.touched.professionId&&!!lb.errors.professionId,maxAccess:lh})},e4),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(o.Z,{name:"sponsorName",label:lm.sponsorName,value:null===(ef=lb.values)||void 0===ef?void 0:ef.sponsorName,readOnly:e0&&!ek&&!0,onChange:lb.handleChange,maxLength:"200",onClear:()=>lb.setFieldValue("sponsorName",""),error:lb.touched.sponsorName&&!!lb.errors.sponsorName,maxAccess:lh})})]})})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(u.Z,{children:(0,a.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:3,children:(0,a.jsx)(Q.Z,{name:"otpVerified",value:null===(eg=lb.values)||void 0===eg?void 0:eg.otpVerified,onChange:e=>lb.setFieldValue("otpVerified",e.target.checked),label:null==lm?void 0:lm.OTPVerified,maxAccess:lh,disabled:!0,readOnly:e0&&!0})}),(0,a.jsx)(n.ZP,{item:!0,xs:3,children:(0,a.jsx)(Q.Z,{name:"govCellVerified",value:null===(eC=lb.values)||void 0===eC?void 0:eC.govCellVerified,onChange:e=>lb.setFieldValue("govCellVerified",e.target.checked),label:null==lm?void 0:lm.govCellVerified,maxAccess:lh,disabled:e0&&!ek})}),(0,a.jsx)(n.ZP,{item:!0,xs:3,children:(0,a.jsx)(Q.Z,{name:"coveredFace",value:null===(eN=lb.values)||void 0===eN?void 0:eN.coveredFace,onChange:e=>lb.setFieldValue("coveredFace",e.target.checked),label:null==lm?void 0:lm.coveredFace,maxAccess:lh,disabled:("2"!==lb.values.gender||!!e0)&&(!e0||!ek)})}),(0,a.jsx)(n.ZP,{item:!0,xs:3,children:(0,a.jsx)(Q.Z,{name:"isEmployee",value:null===(eb=lb.values)||void 0===eb?void 0:eb.isEmployee,onChange:e=>lb.setFieldValue("isEmployee",e.target.checked),label:null==lm?void 0:lm.isEmployed,maxAccess:lh,disabled:e0&&!ek&&!0})})]})})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:3,children:(0,a.jsx)($.Z,{onClick:()=>lS(1),label:lm.scanner,color:"primary",disabled:ln||e0&&!ek})}),(0,a.jsx)(n.ZP,{item:!0,xs:3,children:(0,a.jsx)($.Z,{onClick:()=>lS(2),label:lm.digitalId,color:"primary",disabled:!lb.values.idNo||!lb.values.idtId||ln||e0&&!ek})})]})}),li&&(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)("img",{src:"data:image/png;base64,".concat(li),alt:"Id image",style:{width:"100%",height:"95%"}})}),ln&&!li&&(0,a.jsx)(n.ZP,{item:!0,xs:12,textAlign:"center",paddingTop:5,children:(0,a.jsx)(t.Z,{})})]})}),(0,a.jsx)(n.ZP,{item:!0,xs:6,children:(0,a.jsxs)(n.ZP,{container:!0,xs:12,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(u.Z,{title:lm.customerInformation,children:(0,a.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:5,children:(0,a.jsx)(ev,{name:"cellPhone",type:eJ&&(null===(eA=lb.values)||void 0===eA?void 0:eA.cellPhone)?"password":"text",label:lm.cellPhone,value:null===(eR=lb.values)||void 0===eR?void 0:eR.cellPhone,readOnly:e0&&!ek,required:!0,phone:!0,onChange:(e,l)=>{var i;ll(!1),lb.setFieldValue("cellPhone",e),lb.setFieldValue("country",null==l?void 0:l.countryCode),(null===(i=lb.values)||void 0===i?void 0:i.cellPhoneRepeat)===e&&lb.setFieldValue("whatsAppNo",e)},maxLength:"15",autoComplete:"off",onCopy:lp,onPaste:lp,onBlur:e=>{eG(!0),lb.handleBlur(e)},onFocus:e=>{eG(!1)},onClear:e=>lb.setFieldValue("cellPhone",e),error:lb.touched.cellPhone&&!!lb.errors.cellPhone,helperText:lb.touched.cellPhone&&lb.errors.cellPhone,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:5,children:(0,a.jsx)(ev,{name:"cellPhoneRepeat",type:eH&&(null===(eP=lb.values)||void 0===eP?void 0:eP.cellPhoneRepeat)?"password":"text",label:lm.confirmCell,value:null===(eV=lb.values)||void 0===eV?void 0:eV.cellPhoneRepeat,required:!0,readOnly:e0&&!ek,maxLength:"15",autoComplete:"off",phone:!0,onChange:(e,l)=>{var i;ll(!1),lb.setFieldValue("cellPhoneRepeat",e),(null===(i=lb.values)||void 0===i?void 0:i.cellPhone)===e&&lb.setFieldValue("whatsAppNo",e)},onBlur:e=>{eX(!0),lb.handleBlur(e)},onFocus:e=>{eX(!1)},onCopy:lp,onPaste:lp,onClear:e=>lb.setFieldValue("cellPhoneRepeat",e),error:lb.touched.cellPhoneRepeat&&!!lb.errors.cellPhoneRepeat,helperText:lb.touched.cellPhoneRepeat&&lb.errors.cellPhoneRepeat,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:2,children:(0,a.jsx)($.Z,{onClick:lC,label:lm.fetch,color:"primary",disabled:!lb.values.idNo||!lb.values.cellPhone||(null==eB?void 0:eB.some(e=>e.checkId===K.F.CT_DISABLE_MOBILE_VERIFICATION))||e0&&!ek})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(p.Z,{endpointId:g.r.Country.qry,name:"cobId",label:lm.cob,valueField:"recordId",displayField:["reference","name","flName"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],readOnly:e0&&!ek&&!0,displayFieldWidth:1.5,values:lb.values,onChange:(e,l)=>{l?lb.setFieldValue("cobId",null==l?void 0:l.recordId):lb.setFieldValue("cobId","")},error:lb.touched.cobId&&!!lb.errors.cobId,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(p.Z,{endpointId:x.d.SourceOfIncome.qry,name:"incomeSourceId",label:lm.incomeSource,valueField:"recordId",readOnly:e0&&!ek&&!0,displayField:["reference","name","flName"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],displayFieldWidth:1.5,values:lb.values,required:!0,onChange:(e,l)=>{l?lb.setFieldValue("incomeSourceId",null==l?void 0:l.recordId):lb.setFieldValue("incomeSourceId","")},error:lb.touched.incomeSourceId&&!!lb.errors.incomeSourceId,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(p.Z,{endpointId:x.d.SalaryRange.qry,name:"salaryRangeId",label:lm.salaryRange,valueField:"recordId",displayField:["min","->","max"],columnsInDropDown:[{key:"min",value:"min"},{key:"max",value:"max"}],readOnly:e0&&!ek&&!0,values:lb.values,onChange:(e,l)=>{l?lb.setFieldValue("salaryRangeId",null==l?void 0:l.recordId):lb.setFieldValue("salaryRangeId","")},error:lb.touched.salaryRangeId&&!!lb.errors.salaryRangeId,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(p.Z,{datasetId:N.v.LANGUAGE,name:"smsLanguage",label:lm.smsLanguage,valueField:"key",displayField:"value",values:lb.values,required:!0,readOnly:e0&&!ek&&!0,onChange:(e,l)=>{l?lb.setFieldValue("smsLanguage",null==l?void 0:l.key):lb.setFieldValue("smsLanguage","")},error:lb.touched.smsLanguage&&!!lb.errors.smsLanguage,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(o.Z,{name:"whatsAppNo",label:lm.whatsapp,value:null===(eD=lb.values)||void 0===eD?void 0:eD.whatsAppNo,readOnly:e0&&!ek&&!0,onChange:lb.handleChange,maxLength:"15",phone:!0,onClear:()=>lb.setFieldValue("whatsAppNo",""),error:lb.touched.whatsAppNo&&!!lb.errors.whatsAppNo,maxAccess:lh})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)(p.Z,{name:"status",label:lm.status,datasetId:N.v.ACTIVE_STATUS,values:lb.values,valueField:"key",displayField:"value",onChange:(e,l)=>{lb.setFieldValue("status",null==l?void 0:l.key)},readOnly:!0,error:lb.touched.status&&!!lb.errors.status,maxAccess:lh})})]})})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(u.Z,{title:lm.address,children:(0,a.jsx)(c.Z,{labels:lm,defaultReadOnly:{countryId:!0},addressValidation:lb,readOnly:e0&&!ek,access:lh,datasetId:C.i.ADDNationalClientMaster,setFormik:lu})})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:5,children:(0,a.jsx)($.Z,{onClick:()=>{eL({Component:eI.Z,props:{editMode:e0,address:eQ,setAddress:e$,onSubmit:lL,readOnly:e0&&!ek,datasetId:C.i.ADDWorkClientMaster,optional:!0,changeClear:!0,allowPost:!1},title:lm.workAddress})},label:lm.workAddress,color:"primary"})}),(0,a.jsx)(n.ZP,{item:!0,xs:4,children:(0,a.jsx)($.Z,{onClick:()=>eL({Component:ea,props:{readOnly:e0&&!ek,labels:lm,clientFormik:lb,maxAccess:lh,editMode:e0,allowEdit:ek},width:500,height:400,title:lm.moreDetails}),label:lm.moreDetails,color:"primary"})})]})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(u.Z,{title:lm.diplomat,children:(0,a.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(n.ZP,{item:!0,xs:6,children:(0,a.jsx)(Q.Z,{name:"isDiplomat",value:null===(eF=lb.values)||void 0===eF?void 0:eF.isDiplomat,onChange:e=>lb.setFieldValue("isDiplomat",e.target.checked),label:null==lm?void 0:lm.isDiplomat,maxAccess:lh,disabled:((null===(eZ=lb.values)||void 0===eZ?void 0:eZ.isDiplomatReadOnly)||e0&&!ek)&&!0})}),(0,a.jsx)(n.ZP,{item:!0,xs:6,children:(0,a.jsx)(Q.Z,{name:"isRelativeDiplomat",value:null===(eO=lb.values)||void 0===eO?void 0:eO.isRelativeDiplomat,onChange:e=>{lb.handleChange(e),lb.setFieldValue("relativeDiplomatInfo","")},label:null==lm?void 0:lm.isDiplomatRelative,maxAccess:lh,disabled:e0&&!ek})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,children:(0,a.jsx)(o.Z,{name:"relativeDiplomatInfo",label:lm.relativeDiplomatInfo,onBlur:lb.handleBlur,value:null===(ej=lb.values)||void 0===ej?void 0:ej.relativeDiplomatInfo,readOnly:e0||!(null===(eS=lb.values)||void 0===eS?void 0:eS.isRelativeDiplomat),onChange:lb.handleChange,maxLength:"10",required:!!lb.values.isRelativeDiplomat,onClear:()=>lb.setFieldValue("relativeDiplomatInfo",""),error:lb.touched.relativeDiplomatInfo&&!!lb.errors.relativeDiplomatInfo,maxAccess:lh})})]})})})]})})]})})})})};ex.width=1200,ex.height=650;var ef=ex},61084:function(e,l,i){"use strict";i.d(l,{B:function(){return s}});var a=i(52322),n=i(2784),t=i(5088),d=i(65950),o=i(38449);let r=async(e,l,i)=>{let a="_key="+i;try{var n;let i=await e({extension:l,parameters:a});if(null==i?void 0:null===(n=i.record)||void 0===n?void 0:n.value){let l=i.record.value;a="_recordId="+l;let n=await e({extension:o.r.NumberRange.get,parameters:a});if(n&&!n.record.external)return{readOnly:!0,mandatory:!1}}}catch(e){return{readOnly:!1,mandatory:!0,error:e}}return{readOnly:!1,mandatory:!0}},s=e=>{let{endpointId:l,param:i="",setReferenceRequired:o,editMode:s,...c}=e,{getRequest:u}=(0,n.useContext)(d.$),[v,m]=(0,n.useState)({readOnly:!1,mandatory:!0});return(0,n.useEffect)(()=>{o(!0);let e=async()=>{let e=await r(u,l,i);e.error||(m({readOnly:e.readOnly,mandatory:e.mandatory}),o(e.mandatory))};s?(o(!1),m({readOnly:!0,mandatory:!1})):e()},[i]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(t.Z,{required:v.mandatory,readOnly:s||v.readOnly,...c})})}},83715:function(e){e.exports={phoneWrapper:"CustomPhoneNumber_phoneWrapper__VZqha",phoneLabel:"CustomPhoneNumber_phoneLabel__BuM0W",errorLabel:"CustomPhoneNumber_errorLabel__FoINr",phoneLabelRequired:"CustomPhoneNumber_phoneLabelRequired__Z5q83",phoneContainer:"CustomPhoneNumber_phoneContainer__rzZq0","react-tel-input":"CustomPhoneNumber_react-tel-input__n9G_N","flag-dropdown":"CustomPhoneNumber_flag-dropdown__lq2jJ","selected-flag":"CustomPhoneNumber_selected-flag__uw0Xx",flag:"CustomPhoneNumber_flag__r6NEo",arrow:"CustomPhoneNumber_arrow__yyOXJ","special-label":"CustomPhoneNumber_special-label__qkwDd",phoneClearButton:"CustomPhoneNumber_phoneClearButton__MgdOp",phoneClearIcon:"CustomPhoneNumber_phoneClearIcon__ggAfY","form-control":"CustomPhoneNumber_form-control__kdhs0",phoneDropdown:"CustomPhoneNumber_phoneDropdown__98Qtk"}}}]);