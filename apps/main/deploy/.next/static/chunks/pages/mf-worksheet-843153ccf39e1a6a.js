(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57668],{33855:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mf-worksheet",function(){return a(61531)}])},61531:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var r=a(52322),n=a(2784),s=a(62202),i=a(69387),d=a(65950),o=a(71987),l=a(26612),c=a(31389),f=a(33625),u=a(62362),m=a(61802),p=a(19473),h=a(90587),x=a(98434),_=a(36908),N=a(98345),y=a(7121),g=()=>{let{getRequest:e,postRequest:t}=(0,n.useContext)(d.$),{platformLabels:a}=(0,n.useContext)(p.l),[g,w]=(0,n.useState)(""),{stack:k}=(0,m.zY)();async function b(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:r=50,params:n=[]}=t;return{...await e({extension:h.u.Worksheet.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(r,"&_filter=&_params=").concat(n)}),_startAt:a}}let{query:{data:A},filterBy:I,refetch:j,labels:W,access:C,paginationParameters:E,invalidate:q}=(0,o.J)({queryFn:b,endpointId:h.u.Worksheet.page,datasetId:l.i.Worksheet,filter:{filterFn:S}});async function S(t){let{filters:a,pagination:r={}}=t,{_startAt:n=0,_size:s=50}=r;return a.qry?{...await e({extension:h.u.Worksheet.snapshot,parameters:"_filter=".concat(a.qry,"&_startAt=").concat(n,"&_size=").concat(s)}),_startAt:n}:b({_startAt:r._startAt||0,params:null==a?void 0:a.params})}let v=[{field:"reference",headerName:W.reference,flex:1},{field:"date",headerName:W.date,flex:1,type:"date"},{field:"jobRef",headerName:W.jobOrder,flex:1},{field:"designRef",headerName:W.designRef,flex:1},{field:"wcName",headerName:W.workCenter,flex:1},{field:"laborName",headerName:W.labor,flex:1},{field:"pcs",headerName:W.pieces,flex:1,type:"number"},{field:"qty",headerName:W.firstQty,flex:1,type:"number"},{field:"eopQty",headerName:W.endQty,flex:1,type:"number"},{field:"pgItemName",headerName:W.pgItem,flex:1},{field:"statusName",headerName:W.status,flex:1}],{proxyAction:z}=(0,N.G)({functionId:y.J.Worksheet,action:O});function O(e){k({Component:x.Z,props:{recordId:null==e?void 0:e.recordId}})}let P=async e=>{await t({extension:h.u.Worksheet.del,record:JSON.stringify(e)}),q(),s.ZP.success(a.Deleted)};return(0,r.jsxs)(c.R,{children:[(0,r.jsx)(f.g,{children:(0,r.jsx)(_.Z,{onAdd:()=>{z()},maxAccess:C,filterBy:I,reportName:"MFWST"})}),(0,r.jsx)(u.Q,{children:(0,r.jsx)(i.Z,{name:"table",columns:v,gridData:A,rowId:["recordId"],onEdit:e=>{O(e)},onDelete:P,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:E,refetch:j,maxAccess:C})})]})}}},function(e){e.O(0,[92515,2494,36908,74550,98434,49774,92888,40179],function(){return e(e.s=33855)}),_N_E=e.O()}]);