(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43302],{78258:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/salesPersonDashboard",function(){return s(59125)}])},59125:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return r.Z}});var r=s(23371)},23371:function(e,a,s){"use strict";s.d(a,{Z:function(){return S}});var r=s(52322),i=s(2784),n=s(65950),t=s(57590),l=s(21744),o=s.n(l);let c=e=>{let{number:a,name:s,isPercentage:i=!1}=e;return(0,r.jsxs)("div",{className:o().circleItemContainer,children:[(0,r.jsx)("div",{className:o().circleIcon,children:(0,r.jsxs)("div",{className:o().circleIconContent,children:[a,i?"%":""]})}),(0,r.jsx)("span",{className:o().span,children:s})]})};var d=s(59301),m=s.n(d);let _=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),u=e=>{let{data:a,list:s}=e;return(0,r.jsx)("div",{className:m().circleContainer,children:s.map((e,s)=>(0,r.jsx)(c,{name:e.name,number:_(a[e.key].toFixed(0)),isPercentage:e.isPercentage},s))})};var p=s(13781),v=s(54982),g=s.n(v),h=e=>{let{label:a,percentage:s}=e;return(0,r.jsxs)("div",{className:g().progressBarContainer,children:[(0,r.jsxs)("span",{className:g().progressBarLabel,children:[a,":"]}),(0,r.jsxs)("span",{className:g().progressBarLabel,children:[s.toFixed(0),"%"]}),(0,r.jsx)("div",{className:g().progressBarBackground,children:(0,r.jsx)("div",{className:g().progressBar,style:{width:"".concat(s,"%")}})})]})},x=s(96422),T=s.n(x),C=e=>{let{data:a,label:s}=e;return(0,r.jsxs)("div",{className:T().timelineWrapper,children:[(0,r.jsx)("h2",{className:T().timelineTitle,children:s}),(0,r.jsxs)("div",{className:T().timelineContainer,children:[(0,r.jsx)("div",{className:T().timelineArrow}),a.map((e,a)=>(0,r.jsxs)("div",{className:T().timelineItem,children:[a%2==0?(0,r.jsx)("div",{className:"".concat(T().timelineContent," ").concat(T().timelineContentTop),children:e.spRef}):(0,r.jsx)("div",{className:"".concat(T().timelineContent," ").concat(T().timelineContentBottom),children:e.spRef}),(0,r.jsx)("div",{className:T().timelineIcon})]},a))]})]})},j=s(26612),b=s(50023),y=s(31428),f=s.n(y);let N=e=>{let{imageUrl:a}=e;return(0,r.jsxs)("div",{className:f().avatar,children:[(0,r.jsx)("div",{className:f().circle}),(0,r.jsx)("div",{className:f().circle}),(0,r.jsx)("div",{className:f().pic,style:{backgroundImage:"url(".concat(a,")")}})]})};var S=()=>{let{labels:e}=(0,b.Z)({datasetId:j.i.UserDashboard}),{getRequest:a}=(0,i.useContext)(n.$),[s,l]=(0,i.useState)({imageUrl:"",myYearlyGrowthInUnitsSoldList:[],myYearlyGrowthInClientsAcquiredList:[],pctToTarget:0,unitsSold:0,performanceVsTeamAverage:0,receivables:0,teamPctToTarget:0,newClientsAcquired:0,distanceToNextCommissionLeg:0,commissionAcquired:0,name:"",teamRace:[],aging:[]}),[o,c]=(0,i.useState)({pctToTarget:0,teamPctToTarget:0});(0,i.useEffect)(()=>{d()},[]),(0,i.useEffect)(()=>{(s.pctToTarget>0||s.teamPctToTarget>0)&&c({pctToTarget:s.pctToTarget,teamPctToTarget:s.teamPctToTarget})},[s.pctToTarget,s.teamPctToTarget]);let d=()=>{a({extension:t.T.SalesPersonDashboard.spDB}).then(e=>{var a,s,r,i,n,t,o,c,d,m,_,u,p,v,g;l({imageUrl:(null===(a=e.record)||void 0===a?void 0:a.imageUrl)||"",myYearlyGrowthInUnitsSoldList:(null===(s=e.record)||void 0===s?void 0:s.myYearlyGrowthInUnitsSoldList)||[],myYearlyGrowthInClientsAcquiredList:(null===(r=e.record)||void 0===r?void 0:r.myYearlyGrowthInClientsAcquiredList)||[],pctToTarget:(null===(i=e.record)||void 0===i?void 0:i.pctToTarget)||0,unitsSold:(null===(n=e.record)||void 0===n?void 0:n.unitsSold)||0,performanceVsTeamAverage:(null===(t=e.record)||void 0===t?void 0:t.performanceVsTeamAverage)||0,teamPctToTarget:(null===(o=e.record)||void 0===o?void 0:o.teamPctToTarget)||0,newClientsAcquired:(null===(c=e.record)||void 0===c?void 0:c.newClientsAcquired)||0,distanceToNextCommissionLeg:(null===(d=e.record)||void 0===d?void 0:d.distanceToNextCommissionLeg)||0,commissionAcquired:(null===(m=e.record)||void 0===m?void 0:m.commissionAcquired)||0,receivables:(null===(_=e.record)||void 0===_?void 0:_.receivables)||0,name:(null===(p=e.record)||void 0===p?void 0:null===(u=p.salesPerson)||void 0===u?void 0:u.name)||"",teamRace:(null===(v=e.record)||void 0===v?void 0:v.teamRace)||[],aging:(null===(g=e.record)||void 0===g?void 0:g.aging)||[]})})},m=[{name:e.unitsSold,key:"unitsSold"},{name:e.newClientsAcquired,key:"newClientsAcquired"},{name:e.receivables,key:"receivables"}],_=[{name:e.distanceToNextCommissionLeg,key:"distanceToNextCommissionLeg"},{name:e.commissionAcquired,key:"commissionAcquired"}];return(0,r.jsx)("div",{className:f().frame,children:(0,r.jsxs)("div",{className:f().card,children:[(0,r.jsxs)("div",{className:f().bodyCard,children:[(0,r.jsxs)("div",{className:f().sideData,children:[(0,r.jsx)("div",{className:f().dataHalf,children:(0,r.jsx)(u,{data:s,list:m})}),(0,r.jsx)("div",{className:f().dataHalf,children:(0,r.jsx)("div",{className:f().compositeBarContainer,children:(0,r.jsx)(p.x3,{labels:Object.keys(s.aging),data:Object.values(s.aging),label:e.aging})})})]}),(0,r.jsxs)("div",{className:f().sideData,children:[(0,r.jsxs)("div",{className:f().profile,children:[(0,r.jsx)(N,{imageUrl:s.imageUrl}),(0,r.jsx)("span",{className:"".concat(f().span," ").concat(f().big),children:s.name})]}),(0,r.jsx)("div",{className:f().dataHalf,children:(0,r.jsx)(u,{data:s,list:_})})]}),(0,r.jsxs)("div",{className:f().sideData,children:[(0,r.jsx)("div",{className:f().dataHalf,children:(0,r.jsx)("div",{className:f().compositeBarContainer,children:(0,r.jsx)(p.x3,{labels:s.myYearlyGrowthInUnitsSoldList.map(e=>e.year),data:s.myYearlyGrowthInUnitsSoldList.map(e=>e.qty),label:e.unitsSold})})}),(0,r.jsx)("div",{className:f().dataHalf,children:(0,r.jsx)("div",{className:f().compositeBarContainer,children:(0,r.jsx)(p.x3,{labels:s.myYearlyGrowthInClientsAcquiredList.map(e=>e.year),data:s.myYearlyGrowthInClientsAcquiredList.map(e=>e.qty),label:e.clientsAcquired})})}),(0,r.jsx)("div",{className:f().dataHalf,children:(0,r.jsxs)("div",{className:f().progressBarsWrapper,children:[(0,r.jsx)(h,{label:e.percentageToTarget,percentage:o.pctToTarget}),(0,r.jsx)(h,{label:e.teamPercentageToTarget,percentage:o.teamPctToTarget})]})})]})]}),(0,r.jsx)("div",{className:f().footerCard,children:(0,r.jsx)("div",{className:f().sideData,children:(0,r.jsx)("div",{className:f().dataHalf,children:(0,r.jsx)(C,{data:s.teamRace,label:e.teamRace})})})})]})})}},57590:function(e,a,s){"use strict";s.d(a,{T:function(){return i}});let r="DB.asmx/",i={dashboard:r+"dashboard",SalesPersonDashboard:{spDB:r+"spDB"}}},31428:function(e){e.exports={frame:"SalesPersonDashboardStyles_frame__qy0oJ",card:"SalesPersonDashboardStyles_card__bdgl4",bodyCard:"SalesPersonDashboardStyles_bodyCard__LvIyB",footerCard:"SalesPersonDashboardStyles_footerCard__f1SUs",sideData:"SalesPersonDashboardStyles_sideData__RGMfs",dataHalf:"SalesPersonDashboardStyles_dataHalf__6r6jj",profile:"SalesPersonDashboardStyles_profile___q7oT",avatar:"SalesPersonDashboardStyles_avatar__F_Vgn",circle:"SalesPersonDashboardStyles_circle__Fybzy",pic:"SalesPersonDashboardStyles_pic__d9cKG",span:"SalesPersonDashboardStyles_span__dVVvK",big:"SalesPersonDashboardStyles_big__jEI0p",compositeBarContainer:"SalesPersonDashboardStyles_compositeBarContainer__SgIQT",progressBarsWrapper:"SalesPersonDashboardStyles_progressBarsWrapper___ZK5U"}},96422:function(e){e.exports={timelineWrapper:"HorizontalTimeline_timelineWrapper__A6fHE",timelineTitle:"HorizontalTimeline_timelineTitle__qRbU_",timelineContainer:"HorizontalTimeline_timelineContainer__1BIf8",timelineArrow:"HorizontalTimeline_timelineArrow__Ix_kH",timelineItem:"HorizontalTimeline_timelineItem__c4eTQ",timelineContent:"HorizontalTimeline_timelineContent__sqf7I",timelineContentTop:"HorizontalTimeline_timelineContentTop___IfZ9",timelineContentBottom:"HorizontalTimeline_timelineContentBottom__WykRc",timelineIcon:"HorizontalTimeline_timelineIcon__z8PRk"}},54982:function(e){e.exports={progressBarContainer:"ProgressBar_progressBarContainer__SGz7z",progressBarLabel:"ProgressBar_progressBarLabel__0g9Bh",progressBarBackground:"ProgressBar_progressBarBackground__CGHcR",progressBar:"ProgressBar_progressBar__AQblq"}},59301:function(e){e.exports={circleContainer:"CircularData_circleContainer__ZPh5G"}},21744:function(e){e.exports={span:"CircularItem_span__WNdV0",big:"CircularItem_big___ALy_",small:"CircularItem_small__cbfZ0",circleItemContainer:"CircularItem_circleItemContainer__ScS0f",circleIcon:"CircularItem_circleIcon__5BTf7",circleIconContent:"CircularItem_circleIconContent__joWLd"}}},function(e){e.O(0,[96767,86558,13781,49774,92888,40179],function(){return e(e.s=78258)}),_N_E=e.O()}]);