(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25375],{17262:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/id-types",function(){return a(13681)}])},13681:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var s=a(52322),r=a(2784),l=a(62202),n=a(69387),i=a(27723),d=a(65950),o=a(26612),c=a(29326),u=a(9522),m=a(60218),p=a(48601),y=a(5088),h=a(82737),g=a(8661),x=a(71987);a(39812);var C=a(24074),I=a(84100),f=a(80983),v=a(19473),b=a(19689),q=e=>{var t,a;let{labels:n,editMode:i,maxAccess:c,setEditMode:u,setStore:q,store:F}=e,{postRequest:_,getRequest:P}=(0,r.useContext)(d.$),{recordId:T}=F,{platformLabels:R}=(0,r.useContext)(v.l),E=(0,x.E)({endpointId:C.u.IdTypes.qry}),{formik:S}=(0,f.c)({maxAccess:c,validateOnChange:!0,initialValues:{recordId:null,name:null,flName:null,format:null,length:null,category:null,clientFileExpiryType:null,clientFileLifeTime:null,type:null,isDiplomat:!1,isResident:!1},validate:e=>{let t={};return(null==e?void 0:e.type)!=="1"||e.clientFileLifeTime||(t.clientFileLifeTime=" "),t},validationSchema:p.Ry({name:p.Z_().required(),format:p.Z_().required(),length:p.Z_().required(),category:p.Z_().required(),clientFileExpiryType:p.Z_().required(),isDiplomat:p.Z_().required()}),onSubmit:async e=>{await Z(e)}}),Z=async e=>{let t=(null==e?void 0:e.recordId)||"";await _({extension:C.u.IdTypes.set,record:JSON.stringify(e)}).then(a=>{t?(l.ZP.success(R.Edited),q(t=>({...t,name:e.name}))):(u(!0),q(t=>({...t,recordId:a.recordId,name:e.name})),l.ZP.success(R.Added)),E()})};(0,r.useEffect)(()=>{T&&A(T)},[T]);let A=e=>{P({extension:C.u.IdTypes.get,parameters:"_recordId=".concat(e)}).then(e=>{let t=e.record;S.setValues({...t,isResident:t.isResident||!1}),q(e=>({...e,recordId:t.recordId,name:t.name})),u(!0)})};return(0,s.jsx)(h.Z,{form:S,resourceId:o.i.IdTypes,maxAccess:c,editMode:i,children:(0,s.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(y.Z,{name:"name",label:n.name,value:S.values.name,required:!0,maxLength:"50",maxAccess:c,onChange:S.handleChange,onClear:()=>S.setFieldValue("name",""),error:S.touched.name&&!!S.errors.name})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(y.Z,{name:"flName",label:n.flName,value:S.values.flName,maxAccess:c,onChange:S.handleChange,onClear:()=>S.setFieldValue("flName",""),error:S.touched.flName&&!!S.errors.flName})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(y.Z,{name:"format",label:n.format,value:S.values.format,required:!0,maxLength:"20",maxAccess:c,onChange:S.handleChange,onClear:()=>S.setFieldValue("format",""),error:S.touched.format&&!!S.errors.format})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(y.Z,{name:"length",label:n.length,value:S.values.length,required:!0,type:"number",minLength:"1",maxLength:"10",maxAccess:c,onChange:S.handleChange,onClear:()=>S.setFieldValue("length",""),error:S.touched.length&&!!S.errors.length})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(g.Z,{datasetId:I.v.ID_CATEGORY,name:"category",label:n.category,required:!0,valueField:"key",displayField:"value",values:S.values,onChange:(e,t)=>{S.setFieldValue("type",""),S&&S.setFieldValue("category",parseInt(null==t?void 0:t.key))},error:S.touched.category&&!!S.errors.category})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(g.Z,{datasetId:I.v.FILE_EMPIRY_TYPE,name:"clientFileExpiryType",label:n.clientFileExpiryType,required:!0,valueField:"key",displayField:"value",values:S.values,onChange:(e,t)=>{S&&S.setFieldValue("type",null==t?void 0:t.key),S&&S.setFieldValue("clientFileExpiryType",null==t?void 0:t.key)},error:S.touched.clientFileExpiryType&&!!S.errors.clientFileExpiryType})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(y.Z,{name:"clientFileLifeTime",label:n.clientFileLifeTime,value:S.values.clientFileLifeTime,required:"1"===S.values.clientFileExpiryType,readOnly:"1"!==S.values.clientFileExpiryType,onChange:S.handleChange,maxLength:"10",maxAccess:c,onClear:()=>S.setFieldValue("clientFileLifeTime",""),error:S.touched.clientFileLifeTime&&!!S.errors.clientFileLifeTime})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(g.Z,{datasetId:I.v.ID_TYPE,name:"type",label:n.type,required:1===S.values.category,readOnly:1!==S.values.category,valueField:"key",displayField:"value",values:S.values,onChange:(e,t)=>{S&&S.setFieldValue("type",null==t?void 0:t.key)},error:S.touched.type&&!!S.errors.type})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(b.Z,{name:"isDiplomat",value:null===(t=S.values)||void 0===t?void 0:t.isDiplomat,onChange:e=>S.setFieldValue("isDiplomat",e.target.checked),label:n.isDiplomat,maxAccess:c})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(b.Z,{name:"isResident",value:null===(a=S.values)||void 0===a?void 0:a.isResident,onChange:e=>S.setFieldValue("isResident",e.target.checked),label:n.isResident,maxAccess:c})})]})})},F=a(76399),_=e=>{let{store:t,setStore:a,labels:n,editMode:i,height:c,expanded:u,maxAccess:m}=e,{getRequest:y,postRequest:g}=(0,r.useContext)(d.$),{recordId:x}=t,{platformLabels:b}=(0,r.useContext)(v.l),{formik:q}=(0,f.c)({maxAccess:m,validateOnChange:!0,validationSchema:p.Ry({IdField:p.IX().of(p.Ry().shape({accessLevel:p.Z_().required(" ")})).required(" ")}),initialValues:{IdField:[{id:1,idtId:x,accessLevel:null,accessLevel:null,accessLevelName:"",controlId:""}]},onSubmit:async e=>{await _(e.IdField)}}),_=async e=>{let t={idtId:x,items:e.map(e=>{let{accessLevel:t,controlId:a}=e;return{idtId:x,accessLevel:Number(t),controlId:a}})};await g({extension:C.u.IdFields.set2,record:JSON.stringify(t)}).then(e=>{l.ZP.success(b.Edited)}).catch(e=>{})},P=[{component:"textfield",label:n.control,name:"controlId",mandatory:!0},{component:"resourcecombobox",label:n.accessLevel,name:"accessLevel",props:{datasetId:I.v.AU_RESOURCE_CONTROL_ACCESS_LEVEL,valueField:"key",displayField:"value",mapping:[{from:"value",to:"accessLevelName"},{from:"key",to:"accessLevel"}]}}];(0,r.useEffect)(()=>{x&&T(x)},[x]);let T=e=>{y({extension:C.u.IdFields.qry,parameters:"_idtId=".concat(e)}).then(e=>{if(e.list.length>0){let t=e.list.map((e,t)=>{let{accessLevel:a,...s}=e;return{id:t,accessLevel:a.toString(),...s}});q.setValues({IdField:t}),a(e=>({...e,IdField:t}))}}).catch(e=>{})};return(0,s.jsx)(h.Z,{form:q,resourceId:o.i.IdTypes,maxAccess:m,isInfo:!1,editMode:i,isParentWindow:!1,children:(0,s.jsx)(F._,{onChange:e=>q.setFieldValue("IdField",e),value:q.values.IdField,error:q.errors.IdField,columns:P})})},P=a(89119),T=e=>{let{height:t,recordId:a,labels:l,maxAccess:n,expanded:i}=e,[d,m]=(0,r.useState)(0),[p,y]=(0,r.useState)(a),[h,g]=(0,r.useState)({recordId:a||null,IdField:null,name:""}),x=[{label:l.main},{label:l.idFields,disabled:!h.recordId},{label:l.interface,disabled:!h.recordId}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Y,{tabs:x,activeTab:d,setActiveTab:m,maxAccess:n}),(0,s.jsx)(c.Z,{height:t,index:0,value:d,maxAccess:n,children:(0,s.jsx)(q,{labels:l,setEditMode:y,setStore:g,store:h,editMode:p,maxAccess:n})}),(0,s.jsx)(c.Z,{height:t,index:1,value:d,maxAccess:n,children:(0,s.jsx)(_,{store:h,setStore:g,labels:l,maxAccess:n,height:t,expanded:i,editMode:p})}),(0,s.jsx)(c.Z,{height:t,index:2,value:d,maxAccess:n,children:(0,s.jsx)(P.V,{recordId:h.recordId,resourceId:o.i.IdTypes,name:h.name,expanded:i,height:t})})]})},R=a(61802),E=a(31389),S=a(33625),Z=a(62362),A=()=>{let{getRequest:e,postRequest:t}=(0,r.useContext)(d.$),{stack:a}=(0,R.zY)(),{platformLabels:c}=(0,r.useContext)(v.l),{query:{data:u},labels:m,paginationParameters:p,invalidate:y,refetch:h,access:g}=(0,x.J)({queryFn:I,endpointId:C.u.IdTypes.qry,datasetId:o.i.IdTypes});async function I(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:s=50}=t,r="_startAt=".concat(a,"&_pageSize=").concat(s);return{...await e({extension:C.u.IdTypes.page,parameters:r})}}let f=[{field:"name",headerName:m.name,flex:1},{field:"flName",headerName:m.flName,flex:1},{field:"format",headerName:m.format,flex:1},{field:"length",headerName:m.length,flex:1}];function b(e){a({Component:T,props:{labels:m,recordId:e||null,maxAccess:g},width:600,height:650,title:m.idTypes})}return(0,s.jsxs)(E.R,{children:[(0,s.jsx)(S.g,{children:(0,s.jsx)(i.Z,{onAdd:()=>{b()},maxAccess:g})}),(0,s.jsx)(Z.Q,{children:(0,s.jsx)(n.Z,{columns:f,gridData:u,rowId:["recordId"],paginationParameters:p,paginationType:"api",refetch:h,onEdit:e=>{b(null==e?void 0:e.recordId)},onDelete:e=>{t({extension:C.u.IdTypes.del,record:JSON.stringify(e)}).then(e=>{l.ZP.success(c.Deleted),y()})},isLoading:!1,pageSize:50,maxAccess:g})})]})}},53621:function(e,t,a){"use strict";a.d(t,{d:function(){return r}});let s="RTSET.asmx/",r={Interface:{qry:s+"qryITF",page:s+"pageITF",get:s+"getITF",set:s+"setITF",del:s+"delITF"},ProductMaster:{qry:s+"qryPRO",page:s+"pagePRO",get:s+"getPRO",set:s+"setPRO",del:s+"delPRO",snapshot:s+"snapshotPRO"},ProductCountries:{qry:s+"qryPCO",set2:s+"set2PCO"},ProductMonetaries:{qry:s+"qryPMO",set2:s+"set2PMO"},ProductDispersal:{qry:s+"qryPDI",get:s+"getPDI",set:s+"setPDI",del:s+"delPDI"},ProductSchedules:{qry:s+"qryPSC",set2:s+"set2PSC"},ProductScheduleRanges:{qry:s+"qryPSR",set2:s+"set2PSR"},ProductScheduleFees:{qry:s+"qryPSF",set2:s+"set2PSF"},ProductDispersalAgents:{qry:s+"qryPDA",set2:s+"set2PDA"},Correspondent:{page:s+"pageCOR",qry:s+"qryCOR",qry2:s+"qry2COR",get:s+"getCOR",set:s+"setCOR",del:s+"delCOR",snapshot:s+"snapshotCOR"},CorrespondentCountry:{qry:s+"qryCCO",get:s+"getCCO",set2:s+"set2CCO",del:s+"delCCO"},CorrespondentCurrency:{qry:s+"qryCCU",get:s+"getCCU",set2:s+"set2CCU",del:s+"delCCU"},CorrespondentAgents:{qry:s+"qryAGT",page:s+"pageAGT",get:s+"getAGT",set:s+"setAGT",del:s+"delAGT"},CorrespondentAgentBranches:{qry:s+"qryABR",page:s+"pageABR",get:s+"getABR",set:s+"setABR",del:s+"delABR"},CorrespondentExchangeMap:{qry:s+"qryEXC",set2:s+"set2EXC"},CurrencyExchangeMap:{qry:s+"qryEXG",set2:s+"set2EXG"},CorrespondentExchangeBuyMap:{qry:s+"qryEXB",set2:s+"set2EXB"},ExchangeRates:{get:s+"getEXB",qry:s+"qryEXG2",set2:s+"set2EXB"},RtDefault:{qry:s+"qryDE",set2:s+"set2DE"},Profession:{qry:s+"qryPFN",page:s+"pagePFN",get:s+"getPFN",set:s+"setPFN",del:s+"delPFN",snapshot:s+"snapshotPFN"},ClientIndividual:{qry:s+"qryCLI"},SalaryRange:{qry:s+"qrySRA",page:s+"pageSRA",get:s+"getSRA",set:s+"setSRA",del:s+"delSRA"},SourceOfIncome:{qry:s+"qrySI",page:s+"pageSI",snapshot:s+"snapshotSI",get:s+"getSI",set:s+"setSI",del:s+"delSI"},CorrespondentControl:{qry:s+"qryCCL",set:s+"set2CCL"},InterfaceMaps:{qry:s+"qryIFM",get:s+"getIFM",set2:s+"set2IFM"},SourceOfIncomeType:{qry:s+"qrySIT",snapshot:s+"snapshotSIT",page:s+"pageSIT",get:s+"getSIT",set:s+"setSIT",del:s+"delSIT"},ProfessionGroups:{qry:s+"qryPFG",page:s+"pagePFG",snapshot:s+"snapshotPFG",get:s+"getPFG",set:s+"setPFG",del:s+"delPFG"},CorrespondentGroup:{qry:s+"qryCGP",page:s+"pageCGP",get:s+"getCGP",set:s+"setCGP",del:s+"delCGP"},ExtraIncome:{qry:s+"qryEI",get:s+"getEI",del:s+"delEI",page:s+"pageEI",snapshot:s+"snapshotEI",set:s+"setEI"},CountryRisk:{page:s+"pageCOU",get:s+"getCOU",set:s+"setCOU",del:s+"delCOU"},CorDispControl:{qry:s+"qryCDC",set2:s+"set2CDC"},CorrespondentDispersal:{qry:s+"qryCDM",get:s+"getCDM",del:s+"delCDM",set2:s+"set2CDM"},CorrespondentDispersalRate:{qry:s+"qryCDR",set2:s+"set2CDR"}}},29326:function(e,t,a){"use strict";var s=a(52322);a(2784);var r=a(23925),l=a(13980),n=a.n(l),i=a(95291),d=a.n(i),o=a(65947);let c=e=>{var t,a,l;let{children:n,value:i,index:c,maxAccess:u,...m}=e,p="".concat(e.name||"tab",".").concat(c),{accessLevel:y}=null!==(l=(null!==(a=null==u?void 0:null===(t=u.record)||void 0===t?void 0:t.controls)&&void 0!==a?a:[]).find(e=>e.controlId===p))&&void 0!==l?l:{accessLevel:0};if(y===o.A1)return null;let h=i===c;return(0,s.jsx)(r.Z,{role:"tabpanel",hidden:!h,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c),className:"".concat(d().tabPanel," ").concat(h?d().active:d().hidden),...m,children:n})};c.propTypes={children:n().node,index:n().number.isRequired,value:n().number.isRequired},t.Z=c},9522:function(e,t,a){"use strict";a.d(t,{Y:function(){return m}});var s=a(52322),r=a(23925),l=a(54582),n=a(68696),i=a(44258),d=a(2784),o=a(99266),c=a(52614),u=a.n(c);let m=e=>{var t,a,c,m,p;let{tabs:y,activeTab:h,setActiveTab:g,maxAccess:x,name:C="tab"}=e,I=(null==x?void 0:null===(a=x.record)||void 0===a?void 0:null===(t=a.controls)||void 0===t?void 0:t.filter(e=>{var t;return 4===e.accessLevel&&(null===(t=e.controlId)||void 0===t?void 0:t.startsWith("".concat(C,".")))}).map(e=>e.controlId.split(".")[1]))||[],f=null==y?void 0:null===(c=y.map((e,t)=>({...e,id:t})))||void 0===c?void 0:c.filter((e,t)=>!I.includes(String(t))),v=null===(m=f[h])||void 0===m?void 0:m.id,b=null===(p=f[h])||void 0===p?void 0:p.disabled;return(0,d.useEffect)(()=>{v>=0&&!b&&h!=v&&g(v)},[]),(0,s.jsx)(r.Z,{className:u().tabsContainer,children:(0,s.jsx)(r.Z,{className:u().tabsWrapper,children:(0,s.jsx)(l.Z,{value:h,onChange:(e,t)=>g(t),variant:"scrollable",scrollButtons:f.length>3?"auto":"off","aria-label":"scrollable tabs",classes:{indicator:u().tabsIndicator},className:u().tabs,children:null==f?void 0:f.map(e=>(0,s.jsx)(n.Z,{value:e.id,disabled:null==e?void 0:e.disabled,className:"".concat(u().tabName," ").concat(e.disabled?u().tabDisabled:""),classes:{root:u().tabRoot,selected:u().selectedTab},label:(0,s.jsxs)(r.Z,{display:"flex",alignItems:"center",children:[(0,s.jsx)("span",{children:e.label}),e.id===h&&(null==e?void 0:e.onRefetch)&&(0,s.jsx)(i.Z,{size:"small",className:u().refreshButton,onClick:t=>{t.stopPropagation(),e.onRefetch()},children:(0,s.jsx)(o.Z,{className:u().refreshIcon})})]})},e.id))})})})}},89119:function(e,t,a){"use strict";a.d(t,{V:function(){return I}});var s=a(52322),r=a(2784),l=a(65950),n=a(49864),i=a(50023),d=a(26612),o=a(62202),c=a(76399),u=a(80983),m=a(84100),p=a(53621),y=a(80968),h=a(5088),g=a(62362),x=a(31389),C=a(54074);let I=e=>{let{recordId:t,resourceId:a,name:I}=e,{getRequest:f,postRequest:v}=(0,r.useContext)(l.$),{getAllKvsByDataset:b}=(0,r.useContext)(y.k),{labels:q,access:F}=(0,i.Z)({datasetId:d.i.InterfaceMap,editMode:!!t}),{formik:_}=(0,u.c)({initialValues:{rows:[{id:1,recordId:t,resourceId:d.i.resourceId,interfaceId:"",interfaceName:"",reference:""}]},validateOnChange:!0,onSubmit:async e=>{let s=_.values.rows.map(e=>({recordId:t,resourceId:a,...e})),r=s.every(e=>""===e.interfaceId);(await v({extension:p.d.InterfaceMaps.set2,record:JSON.stringify({recordId:t,resourceId:a,items:r?[]:s})})).recordId&&o.ZP.success("Record Successfully")}});async function P(){return new Promise((e,t)=>{b({_dataset:m.v.ALL_INTERFACES,callback:a=>{a?e(a):t()}})})}(0,r.useEffect)(()=>{!async function(){if(t){let e=await P(),s=await f({extension:p.d.InterfaceMaps.qry,parameters:"_recordId=".concat(t,"&_resourceId=").concat(a)}),r=e.map(e=>{let t={interfaceId:e.key,interfaceName:e.value,reference:""},a=s.list.find(e=>t.interfaceId==e.interfaceId);return a&&(t.reference=a.reference),t});_.setValues({..._.values,rows:r.map((e,t)=>({...e,id:t+1}))})}}()},[t]);let T=[{component:"resourcecombobox",label:q.interface,name:"interfaceId",props:{readOnly:!0,datasetId:m.v.ALL_INTERFACES,valueField:"key",displayField:"value",displayFieldWidth:2,mapping:[{from:"key",to:"interfaceId"},{from:"value",to:"interfaceName"}]}},{component:"textfield",label:q.reference,name:"reference"}];return(0,s.jsx)(C.Z,{onSave:_.handleSubmit,maxAccess:F,editMode:!0,children:(0,s.jsx)(x.R,{children:(0,s.jsxs)(g.Q,{children:[(0,s.jsx)(n.Z,{sx:{width:"50%"},children:(0,s.jsx)(h.Z,{label:q.name,value:I,readOnly:!0})}),(0,s.jsx)(c._,{onChange:e=>_.setFieldValue("rows",e),value:_.values.rows,error:_.errors.rows,columns:T,allowDelete:!1})]})})})}},95291:function(e){e.exports={tabPanel:"CustomTabPanel_tabPanel__80Dfu",active:"CustomTabPanel_active___6Uvb",hidden:"CustomTabPanel_hidden__y9566"}},52614:function(e){e.exports={customTabPanel:"CustomTabs_customTabPanel__Ztocv",hidden:"CustomTabs_hidden__lZpM7",tabsContainer:"CustomTabs_tabsContainer__28Syi",tabsWrapper:"CustomTabs_tabsWrapper__mlxxj",tabs:"CustomTabs_tabs__25pli",tabName:"CustomTabs_tabName__XzMCn",tabRoot:"CustomTabs_tabRoot__WVR1E",tabDisabled:"CustomTabs_tabDisabled__VauYR",selectedTab:"CustomTabs_selectedTab__sZzwF",tabsIndicator:"CustomTabs_tabsIndicator__89Lek",refreshButton:"CustomTabs_refreshButton__P2mzl",refreshIcon:"CustomTabs_refreshIcon__ADVWF"}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=17262)}),_N_E=e.O()}]);