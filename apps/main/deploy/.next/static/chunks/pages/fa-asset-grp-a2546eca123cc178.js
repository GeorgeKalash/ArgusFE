(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10423],{89553:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fa-asset-grp",function(){return r(68041)}])},68041:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n=r(52322),s=r(2784),a=r(27723),o=r(33625),d=r(62362),l=r(31389),i=r(69387),c=r(71987),u=r(19473),p=r(65950),g=r(68499),h=r(26612),f=r(61802),m=r(60218),x=r(48601),A=r(82737),C=r(62202),v=r(80983),y=r(5088),P=r(8661),I=r(38449),E=r(84100),G=r(27423),D=r(74898);let _=x.Ry({reference:x.Z_().required(),name:x.Z_().required()}),q={recordId:null,reference:null,name:""};function j(e){var t,r;let{labels:a,maxAccess:o,recordId:i}=e,{getRequest:f,postRequest:x}=(0,s.useContext)(p.$),{platformLabels:j}=(0,s.useContext)(u.l),S=(0,c.E)({endpointId:g.Y.AssetGroup.page}),{formik:Z}=(0,v.c)({initialValues:q,maxAccess:o,validateOnChange:!0,validationSchema:_,onSubmit:F});async function F(e){let t=await x({extension:g.Y.AssetGroup.set,record:JSON.stringify(e)});e.recordId?C.ZP.success(j.Edited):(C.ZP.success(j.Added),Z.setFieldValue("recordId",t.recordId)),S()}(0,s.useEffect)(()=>{(async()=>{if(i){let e=await f({extension:g.Y.AssetGroup.get,parameters:"_recordId=".concat(i)});Z.setValues(e.record)}})()},[i]);let L=!!Z.values.recordId,b=[{key:"Integration Account",condition:!0,onClick:"onClickGIA",disabled:!i&&!Z.values.recordId,editMode:L}];return(0,n.jsx)(A.Z,{resourceId:h.i.AssetGroup,form:Z,maxAccess:o,editMode:L,actions:b,masterSource:D.N.AssetGroup,children:(0,n.jsx)(l.R,{children:(0,n.jsx)(d.Q,{children:(0,n.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(m.ZP,{item:!0,xs:12,children:(0,n.jsx)(y.Z,{name:"reference",label:a.reference,value:null===(t=Z.values)||void 0===t?void 0:t.reference,required:!0,maxAccess:o,onChange:Z.handleChange,onClear:()=>Z.setFieldValue("reference",""),error:Z.touched.reference&&!!Z.errors.reference,maxLength:10})}),(0,n.jsx)(m.ZP,{item:!0,xs:12,children:(0,n.jsx)(y.Z,{name:"name",label:a.name,value:null===(r=Z.values)||void 0===r?void 0:r.name,required:!0,maxAccess:o,onChange:Z.handleChange,onClear:()=>Z.setFieldValue("name",""),error:Z.touched.name&&!!Z.errors.name,maxLength:30})}),(0,n.jsx)(m.ZP,{item:!0,xs:12,children:(0,n.jsx)(P.Z,{datasetId:E.v.FA_DEPRECIATION_METHOD,name:"depMethod",label:a.deprecation,valueField:"key",displayField:"value",values:Z.values,onChange:(e,t)=>{var r;return Z.setFieldValue("depMethod",null!==(r=null==t?void 0:t.key)&&void 0!==r?r:"")},error:Z.touched.depMethod&&!!Z.errors.depMethod,maxAccess:o})}),(0,n.jsx)(m.ZP,{item:!0,xs:12,children:(0,n.jsx)(G.U,{endpointId:I.r.NumberRange.snapshot,form:Z,valueField:"reference",displayField:"description",name:"nraRef",label:a.numberRange,secondDisplayField:!0,secondValue:Z.values.nraDescription,onChange:(e,t)=>{Z.setFieldValue("nraId",(null==t?void 0:t.recordId)||null),Z.setFieldValue("nraRef",(null==t?void 0:t.reference)||""),Z.setFieldValue("nraDescription",(null==t?void 0:t.description)||"")}})})]})})})})}var S=()=>{let{getRequest:e,postRequest:t}=(0,s.useContext)(p.$),{platformLabels:r}=(0,s.useContext)(u.l),{stack:m}=(0,f.zY)();async function x(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:n=50}=t;return{...await e({extension:g.Y.AssetGroup.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(n,"&filter=")}),_startAt:r}}let{query:{data:A},labels:v,access:y,invalidate:P,refetch:I,paginationParameters:E,isLoading:G}=(0,c.J)({queryFn:x,endpointId:g.Y.AssetGroup.page,datasetId:h.i.AssetGroup}),D=[{field:"reference",headerName:v.reference,flex:1},{field:"name",headerName:v.name,flex:1}],_=async e=>{await t({extension:g.Y.AssetGroup.del,record:JSON.stringify(e)}),P(),C.ZP.success(r.Deleted)};function q(e){m({Component:j,props:{labels:v,recordId:e,maxAccess:y},width:600,height:400,title:null==v?void 0:v.assetGroup})}return(0,n.jsxs)(l.R,{children:[(0,n.jsx)(o.g,{children:(0,n.jsx)(a.Z,{onAdd:()=>{q()},maxAccess:y})}),(0,n.jsx)(d.Q,{children:(0,n.jsx)(i.Z,{columns:D,gridData:A,rowId:["recordId"],onEdit:e=>{q(null==e?void 0:e.recordId)},onDelete:_,isLoading:G,pageSize:50,paginationType:"api",paginationParameters:E,refetch:I,maxAccess:y})})]})}},68499:function(e,t,r){"use strict";r.d(t,{Y:function(){return s}});let n="FA.asmx/",s={Asset:{page:n+"pageCLS",qry:n+"qryCLS",get:n+"getCLS",set:n+"setCLS",del:n+"delCLS"},AssetGroup:{page:n+"pageGRP",qry:n+"qryGRP",get:n+"getGRP",set:n+"setGRP",del:n+"delGRP"},Location:{page:n+"pageLOC",qry:n+"qryLOC",get:n+"getLOC",set:n+"setLOC",del:n+"delLOC"},Assets:{qry:n+"qryAST",get:n+"getAST",set:n+"setAST",del:n+"delAST"},AssetsDescription:{qry:n+"qryDEP",get:n+"getDEP",set2:n+"set2DEP",set:n+"setDEP",del:n+"delDEP",snapshot:n+"snapshotDEP",preview:n+"previewDEP",post:n+"postDEP",unpost:n+"unpostDEP"},AssetsTableData:{qry:n+"qryDEA"}}},74898:function(e,t,r){"use strict";r.d(t,{N:function(){return n}});let n={Global:0,AccountGroup:10,Account:11,CashAccountGroup:20,CashAccount:21,ItemGroup:30,Item:31,ItemCategory:32,Site:33,ExpenseType:41,CostType:42,ProductionOverhead:51,TaxCode:12,PayrollGLGroup:61,PayrollEntitlementDeduction:62,AssetGroup:71,AssetClass:72}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=89553)}),_N_E=e.O()}]);