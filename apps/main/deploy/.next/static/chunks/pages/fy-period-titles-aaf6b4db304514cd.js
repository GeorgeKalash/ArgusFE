(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87759],{10306:function(e,r,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fy-period-titles",function(){return i(6274)}])},6274:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return F}});var n=i(52322),d=i(2784),a=i(27723),t=i(33625),o=i(62362),s=i(31389),l=i(69387),c=i(71987),u=i(19473),p=i(65950),m=i(38449),x=i(26612),h=i(61802),f=i(62202),I=i(60218),g=i(48601),P=i(82737),_=i(80983),v=i(5088),j=i(91406);function C(e){var r;let{labels:i,maxAccess:a,recordId:t}=e,{getRequest:l,postRequest:h}=(0,d.useContext)(p.$),{platformLabels:C}=(0,d.useContext)(u.l),F=(0,c.E)({endpointId:m.r.FiscalPeriod.page}),{formik:w}=(0,_.c)({initialValues:{recordId:null,periodId:null,name:""},maxAccess:a,validationSchema:g.Ry({periodId:g.Rx().required(),name:g.Z_().required()}),onSubmit:async e=>{await h({extension:m.r.FiscalPeriod.set,record:JSON.stringify(e)}),w.setFieldValue("recordId",e.periodId),f.ZP.success(e.recordId?C.Edited:C.Added),F()}});(0,d.useEffect)(()=>{!async function(){if(t){let e=await l({extension:m.r.FiscalPeriod.get,parameters:"_periodId=".concat(t)});w.setValues({...e.record,recordId:e.record.periodId})}}()},[]);let y=!!w.values.recordId;return(0,n.jsx)(P.Z,{resourceId:x.i.FiscalPeriod,form:w,maxAccess:a,editMode:y,children:(0,n.jsx)(s.R,{children:(0,n.jsx)(o.Q,{children:(0,n.jsxs)(I.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(I.ZP,{item:!0,xs:12,children:(0,n.jsx)(j.Z,{name:"periodId",label:i.periodId,value:w.values.periodId,required:!0,maxLength:5,decimalScale:0,readOnly:y,maxAccess:a,onChange:w.handleChange,onClear:()=>w.setFieldValue("periodId",null),error:w.touched.periodId&&!!w.errors.periodId})}),(0,n.jsx)(I.ZP,{item:!0,xs:12,children:(0,n.jsx)(v.Z,{name:"name",label:i.name,value:null===(r=w.values)||void 0===r?void 0:r.name,required:!0,maxAccess:a,onChange:w.handleChange,onClear:()=>w.setFieldValue("name",""),error:w.touched.name&&!!w.errors.name,maxLength:30})})]})})})})}var F=()=>{let{getRequest:e,postRequest:r}=(0,d.useContext)(p.$),{platformLabels:i}=(0,d.useContext)(u.l),{stack:I}=(0,h.zY)();async function g(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:i=0,_pageSize:n=50}=r;return{...await e({extension:m.r.FiscalPeriod.page,parameters:"_startAt=".concat(i,"&_pageSize=").concat(n)}),_startAt:i}}let{query:{data:P},labels:_,access:v,invalidate:j,refetch:F,paginationParameters:w}=(0,c.J)({queryFn:g,endpointId:m.r.FiscalPeriod.page,datasetId:x.i.FiscalPeriod}),y=[{field:"periodId",headerName:_.periodId,flex:1},{field:"name",headerName:_.name,flex:1}],Z=async e=>{await r({extension:m.r.FiscalPeriod.del,record:JSON.stringify(e)}),j(),f.ZP.success(i.Deleted)};function A(e){I({Component:C,props:{labels:_,recordId:e,maxAccess:v},width:600,height:350,title:null==_?void 0:_.FiscalPeriodTitle})}return(0,n.jsxs)(s.R,{children:[(0,n.jsx)(t.g,{children:(0,n.jsx)(a.Z,{onAdd:()=>{A()},maxAccess:v})}),(0,n.jsx)(o.Q,{children:(0,n.jsx)(l.Z,{name:"table",columns:y,gridData:P,rowId:["periodId"],onEdit:e=>{A(null==e?void 0:e.periodId)},onDelete:Z,pageSize:50,paginationType:"api",paginationParameters:w,refetch:F,maxAccess:v})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=10306)}),_N_E=e.O()}]);