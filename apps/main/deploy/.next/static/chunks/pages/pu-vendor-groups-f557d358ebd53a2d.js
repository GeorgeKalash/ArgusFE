(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38736],{16298:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pu-vendor-groups",function(){return r(71036)}])},71036:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var s=r(52322),n=r(2784),a=r(62202),o=r(69387),d=r(27723),l=r(65950),i=r(61802),c=r(71987),p=r(26612),u=r(31389),g=r(33625),I=r(62362),R=r(19473),y=r(2454),h=r(60218),P=r(48601),m=r(82737),f=r(5088),D=r(80983),q=r(27423),V=r(38449);function x(e){let{labels:t,maxAccess:r,recordId:o}=e,{getRequest:d,postRequest:i}=(0,n.useContext)(l.$),{platformLabels:g}=(0,n.useContext)(R.l),x=(0,c.E)({endpointId:y.y.VendorGroups.qry}),{formik:E}=(0,D.c)({initialValues:{recordId:o||null,reference:"",name:"",nraId:""},validateOnChange:!0,validationSchema:P.Ry({name:P.Z_().required(),reference:P.Z_().required()}),onSubmit:async e=>{let t=await i({extension:y.y.VendorGroups.set,record:JSON.stringify(e)});e.recordId?a.ZP.success(g.Edited):(a.ZP.success(g.Added),E.setFieldValue("recordId",t.recordId)),x()}}),S=!!E.values.recordId;return(0,n.useEffect)(()=>{!async function(){if(o){let e=await d({extension:y.y.VendorGroups.get,parameters:"_recordId=".concat(o)});E.setValues(e.record)}}()},[]),(0,s.jsx)(m.Z,{resourceId:p.i.VendorGroups,form:E,maxAccess:r,editMode:S,children:(0,s.jsx)(u.R,{children:(0,s.jsx)(I.Q,{children:(0,s.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(h.ZP,{item:!0,xs:12,children:(0,s.jsx)(f.Z,{name:"reference",required:!0,label:t.reference,value:E.values.reference,maxAccess:r,maxLength:"30",onChange:E.handleChange,onClear:()=>E.setFieldValue("reference",""),error:E.touched.reference&&!!E.errors.reference})}),(0,s.jsx)(h.ZP,{item:!0,xs:12,children:(0,s.jsx)(f.Z,{name:"name",label:t.name,value:E.values.name,required:!0,maxAccess:r,maxLength:"30",onChange:E.handleChange,onClear:()=>E.setFieldValue("name",""),error:E.touched.name&&!!E.errors.name})}),(0,s.jsx)(h.ZP,{item:!0,xs:12,children:(0,s.jsx)(q.U,{endpointId:V.r.NumberRange.snapshot,form:E,name:"nraId",label:t.nra,valueField:"reference",displayField:"description",firstValue:E.values.nraRef,secondValue:E.values.nraDescription,onChange:(e,t)=>{E.setFieldValue("nraId",t?t.recordId:null),E.setFieldValue("nraRef",t?t.reference:null),E.setFieldValue("nraDescription",t?t.description:null)},maxAccess:r})})]})})})})}var E=()=>{let{getRequest:e,postRequest:t}=(0,n.useContext)(l.$),{platformLabels:r}=(0,n.useContext)(R.l),{stack:h}=(0,i.zY)();async function P(){return await e({extension:y.y.VendorGroups.qry,parameters:"_filter=&_sortField="})}let{query:{data:m},labels:f,invalidate:D,refetch:q,access:V}=(0,c.J)({queryFn:P,endpointId:y.y.VendorGroups.qry,datasetId:p.i.VendorGroups}),E=[{field:"reference",headerName:f.reference,flex:1},{field:"name",headerName:f.name,flex:1},{field:"nraName",headerName:f.nra,flex:1}],S=async e=>{await t({extension:y.y.VendorGroups.del,record:JSON.stringify(e)}),D(),a.ZP.success(r.Deleted)};function O(e){h({Component:x,props:{labels:f,recordId:e,maxAccess:V},width:600,height:400,title:f.vendorGroups})}return(0,s.jsxs)(u.R,{children:[(0,s.jsx)(g.g,{children:(0,s.jsx)(d.Z,{onAdd:()=>{O()},maxAccess:V})}),(0,s.jsx)(I.Q,{children:(0,s.jsx)(o.Z,{columns:E,gridData:m,rowId:["recordId"],onEdit:e=>{O(null==e?void 0:e.recordId)},onDelete:S,isLoading:!1,pageSize:50,refetch:q,paginationType:"client",maxAccess:V})})]})}},2454:function(e,t,r){"use strict";r.d(t,{y:function(){return n}});let s="PU.asmx/",n={VendorGroups:{qry:s+"qryGRP",page:s+"pageGRP",get:s+"getGRP",set:s+"setGRP",del:s+"delGRP"},PriceList:{qry:s+"qryPRI",del:s+"delPRI",get:s+"getPRI",set:s+"setPRI"},PUOrderStatus:{qry:s+"qryPOS",page:s+"pagePOS",get:s+"getPOS",set:s+"setPOS",del:s+"delPOS"},DeliveryMethods:{qry:s+"qryDM",page:s+"pageDM",get:s+"getDM",set:s+"setDM",del:s+"delDM"},PaymentTerms:{qry:s+"qryPT",page:s+"pagePT",get:s+"getPT",set:s+"setPT",del:s+"delPT"},Vendor:{snapshot:s+"snapshotVEN",qry:s+"qryVEN",page:s+"pageVEN",get:s+"getVEN",set:s+"setVEN",del:s+"delVEN"},Address:{qry:s+"qryAD",page:s+"pageAD",get:s+"getAD",set:s+"setAD",del:s+"delAD"},DocumentTypeDefault:{qry:s+"qryDTD",get:s+"getDTD",set:s+"setDTD",del:s+"delDTD",page:s+"pageDTD"},PurchaseInvoiceHeader:{qry:s+"qryIVC",get:s+"getIVC",get2:s+"get2IVC",level2_PU:s+"level2_PU",set:s+"setIVC",del:s+"delIVC",snapshot:s+"snapshotIVC",set2:s+"set2IVC",post:s+"postIVC",unpost:s+"unpostIVC",generate:s+"generateIVC",preview:s+"previewIVC",sync:s+"syncIVC",verify:s+"verifyIVC"},Invoice:{snapshot:s+"snapshotINV"},PurchaseReturnHeader:{set2:s+"set2IVR",post:s+"postIVR",unpost:s+"unpostIVR",del:s+"delIVR",qry:s+"qryIVR",snapshot:s+"snapshotIVR"},VendorPrice:{get:s+"getPRI2"},ItemCostHistory:{qry:s+"qryIPH"},ItemPromotion:{qry:s+"qryIVIM"},Serials:{qry:s+"qrySRL",import:s+"importSRL",last:s+"lastSRL",sync:s+"syncSRL"},Shipment:{get:s+"getSHP",set2:s+"set2SHP",del:s+"delSHP",page:s+"pageSHP",snapshot:s+"snapshotSHP",post:s+"postSHP",unpost:s+"unpostSHP",gen:s+"genSHP"},ShipmentItem:{qry:s+"qrySHI"},UnpostedOrderPack:{get:s+"openORD",snapshot:s+"snapshotORD"},PurchaseOrder:{page:s+"pageORD",snapshot:s+"snapshotORD",del:s+"delORD",set2:s+"set2ORD",get2:s+"get2ORD",close:s+"closeORD",reopen:s+"reopenORD",terminate:s+"terminateORD",transfer:s+"transfer1ORD"},PurchaseRequisition:{snapshot:s+"snapshotREQ",page:s+"pageREQ",get:s+"getREQ",set:s+"setREQ",del:s+"delREQ",cancel:s+"cancelREQ",reopen:s+"reopenREQ",close:s+"closeREQ"},RequisitionDetail:{qry:s+"qryREI",set:s+"setREI",get:s+"getREI",del:s+"delREI"},QuotationItem:{preview:s+"previewQTI",qry:s+"qryQTI"},OrderItem:{qry:s+"qryORI",set2:s+"set2ORI"},PUDraftReturn:{set2:s+"set2DRE",get:s+"getDRE",page:s+"pageDRE",snapshot:s+"snapshotDRE",del:s+"delDRE",post:s+"postDRE"},PUDraftReturnSerial:{get2:s+"get2DRS",qry:s+"qryDRS",del:s+"delDRS",append:s+"appendDRS",batch:s+"batchDRS"},FinancialGroup:{qry:s+"qryFII",set2:s+"set2FII"},PUInvoiceRetBalance:{balance:s+"balanceRET"},ItemLastPurchaseInfo:{last:s+"lastIVI"},PurchaseQuotation:{page:s+"pageQTN",set2:s+"set2QTN",get:s+"getQTN",del:s+"delQTN",snapshot:s+"snapshotQTN"},GenerateQTNPRPack:{gen:s+"genQTN"},GeneratePOPRPack:{gen:s+"genPO",gen2:s+"gen2PO"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=16298)}),_N_E=e.O()}]);