(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33972],{62048:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sa-draft-serials-returns",function(){return a(94925)}])},94925:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var n=a(52322),r=a(2784),i=a(71987),s=a(65950),d=a(69387),l=a(62202),f=a(61802),c=a(26612),o=a(31389),u=a(33625),p=a(62362),m=a(19473),h=a(22341),N=a(34710),x=a(36908),_=a(98345),y=a(7121),w=()=>{let{postRequest:e,getRequest:t}=(0,r.useContext)(s.$),{platformLabels:a}=(0,r.useContext)(m.l),{stack:w}=(0,f.zY)(),{query:{data:g},filterBy:R,refetch:D,labels:P,access:A,paginationParameters:E,invalidate:I}=(0,i.J)({queryFn:S,endpointId:h.P.DraftReturn.page,datasetId:c.i.DraftSerialReturns,filter:{filterFn:b}}),C=[{field:"plantName",headerName:P.plant,flex:1},{field:"reference",headerName:P.reference,flex:1},{field:"date",headerName:P.date,flex:1,type:"date"},{field:"clientRef",headerName:P.clientRef,flex:1},{field:"clientName",headerName:P.clientName,flex:1},{field:"pcs",headerName:P.pcs,flex:1,type:"number"},{field:"weight",headerName:P.weight,flex:1,type:"number"},{field:"amount",headerName:P.amount,flex:1,type:"number"},{field:"spName",headerName:P.salesPerson,flex:1},{field:"description",headerName:P.description,flex:1.25},{field:"statusName",headerName:P.status,flex:1},{field:"wipName",headerName:P.wip,flex:1}];async function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:n=50,params:r=[]}=e;return{...await t({extension:h.P.DraftReturn.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(n,"&_params=").concat(r,"&filter=")}),_startAt:a}}async function b(e){let{filters:a,pagination:n}=e;return a.qry?await t({extension:h.P.DraftReturn.snapshot,parameters:"_filter=".concat(a.qry,"&_status=0")}):S({_startAt:n._startAt||0,params:null==a?void 0:a.params})}let{proxyAction:j}=(0,_.G)({functionId:y.J.DraftInvoiceReturn,action:q}),k=async()=>{await j()};async function q(e){w({Component:N.Z,props:{labels:P,access:A,recordId:e,invalidate:I},width:1300,height:750,title:P.draftSerReturn})}let v=async t=>{await e({extension:h.P.DraftReturn.del,record:JSON.stringify(t)}),I(),l.ZP.success(a.Deleted)};return(0,n.jsxs)(o.R,{children:[(0,n.jsx)(u.g,{children:(0,n.jsx)(x.Z,{onAdd:k,maxAccess:A,filterBy:R,reportName:"SADRE"})}),(0,n.jsx)(p.Q,{children:(0,n.jsx)(d.Z,{columns:C,gridData:g,rowId:["recordId"],onEdit:e=>{q(e.recordId)},refetch:D,onDelete:v,deleteConfirmationType:"strict",isLoading:!1,pageSize:50,maxAccess:A,paginationParameters:E,paginationType:"api"})})]})}}},function(e){e.O(0,[92515,2494,36908,23352,34710,49774,92888,40179],function(){return e(e.s=62048)}),_N_E=e.O()}]);