(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87581],{94279:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cs-folders",function(){return r(66190)}])},66190:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return F}});var t=r(52322),a=r(2784),s=r(62202),d=r(69387),i=r(27723),o=r(65950),c=r(71987),l=r(26612),u=r(31389),m=r(33625),x=r(62362),f=r(61802),h=r(19473),p=r(38449),g=r(60218),_=r(48601),I=r(82737),w=r(5088),j=r(80983);function C(e){let{labels:n,maxAccess:r,recordId:d}=e,{getRequest:i,postRequest:m}=(0,a.useContext)(o.$),{platformLabels:f}=(0,a.useContext)(h.l),C=(0,c.E)({endpointId:p.r.Folders.page}),{formik:F}=(0,j.c)({initialValues:{recordId:null,name:""},maxAccess:r,validateOnChange:!0,validationSchema:_.Ry({name:_.Z_().required()}),onSubmit:async e=>{let n=await m({extension:p.r.Folders.set,record:JSON.stringify(e)});s.ZP.success(e.recordId?f.Edited:f.Added),e.recordId||F.setFieldValue("recordId",n.recordId),C()}}),v=!!F.values.recordId;return(0,a.useEffect)(()=>{!async function(){if(d){let e=await i({extension:p.r.Folders.get,parameters:"_recordId=".concat(d)});F.setValues(null==e?void 0:e.record)}}()},[]),(0,t.jsx)(I.Z,{resourceId:l.i.Folders,form:F,maxAccess:r,editMode:v,children:(0,t.jsx)(u.R,{children:(0,t.jsx)(x.Q,{children:(0,t.jsx)(g.ZP,{container:!0,spacing:2,children:(0,t.jsx)(g.ZP,{item:!0,xs:12,children:(0,t.jsx)(w.Z,{name:"name",label:n.name,value:F.values.name,required:!0,maxAccess:r,maxLength:"30",onChange:F.handleChange,onClear:()=>F.setFieldValue("name",""),error:F.touched.name&&!!F.errors.name})})})})})})}var F=()=>{let{getRequest:e,postRequest:n}=(0,a.useContext)(o.$),{platformLabels:r}=(0,a.useContext)(h.l),{stack:g}=(0,f.zY)();async function _(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:t=50}=n;return{...await e({extension:p.r.Folders.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(t,"&_filter=")}),_startAt:r}}let{query:{data:I},labels:w,paginationParameters:j,refetch:F,invalidate:v,access:y}=(0,c.J)({queryFn:_,endpointId:p.r.Folders.page,datasetId:l.i.Folders}),A=[{field:"name",headerName:w.name,flex:1}];function E(e){g({Component:C,props:{labels:w,recordId:e,maxAccess:y},width:500,height:250,title:w.folder})}let Z=async e=>{await n({extension:p.r.Folders.del,record:JSON.stringify(e)}),s.ZP.success(r.Deleted),v()};return(0,t.jsxs)(u.R,{children:[(0,t.jsx)(m.g,{children:(0,t.jsx)(i.Z,{onAdd:()=>{E()},maxAccess:y})}),(0,t.jsx)(x.Q,{children:(0,t.jsx)(d.Z,{columns:A,gridData:I,rowId:["recordId"],onEdit:e=>{E(null==e?void 0:e.recordId)},onDelete:Z,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:j,refetch:F,maxAccess:y})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=94279)}),_N_E=e.O()}]);