(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1004],{68544:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/outbound-transportation",function(){return a(23201)}])},23201:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var r=a(52322),n=a(2784),i=a(62202),d=a(69387),s=a(65950),l=a(71987),o=a(26612),c=a(31389),u=a(33625),p=a(62362),f=a(61802),m=a(19473),h=a(30043),x=a(13411),N=a(36908),_=a(78618),y=a(58276),T=()=>{let{getRequest:e,postRequest:t}=(0,n.useContext)(s.$),{platformLabels:a}=(0,n.useContext)(m.l),{stack:T,lockRecord:g}=(0,f.zY)(),{addLockedScreen:v}=(0,n.useContext)(y.Z);async function w(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:r=50,params:n=[]}=t;return{...await e({extension:h.U.Trip.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(r,"&_params=").concat(n,"&_sortBy=recordId desc")}),_startAt:a}}async function A(t){let{filters:a,pagination:r}=t;return(null==a?void 0:a.qry)?await e({extension:h.U.Trip.snapshot,parameters:"_filter=".concat(a.qry)}):w({_startAt:r._startAt||0,params:null==a?void 0:a.params})}let{query:{data:I},labels:b,filterBy:j,paginationParameters:D,refetch:Z,access:C,invalidate:E}=(0,l.J)({queryFn:w,endpointId:h.U.Trip.page,datasetId:o.i.Trip,filter:{filterFn:A}}),S=[{field:"reference",headerName:b.reference,flex:1},{field:"dtName",headerName:b.docType,flex:1},{field:"date",headerName:b.date,flex:1,type:"date"},{field:"departureTime",headerName:b.departureDate,flex:1,type:"dateTime"},{field:"arrivalTime",headerName:b.arrivalDate,flex:1,type:"dateTime"},{field:"plantName",headerName:b.plant,flex:1},{field:"driverName",headerName:b.driver,flex:1},{field:"vehName",headerName:b.vehicle,flex:1},{field:"statusName",headerName:b.status,flex:1},{field:"printStatusName",headerName:b.printStatus,flex:1},{field:"notes",headerName:b.notes,flex:1}];async function k(e){T({Component:x.Z,props:{labels:b,recordId:e,maxAccess:C},width:1300,height:700,title:b.outboundTransp})}async function P(e,t,r){e&&3!==r?await g({recordId:e,reference:t,resourceId:o.i.Trip,onSuccess:()=>{v({resourceId:o.i.Trip,recordId:e,reference:t}),k(e)},isAlreadyLocked:e=>{T({Component:_.Z,props:{DialogText:"".concat(a.RecordLocked," ").concat(e),title:a.Dialog}})}}):k(e)}let q=async e=>{await t({extension:h.U.Trip.del,record:JSON.stringify(e)}),E(),i.ZP.success(a.Deleted)};return(0,r.jsxs)(c.R,{children:[(0,r.jsx)(u.g,{children:(0,r.jsx)(N.Z,{labels:b,onAdd:()=>{P()},maxAccess:C,inputSearch:!0,reportName:"DETRP",filterBy:j})}),(0,r.jsx)(p.Q,{children:(0,r.jsx)(d.Z,{name:"table",columns:S,gridData:I,rowId:["recordId"],onEdit:e=>{P(null==e?void 0:e.recordId,null==e?void 0:e.reference,null==e?void 0:e.status)},onDelete:q,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:D,refetch:Z,maxAccess:C})})]})}},78618:function(e,t,a){"use strict";var r=a(52322),n=a(23925),i=a(31389),d=a(62362);let s=e=>{let{DialogText:t,bottomSection:a}=e;return(0,r.jsxs)(i.R,{children:[(0,r.jsx)(d.Q,{children:(0,r.jsx)(n.Z,{sx:{p:12},textAlign:"center",children:t})}),a]})};s.width=600,s.height=200,t.Z=s}},function(e){e.O(0,[92515,2494,43553,36908,13411,49774,92888,40179],function(){return e(e.s=68544)}),_N_E=e.O()}]);