(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66401],{37074:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sc-dtd",function(){return n(11425)}])},11425:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var s=n(52322),d=n(2784),o=n(62202),r=n(69387),a=n(27723),l=n(65950),c=n(61802),u=n(71987),i=n(26612),p=n(31389),y=n(33625),I=n(62362),D=n(19473),S=n(60218),T=n(48601),g=n(82737),x=n(80983),m=n(8661),f=n(38449),C=n(76426),h=n(7121),q=n(19689);function L(e){var t;let{labels:n,maxAccess:r,recordId:a}=e,{getRequest:c,postRequest:y}=(0,d.useContext)(l.$),{platformLabels:L}=(0,d.useContext)(D.l),R=(0,u.E)({endpointId:C.x.DocumentTypeDefaults.qry}),{formik:k}=(0,x.c)({initialValues:{recordId:a||null,dtId:"",disableSKULookup:!1},maxAccess:r,validateOnChange:!0,validationSchema:T.Ry({dtId:T.Z_().required()}),onSubmit:async e=>{await y({extension:C.x.DocumentTypeDefaults.set,record:JSON.stringify(e)}),e.recordId?o.ZP.success(L.Edited):(o.ZP.success(L.Added),k.setFieldValue("recordId",k.values.dtId)),R()}}),_=!!k.values.recordId;return(0,d.useEffect)(()=>{!async function(){if(a){let e=await c({extension:C.x.DocumentTypeDefaults.get,parameters:"_dtId=".concat(a)});k.setValues({...e.record,recordId:a})}}()},[]),(0,s.jsx)(g.Z,{resourceId:i.i.StockCountDTD,form:k,maxAccess:r,editMode:_,functionId:h.J.StockCount,children:(0,s.jsx)(p.R,{children:(0,s.jsx)(I.Q,{children:(0,s.jsxs)(S.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(S.ZP,{item:!0,xs:12,children:(0,s.jsx)(m.Z,{endpointId:f.r.DocumentType.qry,parameters:"_dgId=".concat(h.J.StockCount,"&_startAt=",0,"&_pageSize=",50),filter:_?void 0:e=>1===e.activeStatus,name:"dtId",label:n.documentType,readOnly:_,valueField:"recordId",displayField:"name",required:!0,values:k.values,maxAccess:r,onChange:(e,t)=>{k.setFieldValue("dtId",(null==t?void 0:t.recordId)||"")},error:k.touched.dtId&&!!k.errors.dtId})}),(0,s.jsx)(S.ZP,{item:!0,xs:12,children:(0,s.jsx)(q.Z,{name:"disableSKULookup",value:null===(t=k.values)||void 0===t?void 0:t.disableSKULookup,onChange:e=>k.setFieldValue("disableSKULookup",e.target.checked),label:n.disableSKULookup,maxAccess:r})})]})})})})}var R=()=>{let{getRequest:e,postRequest:t}=(0,d.useContext)(l.$),{platformLabels:n}=(0,d.useContext)(D.l),{stack:S}=(0,c.zY)();async function T(){try{return await e({extension:C.x.DocumentTypeDefaults.qry,parameters:"_filter=&_functionId=".concat(h.J.StockCount)})}catch(e){}}let{query:{data:g},labels:x,invalidate:m,refetch:f,access:q}=(0,u.J)({queryFn:T,endpointId:C.x.DocumentTypeDefaults.qry,datasetId:i.i.StockCountDTD}),R=[{field:"dtName",headerName:x.documentType,flex:1}],k=async e=>{try{await t({extension:C.x.DocumentTypeDefaults.del,record:JSON.stringify(e)}),m(),o.ZP.success(n.Deleted)}catch(e){}};function _(e){S({Component:L,props:{labels:x,recordId:null==e?void 0:e.dtId,maxAccess:q},width:600,height:300,title:x.stockCountDTD})}return(0,s.jsxs)(p.R,{children:[(0,s.jsx)(y.g,{children:(0,s.jsx)(a.Z,{onAdd:()=>{_()},maxAccess:q})}),(0,s.jsx)(I.Q,{children:(0,s.jsx)(r.Z,{columns:R,gridData:g,rowId:["dtId"],onEdit:e=>{_(e)},onDelete:k,isLoading:!1,pageSize:50,refetch:f,paginationType:"client",maxAccess:q})})]})}},76426:function(e,t,n){"use strict";n.d(t,{x:function(){return d}});let s="SC.asmx/",d={LabelTemplate:{qry:s+"qryLBT",set:s+"setLBT",get:s+"getLBT",del:s+"delLBT"},Item:{qry:s+"qryLBI",set:s+"setLBI",get:s+"getLBI",del:s+"delLBI"},Sites:{qry:s+"qrySIT",set:s+"setSIT",set2:s+"set2SIT",get:s+"getSIT",del:s+"delSIT",reopen:s+"reopenSIT",end:s+"endSIT"},Controller:{qry:s+"qryCRL"},StockCountControllerTab:{qry:s+"qryPHY",set2:s+"set2PHY",set:s+"setPHY",get:s+"getPHY",del:s+"delPHY"},StockCount:{page:s+"pageHDR",post:s+"postHDR",unpost:s+"unpostHDR",qry:s+"qryHDR",get:s+"getHDR",set:s+"setHDR",del:s+"delHDR",close:s+"closeHDR",reopen:s+"reopenHDR",snapshot:s+"snapshotHDR"},StockCountController:{page:s+"pageCRL",set:s+"setCRL",get:s+"getCRL",del:s+"delCRL"},DocumentTypeDefaults:{qry:s+"qryDTD",set:s+"setDTD",get:s+"getDTD",del:s+"delDTD"},StockCountItem:{qry:s+"qryITM",set:s+"setITM",get:s+"getITM",del:s+"delITM"},StockCountSerialSum:{qry:s+"qrySRS"},StockCountItemDetail:{qry:s+"qryITD",set:s+"setITD",get:s+"getITD",del:s+"delITD",set2:s+"set2ITD"},StockCountSerialDetail:{set2:s+"set2SRL",qry:s+"qrySRL",append:s+"appendSRL",del:s+"delSRL",batch:s+"batchSRL"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=37074)}),_N_E=e.O()}]);