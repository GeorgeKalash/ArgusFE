(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28087],{60243:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fi-aging",function(){return a(50409)}])},50409:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return v}});var t=a(52322),o=a(2784),l=a(69387),i=a(65950),c=a(71987),u=a(26612),r=a(31389),d=a(33625),s=a(62362),f=a(36908),m=a(93736),g=a(96026),v=()=>{let{getRequest:e}=(0,o.useContext)(i.$),[n,a]=(0,o.useState)([]),{stack:v}=(0,g.V)();async function I(n){let{filters:t}=n,o={count:0,list:[],statusId:1,message:""};if(null==t?void 0:t.params){var l,i,c,u,r,d,s;let n=await e({extension:m.K.FiAging.qry,parameters:"_params=".concat(null==t?void 0:t.params)}),f=null==n?void 0:null===(i=n.record)||void 0===i?void 0:null===(l=i.legs)||void 0===l?void 0:l.reduce((e,n)=>(e[n.seqNo]=null==n?void 0:n.caption,e),{}),g=Object.keys(f).sort((e,n)=>e-n).map(e=>f[e]),v=null==n?void 0:null===(u=n.record)||void 0===u?void 0:null===(c=u.agings)||void 0===c?void 0:c.map(e=>{let n={accountId:e.accountId,accountRef:e.accountRef,accountName:e.accountName,Total:0};return e.amounts.forEach(e=>{n[f[e.seqNo]]=e.amount||0,n.Total+=e.amount||0}),g.forEach(e=>{e in n||(n[e]=0)}),n}),I={accountId:"",accountRef:"",accountName:"",Total:0};null==g||g.forEach(e=>{I[e]=0}),v.forEach(e=>{null==g||g.forEach(n=>{I[n]+=e[n]}),I.Total+=e.Total});let h={accountId:"",accountRef:"",accountName:"",Total:""};return g.forEach(e=>{h[e]=""}),v.push(h),v.push(I),o.count=null==n?void 0:null===(d=n.record)||void 0===d?void 0:null===(r=d.agings)||void 0===r?void 0:r.length,o.list=v,o.statusId=(null==n?void 0:n.statusId)||1,o.message=(null==n?void 0:n.message)||"",(null==o?void 0:null===(s=o.list)||void 0===s?void 0:s.length)>0&&a([{field:"accountRef",headerName:p.reference,flex:1},{field:"accountName",headerName:p.name,flex:1},{field:"Total",headerName:p.total,flex:1,type:"number"},...null==g?void 0:g.map(e=>({field:e,headerName:e,flex:1,type:"number"}))]),o}}let{query:{data:h},labels:p,filterBy:F,refetch:N,access:x}=(0,c.J)({endpointId:m.K.FiAging.qry,datasetId:u.i.FIAging,filter:{filterFn:I}});return(0,t.jsxs)(r.R,{children:[(0,t.jsx)(d.g,{children:(0,t.jsx)(f.Z,{paramsRequired:!0,labels:p,maxAccess:x,filterBy:F,mandatoryParams:!0,reportName:"FI04",hasSearch:!1})}),(0,t.jsx)(s.Q,{children:(0,t.jsx)(l.Z,{columns:n,gridData:h,rowId:["recordId"],isLoading:!1,pageSize:50,disableSorting:!0,refetch:N,paginationType:"client",maxAccess:x})})]})}},93736:function(e,n,a){"use strict";a.d(n,{K:function(){return o}});let t="RG.FI.asmx/",o={FiOpeningBalance:{gen:t+"genOBA"},FiAging:{qry:t+"FI404"},AccountSummary:{AccFI405b:t+"FI405b"},DocumentAging:{AgingFI406a:t+"FI406a",AgingFI406b:t+"FI406b"},TrialBalance:{FI402View:t+"FI402o",FI401o2:t+"FI401o2"}}}},function(e){e.O(0,[92515,2494,36908,49774,92888,40179],function(){return e(e.s=60243)}),_N_E=e.O()}]);