(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14442],{13519:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user-dashboard",function(){return t(61592)}])},61592:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return _}});var n=t(52322),s=t(2784),l=t(62202),r=t(60218),i=t(69387),d=t(65950),o=t(26612),u=t(1883),c=t(38449),p=t(71987),h=t(31389),m=t(33625),f=t(62362),x=t(19473),v=t(5088),w=t(95982),I=t(1685),N=t(54074),_=()=>{var e;let{getRequest:a,postRequest:t}=(0,s.useContext)(d.$),_=(0,I.m)("userData").userId,{platformLabels:C}=(0,s.useContext)(x.l),[y,b]=(0,s.useState)(""),{query:{data:g},labels:k,access:S}=(0,p.J)({queryFn:j,datasetId:o.i.UserDashboard});async function j(){let e=await a({extension:w.y.ModuleClass.qry2,parameters:"_moduleId=".concat(u.Y.Dashboard)}),t=await a({extension:c.r.DynamicDashboard.qry,parameters:"_userId=".concat(_)});return{list:e.list.map(e=>{let a={appletId:e.key,appletName:e.value,checked:!1,value:!1},n=t.list.find(e=>a.appletId==e.appletId);return n&&(a.checked=!0),n&&(a.value=!0),a})}}let D=[{field:"appletId",headerName:k.appletId,flex:1},{field:"appletName",headerName:k.appletName,flex:3}],Z=y?null==g?void 0:null===(e=g.list)||void 0===e?void 0:e.filter(e=>e.appletId.toString().includes(y.toLowerCase())||e.appletName&&e.appletName.toLowerCase().includes(y.toLowerCase())):null==g?void 0:g.list,q=async()=>{var e=0;let a=g.list.filter(e=>e.checked).map(a=>({...a,seqNo:++e,userId:_}));t({extension:c.r.DynamicDashboard.set2,record:JSON.stringify({userId:_,applets:a})}).then(()=>{l.ZP.success(C.Updated)})};return(0,n.jsx)(N.Z,{onSave:q,maxAccess:S,fullSize:!0,children:(0,n.jsxs)(h.R,{children:[(0,n.jsx)(m.g,{children:(0,n.jsx)(r.ZP,{container:!0,xs:12,p:2,children:(0,n.jsx)(r.ZP,{item:!0,xs:3,children:(0,n.jsx)(v.Z,{name:"search",value:y,label:C.Search,onClear:()=>b(""),onChange:e=>{var a,t;b(null!==(t=null==e?void 0:null===(a=e.target)||void 0===a?void 0:a.value)&&void 0!==t?t:"")},onSearch:e=>b(e),search:!0})})})}),(0,n.jsx)(f.Q,{children:(0,n.jsx)(i.Z,{columns:D,gridData:{list:Z},rowId:["appletId"],maxAccess:S,showCheckboxColumn:!0,pagination:!1})})]})})}},1685:function(e,a,t){"use strict";t.d(a,{m:function(){return n}});let n=e=>{let a=window.sessionStorage.getItem(e);return a?JSON.parse(a):null}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=13519)}),_N_E=e.O()}]);