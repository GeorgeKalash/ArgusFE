(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76244],{39476:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/system-defaults",function(){return l(75195)}])},75195:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return f}});var n=l(52322),i=l(2784),s=l(60218),r=l(48601),t=l(78711),o=l(62202),u=l(65950),d=l(38449),c=l(26612),m=l(8661),y=l(71987),v=l(84100),h=l(5088),x=l(31389),b=l(62362),k=l(19473),Z=l(82737),C=l(19689),j=l(91406),f=()=>{var e,a;let{postRequest:l}=(0,i.useContext)(u.$),{platformLabels:f,defaultsData:N,updateDefaults:g}=(0,i.useContext)(k.l);(0,i.useEffect)(()=>{var e;(null==N?void 0:null===(e=N.list)||void 0===e?void 0:e.length)&&P()},[N]);let P=()=>{var e;let a={},l=null==N?void 0:null===(e=N.list)||void 0===e?void 0:e.filter(e=>"baseCurrencyId"===e.key||"countryId"===e.key||"vatPct"===e.key||"timeZone"===e.key||"enableHijri"===e.key||"backofficeEmail"===e.key||"dateFormat"===e.key||"ActivityBlankQryDaysBack"===e.key||"extentionsPath"===e.key||"passwordExpiryDays"===e.key||"postalZone"===e.key||"cityName"===e.key||"buildingNumber"===e.key||"streetName"===e.key||"citySubdivisionName"===e.key);null==l||l.forEach(e=>{"dateFormat"===e.key||"backofficeEmail"===e.key||"enableHijri"===e.key||"extentionsPath"===e.key||"postalZone"===e.key||"cityName"===e.key||"buildingNumber"===e.key||"streetName"===e.key||"citySubdivisionName"===e.key?a[e.key]=e.value||"":a[e.key]=e.value?parseInt(e.value,10):null}),I.setValues(a)},{labels:p,access:F}=(0,y.J)({datasetId:c.i.SystemDefaults}),I=(0,t.TA)({validateOnChange:!0,initialValues:{extentionsPath:"",baseCurrencyId:null,ActivityBlankQryDaysBack:"",countryId:null,vatPct:null,dateFormat:null,timeZone:null,backofficeEmail:"",enableHijri:!1,passwordExpiryDays:null,postalZone:"",cityName:"",buildingNumber:"",streetName:"",citySubdivisionName:""},validationSchema:r.Ry({baseCurrencyId:r.Z_().required(" "),vatPct:r.Rx().min(0,"min").max(100,"max")}),onSubmit:e=>{E(e)}}),E=e=>{var a=[];Object.entries(e).forEach(e=>{let[l,n]=e;a.push({key:l,value:n})}),l({extension:d.r.Defaults.set,record:JSON.stringify({SysDefaults:a})}).then(e=>{e&&o.ZP.success(f.Edited),g(a)})},D=!!I.values.baseCurrencyId;return(0,n.jsx)(Z.Z,{resourceId:c.i.SystemDefaults,form:I,maxAccess:F,isInfo:!1,isSavedClear:!1,children:(0,n.jsx)(x.R,{children:(0,n.jsx)(b.Q,{children:(0,n.jsxs)(s.ZP,{container:!0,spacing:5,children:[(0,n.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,n.jsxs)(s.ZP,{container:!0,spacing:5,children:[(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(h.Z,{name:"extentionsPath",label:p.extentionsPath,value:I.values.extentionsPath,maxAccess:F,maxLength:"30",onChange:I.handleChange,onClear:()=>I.setFieldValue("extentionsPath",""),error:I.touched.extentionsPath&&!!I.errors.extentionsPath})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(m.Z,{endpointId:d.r.Currency.qry,name:"baseCurrencyId",label:p.baseCurrencyId,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],required:!0,values:I.values,readOnly:D,valueField:"recordId",displayField:"name",maxAccess:F,onChange:(e,a)=>{I.setFieldValue("baseCurrencyId",(null==a?void 0:a.recordId)||null)},error:I.touched.baseCurrencyId&&!!I.errors.baseCurrencyId})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(m.Z,{endpointId:d.r.Country.qry,name:"countryId",label:p.countryId,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:I.values,valueField:"recordId",displayField:"name",maxAccess:F,onChange:(e,a)=>{I.setFieldValue("countryId",(null==a?void 0:a.recordId)||null)},error:I.touched.countryId&&!!I.errors.countryId})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(j.Z,{name:"vatPct",label:p.vatPct,value:I.values.vatPct,numberField:!0,onChange:I.handleChange,onClear:()=>I.setFieldValue("vatPct",null),error:I.touched.vatPct&&!!I.errors.vatPct})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(m.Z,{datasetId:v.v.TimeZone,name:"timeZone",label:p.timeZone,valueField:"key",displayField:"value",values:I.values,maxAccess:F,onChange:(e,a)=>{I.setFieldValue("timeZone",(null==a?void 0:a.key)||null)},error:I.touched.timeZone&&!!I.errors.timeZone})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(m.Z,{datasetId:v.v.DateFormat,name:"dateFormat",label:p.dateFormat,valueField:"key",displayField:"value",values:I.values,maxAccess:F,onChange:(e,a)=>{I.setFieldValue("dateFormat",(null==a?void 0:a.key)||null)},error:I.touched.dateFormat&&!!I.errors.dateFormat})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(h.Z,{name:"backofficeEmail",label:p.backofficeEmail,value:I.values.backofficeEmail,onChange:I.handleChange,onClear:()=>I.setFieldValue("backofficeEmail",""),error:I.touched.backofficeEmail&&!!I.errors.backofficeEmail})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(m.Z,{datasetId:v.v.OUTER_GRID_DAYS,name:"ActivityBlankQryDaysBack",label:p.outerGrid,valueField:"key",displayField:"value",values:I.values,maxAccess:F,onChange:(e,a)=>{I.setFieldValue("ActivityBlankQryDaysBack",(null==a?void 0:a.key)||"")},error:I.touched.ActivityBlankQryDaysBack&&!!I.errors.ActivityBlankQryDaysBack})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(C.Z,{name:"enableHijri",value:null===(e=I.values)||void 0===e?void 0:e.enableHijri,onChange:e=>I.setFieldValue("enableHijri",e.target.checked),label:p.enableHijri,maxAccess:F})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(j.Z,{name:"passwordExpiryDays",label:p.passwordExpiryDays,value:null===(a=I.values)||void 0===a?void 0:a.passwordExpiryDays,maxAccess:F,onChange:I.handleChange,decimalScale:0,maxLength:4,onClear:()=>I.setFieldValue("passwordExpiryDays",null)})})]})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,n.jsxs)(s.ZP,{container:!0,spacing:5,children:[(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(h.Z,{name:"postalZone",label:p.postalZone,value:I.values.postalZone,onChange:I.handleChange,onClear:()=>I.setFieldValue("postalZone",""),error:I.touched.postalZone&&!!I.errors.postalZone,maxAccess:F})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(h.Z,{name:"cityName",label:p.cityName,value:I.values.cityName,onChange:I.handleChange,onClear:()=>I.setFieldValue("cityName",""),error:I.touched.cityName&&!!I.errors.cityName,maxAccess:F})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(h.Z,{name:"buildingNumber",label:p.buildingNumber,value:I.values.buildingNumber,onChange:I.handleChange,onClear:()=>I.setFieldValue("buildingNumber",""),error:I.touched.buildingNumber&&!!I.errors.buildingNumber,maxAccess:F})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(h.Z,{name:"streetName",label:p.streetName,value:I.values.streetName,onChange:I.handleChange,onClear:()=>I.setFieldValue("streetName",""),error:I.touched.streetName&&!!I.errors.streetName,maxAccess:F})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsx)(h.Z,{name:"citySubdivisionName",label:p.citySubdivisionName,value:I.values.citySubdivisionName,onChange:I.handleChange,onClear:()=>I.setFieldValue("citySubdivisionName",""),error:I.touched.citySubdivisionName&&!!I.errors.citySubdivisionName,maxAccess:F})})]})})]})})})})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=39476)}),_N_E=e.O()}]);