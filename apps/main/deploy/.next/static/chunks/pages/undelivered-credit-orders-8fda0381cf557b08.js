(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87660],{19658:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/undelivered-credit-orders",function(){return t(57232)}])},57232:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var n=t(52322),a=t(60218),s=t(2784),d=t(71987),o=t(65950),l=t(69387);t(39812),t(21346);var c=t(17627),i=t(26612),u=t(53621),y=t(61802),g=t(8661),p=t(27723),I=t(47441),C=t(31389),f=t(62362),q=t(33625),v=()=>{let{getRequest:e}=(0,s.useContext)(o.$),{stack:r}=(0,y.zY)();async function t(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:n=50}=r;return{...await e({extension:c.s.UndeliveredCreditOrder.page,parameters:"_startAt=".concat(t,"&_pageSize=").concat(n,"&filter=&_corId=0")}),_startAt:t}}async function v(r){var t,n;let{filters:a}=r;return await e({extension:c.s.UndeliveredCreditOrder.snapshot,parameters:"_filter=".concat(null!==(t=a.qry)&&void 0!==t?t:"","&_corId=").concat(null!==(n=a.corId)&&void 0!==n?n:0)})}window.sessionStorage.getItem("userData")&&JSON.parse(window.sessionStorage.getItem("userData"));let{query:{data:m},refetch:h,labels:P,filterBy:S,clearFilter:R,paginationParameters:O,access:x,filters:D}=(0,d.J)({queryFn:t,endpointId:c.s.UndeliveredCreditOrder.page,datasetId:i.i.CreditOrder,filter:{endpointId:c.s.UndeliveredCreditOrder.snapshot,filterFn:v}}),N=e=>{e?S("corId",e):R("corId")};return(0,n.jsxs)(C.R,{children:[(0,n.jsx)(q.g,{children:(0,n.jsx)(p.Z,{maxAccess:x,onSearch:e=>{S("qry",e)},onSearchClear:()=>{R("qry")},labels:P,inputSearch:!0,leftSection:(0,n.jsx)(a.ZP,{item:!0,xs:2.5,children:(0,n.jsx)(g.Z,{endpointId:u.d.Correspondent.qry,label:P.correspondent,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],name:"corId",values:{corId:D.corId},valueField:"recordId",displayField:["reference","name"],onChange:(e,r)=>{N(null==r?void 0:r.recordId)}})})})}),(0,n.jsx)(f.Q,{children:(0,n.jsx)(l.Z,{columns:[{field:"reference",headerName:P.reference,flex:1},{field:"date",headerName:P.date,flex:1,type:"date"},{field:"plantRef",headerName:P.plant},{field:"corName",headerName:P.correspondent,flex:1},{field:"currencyRef",headerName:P.currency,flex:1},{field:"amount",headerName:P.amount,flex:1},{field:"rsName",headerName:P.releaseStatus,flex:1},{field:"statusName",headerName:P.status,flex:1},{field:"wipName",headerName:P.wip,flex:1}],gridData:null!=m?m:{list:[]},rowId:["recordId"],onEdit:e=>{var t;t=e.recordId,r({Component:I.Z,props:{recordId:t}})},isLoading:!1,pageSize:50,maxAccess:x,refetch:h,paginationParameters:O,paginationType:D.qry&&!D.corId||D.corId&&!D.qry||D.qry&&D.corId?"client":(D.qry&&D.corId,"api")})})]})}},53621:function(e,r,t){"use strict";t.d(r,{d:function(){return a}});let n="RTSET.asmx/",a={Interface:{qry:n+"qryITF",page:n+"pageITF",get:n+"getITF",set:n+"setITF",del:n+"delITF"},ProductMaster:{qry:n+"qryPRO",page:n+"pagePRO",get:n+"getPRO",set:n+"setPRO",del:n+"delPRO",snapshot:n+"snapshotPRO"},ProductCountries:{qry:n+"qryPCO",set2:n+"set2PCO"},ProductMonetaries:{qry:n+"qryPMO",set2:n+"set2PMO"},ProductDispersal:{qry:n+"qryPDI",get:n+"getPDI",set:n+"setPDI",del:n+"delPDI"},ProductSchedules:{qry:n+"qryPSC",set2:n+"set2PSC"},ProductScheduleRanges:{qry:n+"qryPSR",set2:n+"set2PSR"},ProductScheduleFees:{qry:n+"qryPSF",set2:n+"set2PSF"},ProductDispersalAgents:{qry:n+"qryPDA",set2:n+"set2PDA"},Correspondent:{page:n+"pageCOR",qry:n+"qryCOR",qry2:n+"qry2COR",get:n+"getCOR",set:n+"setCOR",del:n+"delCOR",snapshot:n+"snapshotCOR"},CorrespondentCountry:{qry:n+"qryCCO",get:n+"getCCO",set2:n+"set2CCO",del:n+"delCCO"},CorrespondentCurrency:{qry:n+"qryCCU",get:n+"getCCU",set2:n+"set2CCU",del:n+"delCCU"},CorrespondentAgents:{qry:n+"qryAGT",page:n+"pageAGT",get:n+"getAGT",set:n+"setAGT",del:n+"delAGT"},CorrespondentAgentBranches:{qry:n+"qryABR",page:n+"pageABR",get:n+"getABR",set:n+"setABR",del:n+"delABR"},CorrespondentExchangeMap:{qry:n+"qryEXC",set2:n+"set2EXC"},CurrencyExchangeMap:{qry:n+"qryEXG",set2:n+"set2EXG"},CorrespondentExchangeBuyMap:{qry:n+"qryEXB",set2:n+"set2EXB"},ExchangeRates:{get:n+"getEXB",qry:n+"qryEXG2",set2:n+"set2EXB"},RtDefault:{qry:n+"qryDE",set2:n+"set2DE"},Profession:{qry:n+"qryPFN",page:n+"pagePFN",get:n+"getPFN",set:n+"setPFN",del:n+"delPFN",snapshot:n+"snapshotPFN"},ClientIndividual:{qry:n+"qryCLI"},SalaryRange:{qry:n+"qrySRA",page:n+"pageSRA",get:n+"getSRA",set:n+"setSRA",del:n+"delSRA"},SourceOfIncome:{qry:n+"qrySI",page:n+"pageSI",snapshot:n+"snapshotSI",get:n+"getSI",set:n+"setSI",del:n+"delSI"},CorrespondentControl:{qry:n+"qryCCL",set:n+"set2CCL"},InterfaceMaps:{qry:n+"qryIFM",get:n+"getIFM",set2:n+"set2IFM"},SourceOfIncomeType:{qry:n+"qrySIT",snapshot:n+"snapshotSIT",page:n+"pageSIT",get:n+"getSIT",set:n+"setSIT",del:n+"delSIT"},ProfessionGroups:{qry:n+"qryPFG",page:n+"pagePFG",snapshot:n+"snapshotPFG",get:n+"getPFG",set:n+"setPFG",del:n+"delPFG"},CorrespondentGroup:{qry:n+"qryCGP",page:n+"pageCGP",get:n+"getCGP",set:n+"setCGP",del:n+"delCGP"},ExtraIncome:{qry:n+"qryEI",get:n+"getEI",del:n+"delEI",page:n+"pageEI",snapshot:n+"snapshotEI",set:n+"setEI"},CountryRisk:{page:n+"pageCOU",get:n+"getCOU",set:n+"setCOU",del:n+"delCOU"},CorDispControl:{qry:n+"qryCDC",set2:n+"set2CDC"},CorrespondentDispersal:{qry:n+"qryCDM",get:n+"getCDM",del:n+"delCDM",set2:n+"set2CDM"},CorrespondentDispersalRate:{qry:n+"qryCDR",set2:n+"set2CDR"}}},1685:function(e,r,t){"use strict";t.d(r,{m:function(){return n}});let n=e=>{let r=window.sessionStorage.getItem(e);return r?JSON.parse(r):null}},98345:function(e,r,t){"use strict";t.d(r,{H:function(){return I},G:function(){return p}});var n=t(45300),a=t(2784),s=t(96026),d=t(38449);t(26612);var o=t(65947),l=t(1685);let c=async(e,r,t)=>{try{let n=await e({extension:r,parameters:t});return r.includes("qry")?n:n.record}catch(e){return null}},i=(e,r,t,n)=>{let a=(e=JSON.parse(JSON.stringify(e))).record.controls,s=a.find(e=>"reference"===e.controlId);return s?s.accessLevel=(null==r?void 0:r.mandatory)?o.$7:o.rr:(null==r?void 0:r.mandatory)?a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","reference"),accessLevel:(null==r?void 0:r.mandatory)?o.$7:o.rr}):(null==r?void 0:r.readOnly)?a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","reference"),accessLevel:(null==r?void 0:r.readOnly)?o.rr:o.$7}):a=e.record.controls.filter(e=>"reference"!=e.controlId),t&&a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","dtId"),accessLevel:o.$7}),{...e,record:{...e.record,controls:a}}},u=async(e,r,t)=>{let n,a;switch(t){case"dtId":let s=(0,l.m)("userData"),o=null==s?void 0:s.userId;a="_userId=".concat(o,"&_functionId=").concat(r),n=d.r.UserFunction.get;break;case"glbSysNumberRange":a="_recordId=".concat(r),n=d.r.SystemFunction.get;break;case"DocumentType":a="_dgId=".concat(r,"&_startAt=",0,"&_pageSize=",50),n=d.r.DocumentType.qry;break;case"DcTypNumberRange":a="_recordId=".concat(r),n=d.r.DocumentType.get;break;case"isExternal":a="_recordId=".concat(r),n=d.r.NumberRange.get;break;default:return null}return await c(e,n,a)},y=async function(e){let r,t,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=!(arguments.length>4)||void 0===arguments[4]||arguments[4],c=arguments.length>5?arguments[5]:void 0,y=void 0===o&&s&&await u(e,s,"dtId"),g=null==y?void 0:y.dtId,p="",I=!0;if(y&&void 0===o||"nraId"===o){if(g){let t=await u(e,g,"DcTypNumberRange");r=null==t?void 0:t.nraId,I=!((null==t?void 0:t.activeStatus)<0),r||(p="Assign the document type to a number range")}if((!g||!I)&&l&&s){var C;let r=await u(e,s,"DocumentType");a=(null==r?void 0:null===(C=r.list)||void 0===C?void 0:C.filter(e=>(null==e?void 0:e.activeStatus)===1).length)>0}}if(("nraId"===o||void 0===o)&&s){if((!g||g)&&!r||r&&!I){let t=await u(e,s,"glbSysNumberRange");(r=null==t?void 0:t.nraId)&&a&&(a=!1),I=!0}p=r||a?"":"Assign the system Function to a number range"}o>0&&!r&&(r=o),r&&I?(t={readOnly:null==(n=await u(e,r,"isExternal"))||!n.external,mandatory:null!=n&&!!n.external},d&&(d=await i(d,t,a,c))):!r&&d&&(d=await i(d,t,a,c));let f=c?"".concat(c,".reference"):"reference";return{dtId:g,resetReference:null==t?void 0:t.readOnly,dcTypeRequired:a,reference:{fieldName:f,isEmpty:(null==n?void 0:n.external)!==void 0&&(null==n||!n.external)},errorMessage:p,maxAccess:d,selectNraId:o}};var g=t(65950);function p(e){let{functionId:r,action:t,hasDT:n}=e,{getRequest:d}=(0,a.useContext)(g.$),{stack:o}=(0,s.V)();return{proxyAction:async()=>{let e=await y(d,r,"",void 0,n);(null==e?void 0:e.errorMessage)?o({message:null==e?void 0:e.errorMessage}):await t()}}}function I(e){var r;let{functionId:t,access:d,hasDT:o,enabled:l=!0,objectName:c=""}=e,{getRequest:i}=(0,a.useContext)(g.$),{stack:u}=(0,s.V)(),[p,I]=(0,a.useState)(),C=async e=>{let r=await y(i,t,d,e,o,c);if(!r.errorMessage)return r;u({message:null==r?void 0:r.errorMessage})},f=(0,n.a)({retry:!1,staleTime:0,enabled:l,queryKey:[t,p,!!d,l],queryFn:p||"nraId"===p?()=>C(p):()=>C()});return{documentType:f.data,maxAccess:(null==f?void 0:null===(r=f.data)||void 0===r?void 0:r.maxAccess)||d,changeDT(e){I((null==e?void 0:e.nraId)||"nraId")}}}},30390:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(52322),a=t(60218);function s(e){let{hideonempty:r=!1,children:t,...s}=e;return(0,n.jsx)(a.ZP,{...s,className:r?"__hide-on-empty":"",children:t})}}},function(e){e.O(0,[78451,58974,47441,49774,92888,40179],function(){return e(e.s=19658)}),_N_E=e.O()}]);