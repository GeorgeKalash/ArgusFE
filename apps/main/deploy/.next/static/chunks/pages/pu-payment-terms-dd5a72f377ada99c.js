(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46337],{65295:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pu-payment-terms",function(){return s(70053)}])},70053:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(52322),n=s(2784),r=s(62202),d=s(69387),l=s(27723),o=s(65950),i=s(61802),c=s(71987),u=s(26612),p=s(31389),y=s(33625),g=s(62362),h=s(19473),m=s(2454),P=s(60218),R=s(48601),I=s(82737),D=s(5088),f=s(80983),q=s(91406),x=s(8661),V=s(84100);function C(e){let{labels:t,maxAccess:s,recordId:d}=e,{getRequest:l,postRequest:i}=(0,n.useContext)(o.$),{platformLabels:y}=(0,n.useContext)(h.l),C=(0,c.E)({endpointId:m.y.PaymentTerms.qry}),{formik:T}=(0,f.c)({initialValues:{recordId:d||null,name:"",reference:"",type:"",discount:"",discountDays:"",days:0},maxAccess:s,validateOnChange:!0,validationSchema:R.Ry({name:R.Z_().required(),reference:R.Z_().required(),type:R.Z_().required()}),onSubmit:async e=>{let t=await i({extension:m.y.PaymentTerms.set,record:JSON.stringify(e)});e.recordId?r.ZP.success(y.Edited):(r.ZP.success(y.Added),T.setFieldValue("recordId",t.recordId)),C()}}),E=!!T.values.recordId;return(0,n.useEffect)(()=>{!async function(){if(d){let e=await l({extension:m.y.PaymentTerms.get,parameters:"_recordId=".concat(d)});T.setValues(e.record)}}()},[]),(0,a.jsx)(I.Z,{resourceId:u.i.PaymentTerm,form:T,maxAccess:s,editMode:E,children:(0,a.jsx)(p.R,{children:(0,a.jsx)(g.Q,{children:(0,a.jsxs)(P.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(P.ZP,{item:!0,xs:12,children:(0,a.jsx)(D.Z,{name:"reference",label:t.reference,value:T.values.reference,required:!0,maxAccess:s,onChange:T.handleChange,onClear:()=>T.setFieldValue("reference",""),error:T.touched.reference&&!!T.errors.reference})}),(0,a.jsx)(P.ZP,{item:!0,xs:12,children:(0,a.jsx)(D.Z,{name:"name",label:t.name,value:T.values.name,required:!0,maxAccess:s,maxLength:"30",onChange:T.handleChange,onClear:()=>T.setFieldValue("name",""),error:T.touched.name&&!!T.errors.name})}),(0,a.jsx)(P.ZP,{item:!0,xs:12,children:(0,a.jsx)(x.Z,{datasetId:V.v.PAYMENT_TERM_TYPE,name:"type",label:t.type,required:!0,valueField:"key",displayField:"value",values:T.values,maxAccess:s,onChange:(e,t)=>{T.setFieldValue("type",null==t?void 0:t.key)},error:T.touched.type&&!!T.errors.type})}),(0,a.jsx)(P.ZP,{item:!0,xs:12,children:(0,a.jsx)(q.Z,{name:"discountDays",label:t.discountDays,value:T.values.discountDays,onChange:T.handleChange,onClear:()=>T.setFieldValue("discountDays","")})}),(0,a.jsx)(P.ZP,{item:!0,xs:12,children:(0,a.jsx)(q.Z,{name:"days",label:t.days,value:T.values.days,onChange:T.handleChange,onClear:()=>T.setFieldValue("days",0)})}),(0,a.jsx)(P.ZP,{item:!0,xs:12,children:(0,a.jsx)(q.Z,{name:"discount",label:t.discount,value:T.values.discount,onChange:T.handleChange,onClear:()=>T.setFieldValue("discount","")})})]})})})})}var T=()=>{let{getRequest:e,postRequest:t}=(0,n.useContext)(o.$),{platformLabels:s}=(0,n.useContext)(h.l),{stack:P}=(0,i.zY)();async function R(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:a=50}=t;try{return{...await e({extension:m.y.PaymentTerms.qry,parameters:"_startAt=".concat(s,"&_pageSize=").concat(a,"&_filter=&_sortField=")}),_startAt:s}}catch(e){}}let{query:{data:I},labels:D,invalidate:f,paginationParameters:q,refetch:x,access:V}=(0,c.J)({queryFn:R,endpointId:m.y.PaymentTerms.qry,datasetId:u.i.PUPaymentTerms}),T=[{field:"reference",headerName:D.reference,flex:1},{field:"name",headerName:D.name,flex:1},{field:"ptName",headerName:D.paymentType,flex:1},{field:"days",headerName:D.days,flex:1},{field:"discountDays",headerName:D.discountDays,flex:1},{field:"discount",headerName:D.discount,flex:1}],E=async e=>{try{await t({extension:m.y.PaymentTerms.del,record:JSON.stringify(e)}),f(),r.ZP.success(s.Deleted)}catch(e){}};function v(e){P({Component:C,props:{labels:D,recordId:e,maxAccess:V},width:600,height:450,title:D.paymentTerms})}return(0,a.jsxs)(p.R,{children:[(0,a.jsx)(y.g,{children:(0,a.jsx)(l.Z,{onAdd:()=>{v()},maxAccess:V})}),(0,a.jsx)(g.Q,{children:(0,a.jsx)(d.Z,{columns:T,gridData:I,rowId:["recordId"],onEdit:e=>{v(null==e?void 0:e.recordId)},onDelete:E,isLoading:!1,pageSize:50,refetch:x,paginationParameters:q,paginationType:"api",maxAccess:V})})]})}},2454:function(e,t,s){"use strict";s.d(t,{y:function(){return n}});let a="PU.asmx/",n={VendorGroups:{qry:a+"qryGRP",page:a+"pageGRP",get:a+"getGRP",set:a+"setGRP",del:a+"delGRP"},PriceList:{qry:a+"qryPRI",del:a+"delPRI",get:a+"getPRI",set:a+"setPRI"},PUOrderStatus:{qry:a+"qryPOS",page:a+"pagePOS",get:a+"getPOS",set:a+"setPOS",del:a+"delPOS"},DeliveryMethods:{qry:a+"qryDM",page:a+"pageDM",get:a+"getDM",set:a+"setDM",del:a+"delDM"},PaymentTerms:{qry:a+"qryPT",page:a+"pagePT",get:a+"getPT",set:a+"setPT",del:a+"delPT"},Vendor:{snapshot:a+"snapshotVEN",qry:a+"qryVEN",page:a+"pageVEN",get:a+"getVEN",set:a+"setVEN",del:a+"delVEN"},Address:{qry:a+"qryAD",page:a+"pageAD",get:a+"getAD",set:a+"setAD",del:a+"delAD"},DocumentTypeDefault:{qry:a+"qryDTD",get:a+"getDTD",set:a+"setDTD",del:a+"delDTD",page:a+"pageDTD"},PurchaseInvoiceHeader:{qry:a+"qryIVC",get:a+"getIVC",get2:a+"get2IVC",level2_PU:a+"level2_PU",set:a+"setIVC",del:a+"delIVC",snapshot:a+"snapshotIVC",set2:a+"set2IVC",post:a+"postIVC",unpost:a+"unpostIVC",generate:a+"generateIVC",preview:a+"previewIVC",sync:a+"syncIVC",verify:a+"verifyIVC"},Invoice:{snapshot:a+"snapshotINV"},PurchaseReturnHeader:{set2:a+"set2IVR",post:a+"postIVR",unpost:a+"unpostIVR",del:a+"delIVR",qry:a+"qryIVR",snapshot:a+"snapshotIVR"},VendorPrice:{get:a+"getPRI2"},ItemCostHistory:{qry:a+"qryIPH"},ItemPromotion:{qry:a+"qryIVIM"},Serials:{qry:a+"qrySRL",import:a+"importSRL",last:a+"lastSRL",sync:a+"syncSRL"},Shipment:{get:a+"getSHP",set2:a+"set2SHP",del:a+"delSHP",page:a+"pageSHP",snapshot:a+"snapshotSHP",post:a+"postSHP",unpost:a+"unpostSHP",gen:a+"genSHP"},ShipmentItem:{qry:a+"qrySHI"},UnpostedOrderPack:{get:a+"openORD",snapshot:a+"snapshotORD"},PurchaseOrder:{page:a+"pageORD",snapshot:a+"snapshotORD",del:a+"delORD",set2:a+"set2ORD",get2:a+"get2ORD",close:a+"closeORD",reopen:a+"reopenORD",terminate:a+"terminateORD",transfer:a+"transfer1ORD"},PurchaseRequisition:{snapshot:a+"snapshotREQ",page:a+"pageREQ",get:a+"getREQ",set:a+"setREQ",del:a+"delREQ",cancel:a+"cancelREQ",reopen:a+"reopenREQ",close:a+"closeREQ"},RequisitionDetail:{qry:a+"qryREI",set:a+"setREI",get:a+"getREI",del:a+"delREI"},QuotationItem:{preview:a+"previewQTI",qry:a+"qryQTI"},OrderItem:{qry:a+"qryORI",set2:a+"set2ORI"},PUDraftReturn:{set2:a+"set2DRE",get:a+"getDRE",page:a+"pageDRE",snapshot:a+"snapshotDRE",del:a+"delDRE",post:a+"postDRE"},PUDraftReturnSerial:{get2:a+"get2DRS",qry:a+"qryDRS",del:a+"delDRS",append:a+"appendDRS",batch:a+"batchDRS"},FinancialGroup:{qry:a+"qryFII",set2:a+"set2FII"},PUInvoiceRetBalance:{balance:a+"balanceRET"},ItemLastPurchaseInfo:{last:a+"lastIVI"},PurchaseQuotation:{page:a+"pageQTN",set2:a+"set2QTN",get:a+"getQTN",del:a+"delQTN",snapshot:a+"snapshotQTN"},GenerateQTNPRPack:{gen:a+"genQTN"},GeneratePOPRPack:{gen:a+"genPO",gen2:a+"gen2PO"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=65295)}),_N_E=e.O()}]);