(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26920],{90095:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lo-collector",function(){return n(49179)}])},49179:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return A}});var t=n(52322),o=n(2784),a=n(62202),c=n(69387),s=n(27723),l=n(65950),d=n(51264),i=n(71987),u=n(26612),f=n(62362),p=n(31389),g=n(33625),m=n(60218),C=n(48601),h=n(82737),x=n(5088),L=n(80983),_=n(19473);function I(e){let{labels:r,maxAccess:n,recordId:c}=e,{getRequest:s,postRequest:g}=(0,o.useContext)(l.$),{platformLabels:I}=(0,o.useContext)(_.l),y=(0,i.E)({endpointId:d.p.LoCollector.page}),{formik:A}=(0,L.c)({initialValues:{recordId:null,reference:"",name:""},maxAccess:n,validateOnChange:!0,validationSchema:C.Ry({reference:C.Z_().required(),name:C.Z_().required()}),onSubmit:async e=>{let r=await g({extension:d.p.LoCollector.set,record:JSON.stringify(e)});e.recordId||A.setValues({...e,recordId:r.recordId}),a.ZP.success(e.recordId?I.Edited:I.Added),y()}}),j=!!A.values.recordId;return(0,o.useEffect)(()=>{!async function(){if(c){let e=await s({extension:d.p.LoCollector.get,parameters:"_recordId=".concat(c)});A.setValues(e.record)}}()},[]),(0,t.jsx)(h.Z,{resourceId:u.i.LoCollectors,form:A,maxAccess:n,editMode:j,children:(0,t.jsx)(p.R,{children:(0,t.jsx)(f.Q,{children:(0,t.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(m.ZP,{item:!0,xs:12,children:(0,t.jsx)(x.Z,{name:"reference",label:r.reference,value:A.values.reference,required:!0,maxAccess:n,maxLength:"10",onChange:A.handleChange,onClear:()=>A.setFieldValue("reference",""),error:A.touched.reference&&!!A.errors.reference})}),(0,t.jsx)(m.ZP,{item:!0,xs:12,children:(0,t.jsx)(x.Z,{name:"name",label:r.name,value:A.values.name,required:!0,maxAccess:n,maxLength:"30",onChange:A.handleChange,onClear:()=>A.setFieldValue("name",""),error:A.touched.name&&!!A.errors.name})})]})})})})}var y=n(61802),A=()=>{let{getRequest:e,postRequest:r}=(0,o.useContext)(l.$),{stack:n}=(0,y.zY)();async function m(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:n=0,_pageSize:t=50}=r;return{...await e({extension:d.p.LoCollector.page,parameters:"_startAt=".concat(n,"&_pageSize=").concat(t,"&filter=")}),_startAt:n}}let{query:{data:C},labels:h,paginationParameters:x,refetch:L,access:_}=(0,i.J)({queryFn:m,endpointId:d.p.LoCollector.page,datasetId:u.i.LoCollectors}),A=(0,i.E)({endpointId:d.p.LoCollector.page}),j=[{field:"reference",headerName:h.reference,flex:1},{field:"name",headerName:h.name,flex:1}];function w(e){n({Component:I,props:{labels:h,recordId:e,maxAccess:_},width:500,height:300,title:h.collector})}let P=async e=>{await r({extension:d.p.LoCollector.del,record:JSON.stringify(e)}),A(),a.ZP.success("Record Deleted Successfully")};return(0,t.jsxs)(p.R,{children:[(0,t.jsx)(g.g,{children:(0,t.jsx)(s.Z,{onAdd:()=>{w()},maxAccess:_})}),(0,t.jsx)(f.Q,{children:(0,t.jsx)(c.Z,{columns:j,gridData:C,rowId:["recordId"],onEdit:e=>{w(null==e?void 0:e.recordId)},onDelete:P,isLoading:!1,pageSize:50,paginationType:"api",refetch:L,paginationParameters:x,maxAccess:_})})]})}},51264:function(e,r,n){"use strict";n.d(r,{p:function(){return o}});let t="LO.asmx/",o={LoCollector:{qry:t+"qryCOL",get:t+"getCOL",set:t+"setCOL",page:t+"pageCOL",del:t+"delCOL"},LoCarrier:{qry:t+"qryCAR",get:t+"getCAR",set:t+"setCAR",page:t+"pageCAR",del:t+"delCAR"},Shipment:{get2:t+"get2SHP",set2:t+"set2SHP"},Transportation:{get:t+"getTPT",set:t+"setTPT"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=90095)}),_N_E=e.O()}]);