(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46673],{17545:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rt-legal-dt",function(){return t(88284)}])},88284:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return C}});var n=t(52322),r=t(2784),s=t(62202),i=t(69387),c=t(27723),d=t(65950),o=t(71987),l=t(26612),u=t(31389),D=t(33625),h=t(62362),m=t(61802),x=t(19473),f=t(60218),p=t(48601),g=t(82737),_=t(5088),I=t(80983),w=t(24074);function T(e){let{labels:a,maxAccess:t,recordId:i}=e,{getRequest:c,postRequest:D}=(0,r.useContext)(d.$),{platformLabels:m}=(0,r.useContext)(x.l),T=(0,o.E)({endpointId:w.u.MasterDataDTD.page}),{formik:C}=(0,I.c)({initialValues:{recordId:null,name:""},maxAccess:t,validateOnChange:!0,validationSchema:p.Ry({name:p.Z_().required()}),onSubmit:async e=>{let a=await D({extension:w.u.MasterDataDTD.set,record:JSON.stringify(e)});s.ZP.success(e.recordId?m.Edited:m.Added),e.recordId||C.setFieldValue("recordId",a.recordId),T()}}),j=!!C.values.recordId;return(0,r.useEffect)(()=>{!async function(){if(i){let e=await c({extension:w.u.MasterDataDTD.get,parameters:"_recordId=".concat(i)});C.setValues(null==e?void 0:e.record)}}()},[]),(0,n.jsx)(g.Z,{resourceId:l.i.MasterDataDTD,form:C,maxAccess:t,editMode:j,children:(0,n.jsx)(u.R,{children:(0,n.jsx)(h.Q,{children:(0,n.jsx)(f.ZP,{container:!0,spacing:2,children:(0,n.jsx)(f.ZP,{item:!0,xs:12,children:(0,n.jsx)(_.Z,{name:"name",label:a.name,value:C.values.name,required:!0,maxAccess:t,maxLength:"50",onChange:C.handleChange,onClear:()=>C.setFieldValue("name",""),error:C.touched.name&&!!C.errors.name})})})})})})}var C=()=>{let{getRequest:e,postRequest:a}=(0,r.useContext)(d.$),{platformLabels:t}=(0,r.useContext)(x.l),{stack:f}=(0,m.zY)();async function p(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:n=50}=a;return{...await e({extension:w.u.MasterDataDTD.page,parameters:"_startAt=".concat(t,"&_pageSize=").concat(n,"&_filter=")}),_startAt:t}}async function g(a){let{qry:t}=a;return await e({extension:w.u.MasterDataDTD.snapshot,parameters:"_filter=".concat(t)})}let{query:{data:_},search:I,clear:C,labels:j,paginationParameters:y,refetch:M,invalidate:v,access:A}=(0,o.J)({queryFn:p,endpointId:w.u.MasterDataDTD.page,datasetId:l.i.MasterDataDTD,search:{searchFn:g}}),E=[{field:"name",headerName:j.name,flex:1}];function S(e){f({Component:T,props:{labels:j,recordId:e,maxAccess:A},width:500,height:250,title:j.MasterDataDTD})}let Z=async e=>{await a({extension:w.u.MasterDataDTD.del,record:JSON.stringify(e)}),s.ZP.success(t.Deleted),v()};return(0,n.jsxs)(u.R,{children:[(0,n.jsx)(D.g,{children:(0,n.jsx)(c.Z,{onAdd:()=>{S()},maxAccess:A,onSearch:I,onSearchClear:C,inputSearch:!0})}),(0,n.jsx)(h.Q,{children:(0,n.jsx)(i.Z,{name:"table",columns:E,gridData:_,rowId:["recordId"],onEdit:e=>{S(null==e?void 0:e.recordId)},onDelete:Z,pageSize:50,paginationType:"api",paginationParameters:y,refetch:M,maxAccess:A})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=17545)}),_N_E=e.O()}]);