(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1486],{1697:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gl-account-groups",function(){return n(56316)}])},56316:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return C}});var c=n(52322),t=n(2784),a=n(62202),s=n(69387),o=n(27723),d=n(65950),i=n(66361),u=n(71987),l=n(26612),x=n(31389),f=n(33625),h=n(62362),m=n(60218),p=n(48601),g=n(82737),A=n(5088),_=n(80983),G=n(19473);function I(e){let{labels:r,maxAccess:n,recordId:s,invalidate:o}=e,{getRequest:u,postRequest:f}=(0,t.useContext)(d.$),{platformLabels:I}=(0,t.useContext)(G.l),{formik:j}=(0,_.c)({initialValues:{recordId:s||null,reference:"",name:""},maxAccess:n,validateOnChange:!0,validationSchema:p.Ry({reference:p.Z_().required(),name:p.Z_().required()}),onSubmit:async e=>{let r=await f({extension:i.x.GLAccountGroups.set,record:JSON.stringify(e)});e.recordId||j.setValues({...e,recordId:r.recordId}),a.ZP.success(e.recordId?I.Edited:I.Added),o()}}),C=!!j.values.recordId;return(0,t.useEffect)(()=>{!async function(){if(s){let e=await u({extension:i.x.GLAccountGroups.get,parameters:"_recordId=".concat(s)});j.setValues(e.record)}}()},[]),(0,c.jsx)(g.Z,{resourceId:l.i.GLAccountGroups,form:j,maxAccess:n,editMode:C,children:(0,c.jsx)(x.R,{children:(0,c.jsxs)(h.Q,{children:[" ",(0,c.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,c.jsx)(m.ZP,{item:!0,xs:12,children:(0,c.jsx)(A.Z,{name:"reference",label:r.reference,value:j.values.reference,required:!0,maxAccess:n,maxLength:"10",onChange:j.handleChange,onClear:()=>j.setFieldValue("reference",""),error:j.touched.reference&&!!j.errors.reference,helperText:j.touched.reference&&j.errors.reference})}),(0,c.jsx)(m.ZP,{item:!0,xs:12,children:(0,c.jsx)(A.Z,{name:"name",label:r.name,value:j.values.name,required:!0,maxLength:"50",maxAccess:n,onChange:j.handleChange,onClear:()=>j.setFieldValue("name",""),error:j.touched.name&&!!j.errors.name,helperText:j.touched.name&&j.errors.name})})]})]})})})}var j=n(61802),C=()=>{let{getRequest:e,postRequest:r}=(0,t.useContext)(d.$),{stack:n}=(0,j.zY)();async function m(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:n=0,_pageSize:c=50}=r;return{...await e({extension:i.x.GLAccountGroups.page,parameters:"_startAt=".concat(n,"&_pageSize=").concat(c,"&filter=")}),_startAt:n}}let p=(0,u.E)({endpointId:i.x.GLAccountGroups.page}),{query:{data:g},labels:A,paginationParameters:_,refetch:G,access:C}=(0,u.J)({queryFn:m,endpointId:i.x.GLAccountGroups.page,datasetId:l.i.GLAccountGroups}),v=[{field:"reference",headerName:A.reference,flex:1},{field:"name",headerName:A.name,flex:1}],w=async e=>{await r({extension:i.x.GLAccountGroups.del,record:JSON.stringify(e)}),p(),a.ZP.success("Record Deleted Successfully")};function Z(e){n({Component:I,props:{labels:A,recordId:e||null,maxAccess:C,invalidate:p},width:600,height:300,title:A.accountGroup})}return(0,c.jsxs)(x.R,{children:[(0,c.jsx)(f.g,{children:(0,c.jsx)(o.Z,{onAdd:()=>{Z()},maxAccess:C})}),(0,c.jsx)(h.Q,{children:(0,c.jsx)(s.Z,{columns:v,gridData:g,rowId:["recordId"],onEdit:e=>{Z(null==e?void 0:e.recordId)},onDelete:w,isLoading:!1,pageSize:50,paginationType:"api",maxAccess:C,refetch:G,paginationParameters:_})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=1697)}),_N_E=e.O()}]);