(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20999],{2632:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pu-req-dtd",function(){return s(18505)}])},18505:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var n=s(52322),a=s(2784),r=s(62202),d=s(69387),o=s(27723),l=s(65950),i=s(61802),c=s(71987),p=s(26612),u=s(31389),g=s(33625),I=s(62362),y=s(19473),D=s(7121),R=s(2454),P=s(60218),m=s(48601),h=s(82737),f=s(80983),q=s(38449),S=s(8661),T=s(19689);function V(e){var t;let{labels:s,maxAccess:d,recordId:o,window:i}=e,{platformLabels:g}=(0,a.useContext)(y.l),{getRequest:V,postRequest:v}=(0,a.useContext)(l.$),x=(0,c.E)({endpointId:R.y.DocumentTypeDefault.page}),{formik:E}=(0,f.c)({initialValues:{recordId:o,functionId:D.J.PurchaseRequisition,dtId:null,plantId:null,disableSKULookup:!1},maxAccess:d,validationSchema:m.Ry({dtId:m.Z_().required()}),onSubmit:async e=>{await v({extension:R.y.DocumentTypeDefault.set,record:JSON.stringify(e)}),E.setFieldValue("recordId",E.values.dtId),r.ZP.success(o?g.Edited:g.Added),x(),i.close()}}),O=!!E.values.recordId;return(0,a.useEffect)(()=>{!async function(){if(o){let e=await V({extension:R.y.DocumentTypeDefault.get,parameters:"_dtId=".concat(o)});E.setValues({...e.record,recordId:e.record.dtId})}}()},[]),(0,n.jsx)(h.Z,{resourceId:p.i.PUDocumentTypeDefaults,form:E,maxAccess:d,editMode:O,children:(0,n.jsx)(u.R,{children:(0,n.jsx)(I.Q,{children:(0,n.jsxs)(P.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(P.ZP,{item:!0,xs:12,children:(0,n.jsx)(S.Z,{endpointId:q.r.DocumentType.qry,parameters:"_startAt=0&_pageSize=1000&_dgId=".concat(D.J.PurchaseRequisition),name:"dtId",required:!0,label:s.documentType,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],readOnly:O,values:E.values,maxAccess:d,onChange:(e,t)=>{E.setFieldValue("dtId",(null==t?void 0:t.recordId)||null)},error:E.touched.dtId&&!!E.errors.dtId})}),(0,n.jsx)(P.ZP,{item:!0,xs:12,children:(0,n.jsx)(S.Z,{endpointId:q.r.Plant.qry,name:"plantId",label:s.plant,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Ref"},{key:"name",value:"Name"}],values:E.values,maxAccess:d,onChange:(e,t)=>{E.setFieldValue("plantId",(null==t?void 0:t.recordId)||null)},error:E.touched.plantId&&!!E.errors.plantId})}),(0,n.jsx)(P.ZP,{item:!0,xs:12,children:(0,n.jsx)(T.Z,{name:"disableSKULookup",value:null===(t=E.values)||void 0===t?void 0:t.disableSKULookup,onChange:e=>E.setFieldValue("disableSKULookup",e.target.checked),label:s.dsl,maxAccess:d})})]})})})})}var v=()=>{let{getRequest:e,postRequest:t}=(0,a.useContext)(l.$),{platformLabels:s}=(0,a.useContext)(y.l),{stack:P}=(0,i.zY)();async function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:n=50}=t;return{...await e({extension:R.y.DocumentTypeDefault.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(n,"&_filter=&_functionId=").concat(D.J.PurchaseRequisition)}),_startAt:s}}let{query:{data:h},labels:f,invalidate:q,refetch:S,access:T,paginationParameters:v}=(0,c.J)({queryFn:m,endpointId:R.y.DocumentTypeDefault.page,datasetId:p.i.RequisitionDocumentTypeDefaults}),x=[{field:"dtName",headerName:f.documentType,flex:1},{field:"plantName",headerName:f.plant,flex:1}],E=async e=>{await t({extension:R.y.DocumentTypeDefault.del,record:JSON.stringify(e)}),q(),r.ZP.success(s.Deleted)};function O(e){P({Component:V,props:{labels:f,recordId:null==e?void 0:e.dtId,maxAccess:T},width:600,height:500,title:f.DocumentTypeDefault})}return(0,n.jsxs)(u.R,{children:[(0,n.jsx)(g.g,{children:(0,n.jsx)(o.Z,{onAdd:()=>{O()},maxAccess:T})}),(0,n.jsx)(I.Q,{children:(0,n.jsx)(d.Z,{name:"table",columns:x,gridData:h,rowId:["dtId"],onEdit:e=>{O(e)},onDelete:E,isLoading:!1,pageSize:50,refetch:S,paginationType:"api",paginationParameters:v,maxAccess:T})})]})}},2454:function(e,t,s){"use strict";s.d(t,{y:function(){return a}});let n="PU.asmx/",a={VendorGroups:{qry:n+"qryGRP",page:n+"pageGRP",get:n+"getGRP",set:n+"setGRP",del:n+"delGRP"},PriceList:{qry:n+"qryPRI",del:n+"delPRI",get:n+"getPRI",set:n+"setPRI"},PUOrderStatus:{qry:n+"qryPOS",page:n+"pagePOS",get:n+"getPOS",set:n+"setPOS",del:n+"delPOS"},DeliveryMethods:{qry:n+"qryDM",page:n+"pageDM",get:n+"getDM",set:n+"setDM",del:n+"delDM"},PaymentTerms:{qry:n+"qryPT",page:n+"pagePT",get:n+"getPT",set:n+"setPT",del:n+"delPT"},Vendor:{snapshot:n+"snapshotVEN",qry:n+"qryVEN",page:n+"pageVEN",get:n+"getVEN",set:n+"setVEN",del:n+"delVEN"},Address:{qry:n+"qryAD",page:n+"pageAD",get:n+"getAD",set:n+"setAD",del:n+"delAD"},DocumentTypeDefault:{qry:n+"qryDTD",get:n+"getDTD",set:n+"setDTD",del:n+"delDTD",page:n+"pageDTD"},PurchaseInvoiceHeader:{qry:n+"qryIVC",get:n+"getIVC",get2:n+"get2IVC",level2_PU:n+"level2_PU",set:n+"setIVC",del:n+"delIVC",snapshot:n+"snapshotIVC",set2:n+"set2IVC",post:n+"postIVC",unpost:n+"unpostIVC",generate:n+"generateIVC",preview:n+"previewIVC",sync:n+"syncIVC",verify:n+"verifyIVC"},Invoice:{snapshot:n+"snapshotINV"},PurchaseReturnHeader:{set2:n+"set2IVR",post:n+"postIVR",unpost:n+"unpostIVR",del:n+"delIVR",qry:n+"qryIVR",snapshot:n+"snapshotIVR"},VendorPrice:{get:n+"getPRI2"},ItemCostHistory:{qry:n+"qryIPH"},ItemPromotion:{qry:n+"qryIVIM"},Serials:{qry:n+"qrySRL",import:n+"importSRL",last:n+"lastSRL",sync:n+"syncSRL"},Shipment:{get:n+"getSHP",set2:n+"set2SHP",del:n+"delSHP",page:n+"pageSHP",snapshot:n+"snapshotSHP",post:n+"postSHP",unpost:n+"unpostSHP",gen:n+"genSHP"},ShipmentItem:{qry:n+"qrySHI"},UnpostedOrderPack:{get:n+"openORD",snapshot:n+"snapshotORD"},PurchaseOrder:{page:n+"pageORD",snapshot:n+"snapshotORD",del:n+"delORD",set2:n+"set2ORD",get2:n+"get2ORD",close:n+"closeORD",reopen:n+"reopenORD",terminate:n+"terminateORD",transfer:n+"transfer1ORD"},PurchaseRequisition:{snapshot:n+"snapshotREQ",page:n+"pageREQ",get:n+"getREQ",set:n+"setREQ",del:n+"delREQ",cancel:n+"cancelREQ",reopen:n+"reopenREQ",close:n+"closeREQ"},RequisitionDetail:{qry:n+"qryREI",set:n+"setREI",get:n+"getREI",del:n+"delREI"},QuotationItem:{preview:n+"previewQTI",qry:n+"qryQTI"},OrderItem:{qry:n+"qryORI",set2:n+"set2ORI"},PUDraftReturn:{set2:n+"set2DRE",get:n+"getDRE",page:n+"pageDRE",snapshot:n+"snapshotDRE",del:n+"delDRE",post:n+"postDRE"},PUDraftReturnSerial:{get2:n+"get2DRS",qry:n+"qryDRS",del:n+"delDRS",append:n+"appendDRS",batch:n+"batchDRS"},FinancialGroup:{qry:n+"qryFII",set2:n+"set2FII"},PUInvoiceRetBalance:{balance:n+"balanceRET"},ItemLastPurchaseInfo:{last:n+"lastIVI"},PurchaseQuotation:{page:n+"pageQTN",set2:n+"set2QTN",get:n+"getQTN",del:n+"delQTN",snapshot:n+"snapshotQTN"},GenerateQTNPRPack:{gen:n+"genQTN"},GeneratePOPRPack:{gen:n+"genPO",gen2:n+"gen2PO"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=2632)}),_N_E=e.O()}]);