(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81936],{37827:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/de-trip-exp-types",function(){return s(1787)}])},1787:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return v}});var r=s(52322),t=s(2784),a=s(62202),i=s(69387),d=s(27723),o=s(65950),l=s(30043),c=s(26612),p=s(31389),u=s(61802),g=s(71987),T=s(33625),x=s(62362),h=s(19473),f=s(60218),R=s(48601),y=s(82737),m=s(5088),I=s(21581),P=s(80983);function E(e){let{labels:n,maxAccess:s,recordId:i}=e,{getRequest:d,postRequest:u}=(0,t.useContext)(o.$),{platformLabels:T}=(0,t.useContext)(h.l),E=(0,g.E)({endpointId:l.U.ExpenseTypes.page}),{formik:v}=(0,P.c)({initialValues:{recordId:i,name:"",reference:"",description:""},validateOnChange:!0,validationSchema:R.Ry({name:R.Z_().required(),reference:R.Z_().required()}),onSubmit:async e=>{let n=await u({extension:l.U.ExpenseTypes.set,record:JSON.stringify(e)});e.recordId?a.ZP.success(T.Edited):(a.ZP.success(T.Added),v.setFieldValue("recordId",n.recordId)),E()}}),D=!!v.values.recordId;return(0,t.useEffect)(()=>{!async function(){if(i){let e=await d({extension:l.U.ExpenseTypes.get,parameters:"_recordId=".concat(i)});v.setValues(e.record)}}()},[]),(0,r.jsx)(y.Z,{resourceId:c.i.ExpenseTypes,form:v,maxAccess:s,editMode:D,children:(0,r.jsx)(p.R,{children:(0,r.jsx)(x.Q,{children:(0,r.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{name:"reference",label:n.reference,value:v.values.reference,required:!0,maxAccess:s,onChange:v.handleChange,onClear:()=>v.setFieldValue("reference",""),error:v.touched.reference&&!!v.errors.reference})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{name:"name",label:n.name,value:v.values.name,required:!0,maxAccess:s,onChange:v.handleChange,onClear:()=>v.setFieldValue("name",""),error:v.touched.name&&!!v.errors.name})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(I.Z,{name:"description",label:n.description,value:v.values.description,maxAccess:s,onChange:v.handleChange,onClear:()=>v.setFieldValue("description",""),error:v.touched.description&&!!v.errors.description})})]})})})})}var v=()=>{let{getRequest:e,postRequest:n}=(0,t.useContext)(o.$),{platformLabels:s}=(0,t.useContext)(h.l),{stack:f}=(0,u.zY)();async function R(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:r=50}=n;return{...await e({extension:l.U.ExpenseTypes.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(r)}),_startAt:s}}let{query:{data:y},labels:m,invalidate:I,access:P,paginationParameters:v,refetch:D}=(0,g.J)({queryFn:R,endpointId:l.U.ExpenseTypes.page,datasetId:c.i.ExpenseTypes}),O=[{field:"reference",headerName:m.reference,flex:1},{field:"name",headerName:m.name,flex:1},,{field:"description",headerName:m.description,flex:1}],q=async e=>{await n({extension:l.U.ExpenseTypes.del,record:JSON.stringify(e)}),I(),a.ZP.success(s.Deleted)};function V(e){f({Component:E,props:{labels:m,recordId:e,maxAccess:P},width:600,height:400,title:m.expenseType})}return(0,r.jsxs)(p.R,{children:[(0,r.jsx)(T.g,{children:(0,r.jsx)(d.Z,{onAdd:()=>{V()},maxAccess:P,labels:m})}),(0,r.jsx)(x.Q,{children:(0,r.jsx)(i.Z,{columns:O,gridData:y,rowId:["recordId"],refetch:D,onEdit:e=>{V(null==e?void 0:e.recordId)},onDelete:q,maxAccess:P,pageSize:50,paginationParameters:v,paginationType:"api"})})]})}},30043:function(e,n,s){"use strict";s.d(n,{U:function(){return t}});let r="DE.asmx/",t={Driver:{snapshot:r+"snapshotDRV",page:r+"pageDRV",set:r+"setDRV",get:r+"getDRV",qry:r+"qryDRV",del:r+"delDRV"},Vehicle:{page:r+"pageVEH",set:r+"setVEH",get:r+"getVEH",qry:r+"qryVEH",del:r+"delVEH"},Trip:{page:r+"pageTRP",set:r+"setTRP",get:r+"getTRP",qry:r+"qryTRP",del:r+"delTRP",snapshot:r+"snapshotTRP",snapshot2:r+"snapshot2TRP",reopen:r+"reopenTRP",post:r+"postTRP",unpost:r+"unpostTRP",close:r+"closeTRP",generate:r+"generateTRP",setTRP2:r+"setTRP2",assign:r+"assignTRP",unassign:r+"unassignedTRP"},TripOrderPack2:{set2:r+"set2TRO"},TripOrder:{qry:r+"qryTRO"},Reduild:{rebuild:r+"rebuildMW"},TRP:{flag:r+"flagTRP"},ExpenseTypes:{get:r+"getET",set:r+"setET",del:r+"delET",page:r+"pageET"},DeliveriesOrders:{qry:r+"qryORD",get:r+"getORD",snapshot:r+"snapshotORD",unpost:r+"unpostORD",gen:r+"genORD",post:r+"postORD",del:r+"delORD",cancel:r+"cancelORD",flag:r+"flagORD",set2:r+"set2ORD"},Invoice:{generate:r+"generateIVC2",generateInv:r+"generateIVC",preview:r+"previewIVC"},OrderItem:{qry:r+"qryORI",get:r+"getORI"},MW:{qry:r+"qryMW2"},GenerateTrip:{root:r+"rootSZ",firstLevel:r+"firstLevelSZ",undelivered2:r+"undeliveredSO2",previewTRP:r+"previewTRP"},DeliveryLeadTime:{get:r+"getLDT",page:r+"pageLDT",set:r+"setLDT",del:r+"delLDT"},Volume:{vol:r+"volZO"},AllocatedVolume:{qry:r+"qryVEH2"},InboundTransp:{pack:r+"getPackINB",page:r+"pageINB",set2:r+"set2INB",get:r+"getINB",get2:r+"get2INB",del:r+"delINB",snapshot:r+"snapshotINB",post:r+"postINB",unpost:r+"unpostINB"},InboundOrders:{qry:r+"qryINO"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=37827)}),_N_E=e.O()}]);