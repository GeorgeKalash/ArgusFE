(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5102],{7735:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/address-book",function(){return s(40940)}])},40940:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(52322),n=s(2784),r=s(69387),d=s(27723),i=s(65950),l=s(38449),o=s(26612),c=s(71987),u=s(61802),m=s(33625),f=s(62362),h=s(31389),x=s(45937),y=()=>{let{getRequest:e}=(0,n.useContext)(i.$),{stack:t}=(0,u.zY)();async function s(t){let{qry:s}=t;return await e({extension:l.r.Address.snapshot,parameters:"_filter=".concat(s)})}let{query:{data:y},search:p,clear:v,refetch:I,labels:N,paginationParameters:_,access:A,invalidate:S}=(0,c.J)({queryFn:g,endpointId:l.r.Address.qry,datasetId:o.i.Address,search:{searchFn:s}});async function g(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:a=50}=t,n="_startAt=".concat(s,"&_pageSize=").concat(a);return{...await e({extension:l.r.Address.qry,parameters:n}),_startAt:s}}let w=[{field:"name",headerName:N.name,flex:1},{field:"countryName",headerName:N.country,flex:1},{field:"stateName",headerName:N.state,flex:1},{field:"city",headerName:N.city,flex:1},{field:"street1",headerName:N.street1,flex:1},{field:"phone",headerName:N.phone,flex:1},{field:"email1",headerName:N.email1,flex:1}];async function b(e){t({Component:x.Z,props:{recordId:e,onSubmit:async(e,t)=>{S(),t.close()}}})}return(0,a.jsxs)(h.R,{children:[(0,a.jsx)(m.g,{children:(0,a.jsx)(d.Z,{maxAccess:A,onSearch:p,onSearchClear:v,labels:N,inputSearch:!0})}),(0,a.jsx)(f.Q,{children:(0,a.jsx)(r.Z,{name:"table",columns:w,gridData:y,rowId:["recordId"],onEdit:e=>{b(null==e?void 0:e.recordId)},refetch:I,paginationType:"api",paginationParameters:_,isLoading:!1,pageSize:50,maxAccess:A})})]})}},45937:function(e,t,s){"use strict";var a=s(52322),n=s(38449),r=s(93894),d=s(2784),i=s(65950),l=s(19473),o=s(21326);let c=e=>{let{recordId:t,editMode:s,onSubmit:c=()=>{},window:u,actions:m=[],address:f,setAddress:h,required:x=!0,...y}=e,{getRequest:p,postRequest:v}=(0,d.useContext)(i.$),{platformLabels:I}=(0,d.useContext)(l.l),[N,_]=(0,d.useState)(t||null),[A,S]=(0,d.useState)(null),g=!!f&&!!h,w=g?f:A,b=g?h:S;(0,o.Z)({title:I.Address,window:u});let C=async e=>{if(!x){b(e),c(e,u);return}let t={...e,recordId:N||(null==w?void 0:w.recordId)||null},s=await v({extension:n.r.Address.set,record:JSON.stringify(t)}),a=(null==s?void 0:s.recordId)||N||null,r={...t,recordId:a,addressId:a};_(a),b(r),c(r,u)};return(0,d.useEffect)(()=>{!g&&N&&(async()=>{let e=await p({extension:n.r.Address.get,parameters:"_filter=&_recordId=".concat(N)});S((null==e?void 0:e.record)||null)})()},[N,g]),(0,a.jsx)(r.O,{editMode:s,setAddress:b,address:w,onSubmit:C,actions:m,window:u,...y})};c.width=600,c.height=500,t.Z=c},93894:function(e,t,s){"use strict";s.d(t,{O:function(){return u}});var a=s(52322),n=s(2784),r=s(82737),d=s(13073),i=s(80983),l=s(31389),o=s(33625),c=s(48601);let u=e=>{let{setAddress:t,address:s,editMode:u,window:m,readOnly:f,allowPost:h=!0,optional:x=!1,onSubmit:y,isSavedClear:p=!0,isCleared:v=!0,changeClear:I=!1,actions:N=[],..._}=e,[A,S]=(0,n.useState)(!x),[g,w]=(0,n.useState)({}),{formik:b}=(0,i.c)({maxAccess:g.maxAccess,initialValues:{recordId:null,name:"",countryId:null,countryName:"",stateId:null,stateName:"",cityId:null,city:"",street1:"",street2:"",email1:"",email2:"",phone:"",phone2:"",phone3:"",addressId:null,postalCode:"",cityDistrictId:null,cityDistrict:"",bldgNo:"",unitNo:"",subNo:"",poBox:""},validateOnChange:!0,validateOnBlur:!0,validationSchema:c.Ry({...g.validate}),onSubmit:e=>{t(e),h?y(e,m):m.close()}});return(0,n.useEffect)(()=>{x&&(b.values.name||b.values.street1||b.values.countryId||b.values.cityId)&&S(!0),!x||b.values.name||b.values.street1||b.values.countryId||b.values.cityId||S(!1)},[b.values]),(0,a.jsx)(r.Z,{form:b,maxAccess:g.maxAccess,isInfo:!1,disabledSubmit:f,editMode:u,isSavedClear:p,isCleared:v,onClear:I?()=>{b.resetForm({values:b.initialValues})}:void 0,actions:N,..._,children:(0,a.jsx)(l.R,{children:(0,a.jsx)(o.g,{children:(0,a.jsx)(d.Z,{addressValidation:b,readOnly:f,required:A,setFormik:w,address:s,..._})})})})}}},function(e){e.O(0,[13073,49774,92888,40179],function(){return e(e.s=7735)}),_N_E=e.O()}]);