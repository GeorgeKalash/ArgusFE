(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54238],{33198:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/currency-trading",function(){return t(49078)}])},49078:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var n=t(52322),a=t(2784),o=t(71987),s=t(65950),c=t(25991),l=t(61802),i=t(27723),d=t(69387),u=t(17627),p=t(31389),f=t(33625),m=t(62362),v=t(26612);function g(){let{getRequest:e}=(0,a.useContext)(s.$),{stack:r}=(0,l.zY)(),{query:{data:t},filterBy:g,clearFilter:y,refetch:I,labels:x,access:h}=(0,o.J)({endpointId:u.s.CurrencyTrading.snapshot,datasetId:v.i.CashInvoice,filter:{endpointId:u.s.CurrencyTrading.snapshot,filterFn:w}});async function w(r){let{options:t={},filters:n}=r;return await e({extension:u.s.CurrencyTrading.snapshot,parameters:"_filter=".concat(n.qry,"&_category=1")})}return x&&h&&(0,n.jsxs)(p.R,{children:[(0,n.jsx)(f.g,{children:(0,n.jsx)(i.Z,{maxAccess:h,onSearch:e=>{g("qry",e)},onSearchClear:()=>{y("qry")},labels:x,inputSearch:!0})}),(0,n.jsx)(m.Q,{children:(0,n.jsx)(d.Z,{columns:[{field:"reference",headerName:x.reference,flex:1},{field:"createdDate",headerName:x.date,flex:1,type:"date"},{field:"clientName",headerName:x.name,flex:1},{field:"amount",headerName:x.amount,flex:1},{field:"functionName",headerName:x.functionName,flex:1},{field:"statusName",headerName:x.statusName,flex:1},{field:"wipName",headerName:x.wipName,flex:1}],onEdit:e=>{var t;t=e.recordId,r({Component:c.Z,props:{recordId:t}})},gridData:t||{list:[]},rowId:["recordId"],isLoading:!1,pageSize:50,paginationType:"client",refetch:I,maxAccess:h})})]})}},17627:function(e,r,t){"use strict";t.d(r,{s:function(){return a}});let n="CTTRX.asmx/",a={CurrencyTrading:{get2:n+"get2CIV",get3:n+"get3CIV",set2:n+"set2CIV",snapshot:n+"snapshotCIV",close:n+"closeCIV",reopen:n+"reopenCIV",post:n+"postCIV"},CreditOrder:{page:n+"pageORD",qry:n+"qryORD",get:n+"getORD",del:n+"delORD",snapshot:n+"snapshotORD",set:n+"set2ORD",close:n+"closeORD",reopen:n+"reopenORD",tfr:n+"transfer2ORD"},CreditOrderItem:{qry:n+"qryORI"},UndeliveredCreditOrder:{page:n+"pageORD2",qry:n+"qryORD2",snapshot:n+"snapshotORD2"},CreditInvoice:{page:n+"pageIVC",qry:n+"qryIVC",get:n+"getIVC",del:n+"delIVC",snapshot:n+"snapshotIVC",set:n+"set2IVC",close:n+"closeIVC",post:n+"postIVC",cancel:n+"cancelIVC"},CreditInvoiceItem:{qry:n+"qryIVI"},CashCount:{qry:n+"qryTRX"}}},1685:function(e,r,t){"use strict";t.d(r,{m:function(){return n}});let n=e=>{let r=window.sessionStorage.getItem(e);return r?JSON.parse(r):null}},98345:function(e,r,t){"use strict";t.d(r,{H:function(){return v},G:function(){return m}});var n=t(45300),a=t(2784),o=t(96026),s=t(38449);t(26612);var c=t(65947),l=t(1685);let i=async(e,r,t)=>{try{let n=await e({extension:r,parameters:t});return r.includes("qry")?n:n.record}catch(e){return null}},d=(e,r,t,n)=>{let a=(e=JSON.parse(JSON.stringify(e))).record.controls,o=a.find(e=>"reference"===e.controlId);return o?o.accessLevel=(null==r?void 0:r.mandatory)?c.$7:c.rr:(null==r?void 0:r.mandatory)?a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","reference"),accessLevel:(null==r?void 0:r.mandatory)?c.$7:c.rr}):(null==r?void 0:r.readOnly)?a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","reference"),accessLevel:(null==r?void 0:r.readOnly)?c.rr:c.$7}):a=e.record.controls.filter(e=>"reference"!=e.controlId),t&&a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","dtId"),accessLevel:c.$7}),{...e,record:{...e.record,controls:a}}},u=async(e,r,t)=>{let n,a;switch(t){case"dtId":let o=(0,l.m)("userData"),c=null==o?void 0:o.userId;a="_userId=".concat(c,"&_functionId=").concat(r),n=s.r.UserFunction.get;break;case"glbSysNumberRange":a="_recordId=".concat(r),n=s.r.SystemFunction.get;break;case"DocumentType":a="_dgId=".concat(r,"&_startAt=",0,"&_pageSize=",50),n=s.r.DocumentType.qry;break;case"DcTypNumberRange":a="_recordId=".concat(r),n=s.r.DocumentType.get;break;case"isExternal":a="_recordId=".concat(r),n=s.r.NumberRange.get;break;default:return null}return await i(e,n,a)},p=async function(e){let r,t,n,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=!(arguments.length>4)||void 0===arguments[4]||arguments[4],i=arguments.length>5?arguments[5]:void 0,p=void 0===c&&o&&await u(e,o,"dtId"),f=null==p?void 0:p.dtId,m="",v=!0;if(p&&void 0===c||"nraId"===c){if(f){let t=await u(e,f,"DcTypNumberRange");r=null==t?void 0:t.nraId,v=!((null==t?void 0:t.activeStatus)<0),r||(m="Assign the document type to a number range")}if((!f||!v)&&l&&o){var g;let r=await u(e,o,"DocumentType");a=(null==r?void 0:null===(g=r.list)||void 0===g?void 0:g.filter(e=>(null==e?void 0:e.activeStatus)===1).length)>0}}if(("nraId"===c||void 0===c)&&o){if((!f||f)&&!r||r&&!v){let t=await u(e,o,"glbSysNumberRange");(r=null==t?void 0:t.nraId)&&a&&(a=!1),v=!0}m=r||a?"":"Assign the system Function to a number range"}c>0&&!r&&(r=c),r&&v?(t={readOnly:null==(n=await u(e,r,"isExternal"))||!n.external,mandatory:null!=n&&!!n.external},s&&(s=await d(s,t,a,i))):!r&&s&&(s=await d(s,t,a,i));let y=i?"".concat(i,".reference"):"reference";return{dtId:f,resetReference:null==t?void 0:t.readOnly,dcTypeRequired:a,reference:{fieldName:y,isEmpty:(null==n?void 0:n.external)!==void 0&&(null==n||!n.external)},errorMessage:m,maxAccess:s,selectNraId:c}};var f=t(65950);function m(e){let{functionId:r,action:t,hasDT:n}=e,{getRequest:s}=(0,a.useContext)(f.$),{stack:c}=(0,o.V)();return{proxyAction:async()=>{let e=await p(s,r,"",void 0,n);(null==e?void 0:e.errorMessage)?c({message:null==e?void 0:e.errorMessage}):await t()}}}function v(e){var r;let{functionId:t,access:s,hasDT:c,enabled:l=!0,objectName:i=""}=e,{getRequest:d}=(0,a.useContext)(f.$),{stack:u}=(0,o.V)(),[m,v]=(0,a.useState)(),g=async e=>{let r=await p(d,t,s,e,c,i);if(!r.errorMessage)return r;u({message:null==r?void 0:r.errorMessage})},y=(0,n.a)({retry:!1,staleTime:0,enabled:l,queryKey:[t,m,!!s,l],queryFn:m||"nraId"===m?()=>g(m):()=>g()});return{documentType:y.data,maxAccess:(null==y?void 0:null===(r=y.data)||void 0===r?void 0:r.maxAccess)||s,changeDT(e){v((null==e?void 0:e.nraId)||"nraId")}}}},75991:function(e,r,t){"use strict";var n=t(52322),a=t(60218),o=t(76385);r.Z=e=>{let{children:r,title:t,form:s=!1,...c}=e;return(0,n.jsxs)(a.ZP,{container:!0,spacing:{xs:1,sm:1.25,md:1.5},sx:{border:"1px solid",borderColor:"#cdd3d4",position:"relative",ml:0,my:t?{xs:.75,sm:1,md:1.25}:0,p:s?0:"clamp(8px, 0.8vw, 14px)",pt:s?0:t?"clamp(14px, 1.2vw, 22px)":"clamp(8px, 0.8vw, 14px)",...c.sx},children:[!!t&&(0,n.jsx)(o.Z,{variant:"h6",sx:{position:"absolute",top:"clamp(-12px, -0.9vw, -8px)",left:"clamp(10px, 1vw, 14px)",bgcolor:"#F4F5FA",px:"clamp(6px, 0.7vw, 12px)",py:"clamp(1px, 0.2vw, 3px)",fontSize:"clamp(10px, 0.75vw, 14px)",lineHeight:1.2,fontWeight:600,whiteSpace:"nowrap",maxWidth:"calc(100% - 20px)",overflow:"hidden",textOverflow:"ellipsis"},children:t}),r]})}},30390:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(52322),a=t(60218);function o(e){let{hideonempty:r=!1,children:t,...o}=e;return(0,n.jsx)(a.ZP,{...o,className:r?"__hide-on-empty":"",children:t})}}},function(e){e.O(0,[72683,77980,94828,25991,49774,92888,40179],function(){return e(e.s=33198)}),_N_E=e.O()}]);