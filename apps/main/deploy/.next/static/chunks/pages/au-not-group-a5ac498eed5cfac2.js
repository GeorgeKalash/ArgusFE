(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13165],{33541:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/au-not-group",function(){return r(21987)}])},21987:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return j}});var t=r(52322),i=r(2784),a=r(62202),o=r(69387),c=r(27723),s=r(65950),d=r(71987),u=r(26612),l=r(33625),f=r(62362),p=r(31389),x=r(61802),h=r(19473),m=r(95982),g=r(60218),N=r(48601),_=r(82737),y=r(5088),C=r(80983);function I(e){let{labels:n,maxAccess:r,recordId:o}=e,{getRequest:c,postRequest:l}=(0,i.useContext)(s.$),{platformLabels:x}=(0,i.useContext)(h.l),I=(0,d.E)({endpointId:m.y.NotificationGroup.page}),{formik:j}=(0,C.c)({initialValues:{recordId:null,name:"",reference:""},maxAccess:r,validateOnChange:!0,validationSchema:N.Ry({name:N.Z_().required(),reference:N.Z_().required()}),onSubmit:async e=>{let n=await l({extension:m.y.NotificationGroup.set,record:JSON.stringify(e)});e.recordId||j.setFieldValue("recordId",n.recordId),I(),a.ZP.success(e.recordId?x.Edited:x.Added)}}),w=!!j.values.recordId;return(0,i.useEffect)(()=>{!async function(){if(o){let e=await c({extension:m.y.NotificationGroup.get,parameters:"_recordId=".concat(o)});j.setValues(e.record)}}()},[]),(0,t.jsx)(_.Z,{resourceId:u.i.NotificationGroups,form:j,maxAccess:r,editMode:w,children:(0,t.jsx)(p.R,{children:(0,t.jsx)(f.Q,{children:(0,t.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(g.ZP,{item:!0,xs:12,children:(0,t.jsx)(y.Z,{name:"reference",label:n.reference,value:j.values.reference,required:!0,maxAccess:r,onChange:j.handleChange,onClear:()=>j.setFieldValue("reference",""),error:j.touched.reference&&!!j.errors.reference})}),(0,t.jsx)(g.ZP,{item:!0,xs:12,children:(0,t.jsx)(y.Z,{name:"name",label:n.name,value:j.values.name,required:!0,maxAccess:r,onChange:j.handleChange,onClear:()=>j.setFieldValue("name",""),error:j.touched.name&&!!j.errors.name})})]})})})})}var j=()=>{let{getRequest:e,postRequest:n}=(0,i.useContext)(s.$),{platformLabels:r}=(0,i.useContext)(h.l),{stack:g}=(0,x.zY)();async function N(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:t=50}=n;return{...await e({extension:m.y.NotificationGroup.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(t,"&filter=")}),_startAt:r}}let{query:{data:_},labels:y,refetch:C,invalidate:j,paginationParameters:w,access:Z}=(0,d.J)({queryFn:N,endpointId:m.y.NotificationGroup.page,datasetId:u.i.NotificationGroups}),v=[{field:"reference",headerName:y.reference,flex:1},{field:"name",headerName:y.name,flex:1}];function A(e){g({Component:I,props:{labels:y,recordId:e,maxAccess:Z},width:500,height:270,title:y.NotificationGroup})}let E=async e=>{await n({extension:m.y.NotificationGroup.del,record:JSON.stringify(e)}),j(),a.ZP.success(r.Deleted)};return(0,t.jsxs)(p.R,{children:[(0,t.jsx)(l.g,{children:(0,t.jsx)(c.Z,{onAdd:()=>{A()},maxAccess:Z})}),(0,t.jsx)(f.Q,{children:(0,t.jsx)(o.Z,{columns:v,gridData:_,rowId:["recordId"],onEdit:e=>{A(null==e?void 0:e.recordId)},onDelete:E,isLoading:!1,pageSize:50,refetch:C,paginationParameters:w,paginationType:"api",maxAccess:Z})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=33541)}),_N_E=e.O()}]);