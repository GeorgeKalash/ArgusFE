(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47883],{97203:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mobile-system-defaults",function(){return a(90496)}])},90496:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return C}});var s=a(52322),t=a(61802),n=a(26612),r=a(60218),i=a(2784),o=a(62362),m=a(8661),u=a(80983),_=a(38449),d=a(19473),c=a(62202),b=a(71987),h=a(31389),x=a(5088),p=a(65950);a(82737);var v=a(54074);function f(){let{postRequest:e}=(0,i.useContext)(p.$),{platformLabels:l,defaultsData:a,updateDefaults:t}=(0,i.useContext)(d.l),{labels:f,access:C}=(0,b.J)({datasetId:n.i.MobileSystemDefaults}),{formik:I}=(0,u.c)({maxAccess:C,initialValues:{rt_mob_plantId:null,rt_mob_whatsapp:"",rt_mob_email1:"",rt_mob_email2:"",rt_mob_call_us:"",smsMobileProviderId:null},onSubmit:async a=>{let s=Object.entries(a).map(e=>{let[l,a]=e;return{key:l,value:a}});await e({extension:_.r.Defaults.set,record:JSON.stringify({sysDefaults:s})}),t(s),c.ZP.success(l.Updated)}});(0,i.useEffect)(()=>{j()},[a]);let j=()=>{if(!(null==a?void 0:a.list))return;let e={},l=["rt_mob_plantId","rt_mob_whatsapp","rt_mob_email1","rt_mob_call_us","rt_mob_email2","smsMobileProviderId"];a.list.filter(e=>l.includes(e.key)).forEach(l=>{let a=l.value;"string"!=typeof a||""===a.trim()||isNaN(Number(a))?e[l.key]=null!=a?a:null:e[l.key]=parseInt(a,10)}),I.setValues(l=>({...l,...e}))};return(0,s.jsx)(v.Z,{onSave:I.handleSubmit,maxAccess:C,children:(0,s.jsx)(h.R,{children:(0,s.jsx)(o.Q,{children:(0,s.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(r.ZP,{item:!0,xs:12,children:(0,s.jsx)(m.Z,{endpointId:_.r.Plant.qry,name:"rt_mob_plantId",label:f.plant,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:I.values,onChange:async(e,l)=>{I.setFieldValue("rt_mob_plantId",(null==l?void 0:l.recordId)||null)},error:I.touched.rt_mob_plantId&&!!I.errors.rt_mob_plantId,maxAccess:C})}),(0,s.jsx)(r.ZP,{item:!0,xs:12,children:(0,s.jsx)(x.Z,{name:"rt_mob_whatsapp",label:f.whatsapp,value:I.values.rt_mob_whatsapp,maxAccess:C,onChange:I.handleChange,onClear:()=>I.setFieldValue("rt_mob_whatsapp","")})}),(0,s.jsx)(r.ZP,{item:!0,xs:12,children:(0,s.jsx)(x.Z,{name:"rt_mob_call_us",label:f.callUs,value:I.values.rt_mob_call_us,maxAccess:C,onChange:I.handleChange,onClear:()=>I.setFieldValue("rt_mob_call_us","")})}),(0,s.jsx)(r.ZP,{item:!0,xs:12,children:(0,s.jsx)(x.Z,{name:"rt_mob_email1",label:f.email1,value:I.values.rt_mob_email1,maxAccess:C,onChange:I.handleChange,onClear:()=>I.setFieldValue("rt_mob_email1","")})}),(0,s.jsx)(r.ZP,{item:!0,xs:12,children:(0,s.jsx)(x.Z,{name:"rt_mob_email2",label:f.email2,value:I.values.rt_mob_email2,maxAccess:C,onChange:I.handleChange,onClear:()=>I.setFieldValue("rt_mob_email2","")})}),(0,s.jsx)(r.ZP,{item:!0,xs:12,children:(0,s.jsx)(x.Z,{name:"smsMobileProviderId",label:f.smsMobileProviderId,value:I.values.smsMobileProviderId,maxAccess:C,onChange:I.handleChange,onClear:()=>I.setFieldValue("smsMobileProviderId",null)})})]})})})})}var C=()=>(0,s.jsx)(t.ut,{datasetId:n.i.MobileSystemDefaults,labelKey:"mobileSystemDefaults",Component:f})}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=97203)}),_N_E=e.O()}]);