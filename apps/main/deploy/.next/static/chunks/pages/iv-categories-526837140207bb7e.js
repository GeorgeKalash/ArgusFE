(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33239],{47322:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/iv-categories",function(){return t(53486)}])},53486:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return E}});var r=t(52322),l=t(2784),n=t(62202),s=t(69387),d=t(65950),i=t(61802),o=t(71987),c=t(26612),u=t(31389),m=t(33625),p=t(62362),x=t(82235),v=t(19473),h=t(27723),y=t(65215),I=t(29326),g=t(9522),f=t(60218),b=t(48601),C=t(82737),T=t(8661),j=t(80983),R=t(5088),P=t(25870),Z=t(84100),_=t(27423),k=t(38449),S=t(76426),F=t(58912),D=t(19689),A=t(22341),q=t(74898),w=e=>{var a,t,s,i;let{labels:m,maxAccess:x,setStore:h,store:I}=e,{postRequest:g,getRequest:w}=(0,l.useContext)(d.$),{platformLabels:M}=(0,l.useContext)(v.l),{recordId:V}=I,L=(0,o.E)({endpointId:y.$.Category.page}),{formik:N}=(0,j.c)({maxAccess:x,initialValues:{recordId:null,caRef:"",name:"",parentId:"",lotCategoryId:"",nraId:"",spfId:"",msId:"",isMetal:!1,procurementMethod:"",valuationMethod:"",metalPurity:"",metalId:"",priceType:"",taxId:"",returnPolicyId:null,applyVAT:!1,allowNegativeQty:!1,isInactive:!1},validateOnChange:!0,validationSchema:b.Ry({metalId:b.Z_().nullable().test("",function(e){let{isMetal:a}=this.parent;return!a||!!e}),taxId:b.Z_().nullable().test("",function(e){let{applyVAT:a}=this.parent;return!a||!!e}),spfId:b.Z_().nullable().test("",function(e){let{trackBy:a}=this.parent;return 1!==a&&"1"!==a||!!e}),lotCategoryId:b.Z_().nullable().test("",function(e){let{trackBy:a}=this.parent;return 2!==a&&"2"!==a||!!e}),caRef:b.Z_().required(),name:b.Z_().required()}),onSubmit:async e=>{try{let a=await g({extension:y.$.Category.set,record:JSON.stringify(e)});e.recordId?n.ZP.success(M.Edited):(n.ZP.success(M.Added),N.setFieldValue("recordId",a.recordId),h(e=>({...e,recordId:a.recordId,ref:N.values.caRef,name:N.values.name}))),L()}catch(e){}}}),E=!!N.values.recordId;(0,l.useEffect)(()=>{!async function(){try{if(V){let e=await w({extension:y.$.Category.get,parameters:"_recordId=".concat(V)});h(a=>({...a,ref:e.record.caRef,name:e.record.name})),N.setValues(e.record)}}catch(e){}}()},[]);let B=[{key:"Integration Account",condition:!0,onClick:"onClickGIA",masterSource:q.N.ItemCategory,disabled:!E}];return(0,r.jsx)(C.Z,{form:N,resourceId:c.i.Category,maxAccess:x,editMode:E,actions:B,children:(0,r.jsx)(u.R,{children:(0,r.jsxs)(f.ZP,{container:!0,gap:2,children:[(0,r.jsx)(f.ZP,{item:!0,xs:7,children:(0,r.jsx)(p.Q,{children:(0,r.jsxs)(f.ZP,{container:!0,gap:2,children:[(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(R.Z,{name:"caRef",label:m.reference,value:N.values.caRef,required:!0,readOnly:E,maxAccess:x,onChange:N.handleChange,onClear:()=>N.setFieldValue("caRef",""),error:N.touched.caRef&&!!N.errors.caRef})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(R.Z,{name:"name",label:m.name,value:N.values.name,required:!0,readOnly:E,maxAccess:x,onChange:N.handleChange,onClear:()=>N.setFieldValue("name",""),error:N.touched.name&&!!N.errors.name})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{endpointId:y.$.Category.qry,parameters:"_pagesize=1000&_startAt=0&_name=",name:"parentId",label:m.parentCat,valueField:"recordId",displayField:["name","caRef"],columnsInDropDown:[{key:"name",value:"Name"},{key:"caRef",value:"Reference"}],values:N.values,onChange:(e,a)=>{N.setFieldValue("parentId",null==a?void 0:a.recordId)},error:N.touched.parent&&!!N.errors.parent,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(_.U,{endpointId:k.r.NumberRange.snapshot,form:N,name:"nraId",label:m.nra,valueField:"reference",displayField:"description",firstValue:N.values.nraRef,secondValue:N.values.nraDescription,onChange:(e,a)=>{N.setFieldValue("nraId",a?a.recordId:null),N.setFieldValue("nraRef",a?a.reference:null),N.setFieldValue("nraDescription",a?a.description:null)},maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{endpointId:y.$.Measurement.qry,parameters:"_name=",name:"msId",label:m.measurementSchedule,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:N.values,onChange:(e,a)=>{N.setFieldValue("msId",a?a.recordId:"")},error:N.touched.msId&&!!N.errors.msId,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{datasetId:Z.v.PRICE_TYPE,name:"priceType",label:m.pT,valueField:"key",displayField:"value",values:N.values,maxAccess:x,onChange:(e,a)=>{N.setFieldValue("priceType",null==a?void 0:a.key)},error:N.touched.priceType&&!!N.errors.priceType})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{datasetId:Z.v.PROCUREMENT_METHOD,name:"procurementMethod",label:m.procurement,valueField:"key",displayField:"value",values:N.values,maxAccess:x,onChange:(e,a)=>{N.setFieldValue("procurementMethod",null==a?void 0:a.key)},error:N.touched.procurementMethod&&!!N.errors.procurementMethod})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{datasetId:Z.v.VALUATION_METHOD,name:"valuationMethod",label:m.valuation,valueField:"key",displayField:"value",values:N.values,maxAccess:x,onChange:(e,a)=>{N.setFieldValue("valuationMethod",null==a?void 0:a.key)},error:N.touched.valuationMethod&&!!N.errors.valuationMethod})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{endpointId:S.x.LabelTemplate.qry,name:"labelTemplateId",label:m.templateLable,valueField:"recordId",displayField:"name",values:N.values,onChange:(e,a)=>{N.setFieldValue("labelTemplateId",a?a.recordId:"")},error:N.touched.labelTemplateId&&!!N.errors.labelTemplateId,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{endpointId:F.I.ReplenishmentGroups.qry,name:"replenishmentGroupId",label:m.replenishmentGroup,valueField:"recordId",displayField:"name",values:N.values,onChange:(e,a)=>{N.setFieldValue("replenishmentGroupId",a?a.recordId:"")},error:N.touched.replenishmentGroupId&&!!N.errors.replenishmentGroupId,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{endpointId:A.P.ReturnPolicy.qry,name:"returnPolicyId",label:m.returnPolicy,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:N.values,maxAccess:x,onChange:(e,a)=>{N.setFieldValue("returnPolicyId",(null==a?void 0:a.recordId)||null)},error:N.touched.returnPolicyId&&!!N.errors.returnPolicyId})})]})})}),(0,r.jsx)(f.ZP,{item:!0,xs:4,children:(0,r.jsx)(p.Q,{children:(0,r.jsxs)(f.ZP,{container:!0,gap:2,children:[(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(D.Z,{name:"applyVAT",value:null===(a=N.values)||void 0===a?void 0:a.applyVAT,onChange:e=>{N.setFieldValue("applyVAT",e.target.checked),!1==e.target.checked&&N.setFieldValue("taxId","")},label:m.applyVat,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{endpointId:P.H.TaxSchedules.qry,name:"taxId",label:m.vatSchedule,readOnly:!N.values.applyVAT,required:N.values.applyVAT,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:N.values,onChange:(e,a)=>{N.setFieldValue("taxId",a?a.recordId:"")},error:N.touched.taxId&&!!N.errors.taxId,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{datasetId:Z.v.IV_TRACK_BY,name:"trackBy",label:m.trackBy,valueField:"key",displayField:"value",values:N.values,maxAccess:x,onChange:(e,a)=>{N.setFieldValue("trackBy",null==a?void 0:a.key),N.setFieldValue("lotCategoryId",""),N.setFieldValue("spfId","")},error:N.touched.trackBy&&!!N.errors.trackBy})}),("1"===N.values.trackBy||1===N.values.trackBy)&&(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{endpointId:y.$.SerialsProfile.qry,name:"spfId",required:"1"===N.values.trackBy||1===N.values.trackBy,label:m.spf,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:N.values,onChange:(e,a)=>{N.setFieldValue("spfId",a?a.recordId:"")},error:N.touched.spfId&&!!N.errors.spfId&&("1"===N.values.trackBy||1===N.values.trackBy),maxAccess:x})}),("2"===N.values.trackBy||2===N.values.trackBy)&&(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{endpointId:y.$.LotCategory.qry,name:"lotCategoryId",label:m.lotCategory,required:"2"===N.values.trackBy||2===N.values.trackBy,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:N.values,onChange:(e,a)=>{N.setFieldValue("lotCategoryId",a?a.recordId:"")},error:N.touched.lotCategoryId&&!!N.errors.lotCategoryId&&("2"===N.values.trackBy||2===N.values.trackBy),maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(D.Z,{name:"isMetal",value:null===(t=N.values)||void 0===t?void 0:t.isMetal,onChange:e=>{N.setFieldValue("isMetal",e.target.checked),!1==e.target.checked&&(N.setFieldValue("metalId",""),N.setFieldValue("metalPurity",""))},label:m.isMetal,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{endpointId:y.$.Metals.qry,name:"metalId",label:m.metal,valueField:"recordId",displayField:["reference"],readOnly:!N.values.isMetal,values:N.values,onChange:(e,a)=>{N.setFieldValue("metalId",a?a.recordId:""),N.setFieldValue("metalPurity",a?a.purity:"")},error:N.touched.metalId&&!!N.errors.metalId,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(R.Z,{name:"metalPurity",label:m.purity,value:N.values.metalPurity,readOnly:!0,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(D.Z,{name:"allowNegativeQty",value:null===(s=N.values)||void 0===s?void 0:s.allowNegativeQty,onChange:e=>N.setFieldValue("allowNegativeQty",e.target.checked),label:m.allowNegativeQty,maxAccess:x})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(D.Z,{name:"isInactive",value:null===(i=N.values)||void 0===i?void 0:i.isInactive,onChange:e=>N.setFieldValue("isInactive",e.target.checked),label:m.isInactive,maxAccess:x})})]})})})]})})})},M=t(76399),V=e=>{var a,t;let{store:s,labels:i,maxAccess:o}=e,{recordId:m}=s,{getRequest:x,postRequest:h}=(0,l.useContext)(d.$),{platformLabels:I}=(0,l.useContext)(v.l),[g,f]=(0,l.useState)(0),{formik:T}=(0,j.c)({validateOnChange:!0,validationSchema:b.Ry({data:b.IX().of(b.Ry().shape({currencyId:b.Z_().test(function(e){return!(g>1)||!!e})})).required()}),initialValues:{data:[{id:1,categoryId:m,decimals:0,currencyId:"",currencyName:""}]},onSubmit:e=>{let{data:a}=e;1!==a.length||a[0].currencyId||0===a[0].decimals||(a[0].decimals=0),1===a.length&&R(a[0])?(T.setValues({data:[]}),P([])):P(e)}}),R=e=>!e.currencyId&&!e.decimals,P=e=>{var a;let t=null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.map(e=>{let{categoryId:a,...t}=e;return{categoryId:m,...t}});h({extension:y.$.CategoryCurrency.set2,record:JSON.stringify({categoryId:m,data:t||[]})}).then(e=>{n.ZP.success(I.Edited),_()}).catch(e=>{})},Z=[{component:"resourcecombobox",name:"currencyId",label:i.currency,props:{endpointId:k.r.Currency.qry,valueField:"recordId",displayField:"name",mapping:[{from:"recordId",to:"currencyId"},{from:"name",to:"currencyName"}]}},{component:"numberfield",name:"decimals",label:i.decimals,props:{allowNegative:!1},onChange:e=>{let{row:{update:a,newRow:t}}=e;a(""==t.decimals||null==t.decimals?{decimals:0}:{decimals:Math.min(parseInt(t.decimals),5)})}}];function _(){x({extension:y.$.CategoryCurrency.qry,parameters:"_categoryId=".concat(m)}).then(e=>{var a;let t=null===(a=e.list)||void 0===a?void 0:a.map((e,a)=>({...e,id:a+1}));T.setValues({data:t})}).catch(e=>{})}return(0,l.useEffect)(()=>{m&&_()},[m]),(0,l.useEffect)(()=>{f(T.values.data.length)},[T.values.data]),(0,r.jsx)(C.Z,{form:T,resourceId:c.i.Category,isCleared:!1,isInfo:!1,maxAccess:o,children:(0,r.jsx)(u.R,{children:(0,r.jsx)(p.Q,{children:(0,r.jsx)(M._,{onChange:e=>T.setFieldValue("data",e),value:T.values.data||[],initialValues:null==T?void 0:null===(t=T.initialValues)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a[0],error:T.errors.data,columns:Z})})})})},L=e=>{let{store:a,labels:t,maxAccess:s}=e,{recordId:i}=a,{getRequest:o,postRequest:m}=(0,l.useContext)(d.$),{platformLabels:x}=(0,l.useContext)(v.l),{formik:h}=(0,j.c)({maxAccess:s,validateOnChange:!0,initialValues:{sites:[{id:1,categoryId:i,siteId:"",name:"",reference:"",isLocked:!1}]},onSubmit:e=>{I(e)}}),I=e=>{var a;let t=null==e?void 0:null===(a=e.sites)||void 0===a?void 0:a.map(e=>{let{categoryId:a,...t}=e;return{categoryId:i,...t}});m({extension:y.$.CategorySites.set2,record:JSON.stringify({categoryId:i,sites:t})}).then(e=>{n.ZP.success(x.Edited),b()})},g=[{component:"textfield",name:"reference",label:t.reference,props:{readOnly:!0}},{component:"textfield",name:"name",label:t.name,props:{readOnly:!0}},{component:"checkbox",label:t.isLocked,name:"isLocked"}];async function b(){try{var e;let a=await o({extension:y.$.Site.qry,parameters:"_filter="}),t=null===(e=a.list)||void 0===e?void 0:e.map((e,a)=>({...e,siteId:e.recordId,id:a+1})),r=await o({extension:y.$.CategorySites.qry,parameters:"_categoryId=".concat(i)}),l=t.map(e=>{let a=r.list.find(a=>a.siteId===e.siteId);return{...e,isLocked:!!a&&a.isLocked}});h.setValues({sites:l})}catch(e){}}return(0,l.useEffect)(()=>{i&&b()},[i]),(0,r.jsx)(C.Z,{form:h,resourceId:c.i.Category,isCleared:!1,isInfo:!1,maxAccess:s,children:(0,r.jsx)(u.R,{children:(0,r.jsxs)(p.Q,{children:[(0,r.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(f.ZP,{item:!0,xs:6.01,children:(0,r.jsx)(R.Z,{name:"reference",label:t.reference,value:a.ref,readOnly:!0})}),(0,r.jsx)(f.ZP,{item:!0,xs:6.01,children:(0,r.jsx)(R.Z,{name:"name",label:t.name,value:a.name,readOnly:!0})})]}),(0,r.jsx)(M._,{onChange:e=>h.setFieldValue("sites",e),value:h.values.sites,error:h.errors.sites,columns:g,allowAddNewLine:!1,allowDelete:!1})]})})})},N=e=>{let{recordId:a,labels:t,maxAccess:n}=e,[s,d]=(0,l.useState)(0),i=!!a,[o,c]=(0,l.useState)({recordId:a,ref:null,name:null}),u=[{label:t.categories},{label:t.currency,disabled:!o.recordId},{label:t.categorySite,disabled:!o.recordId}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Y,{tabs:u,activeTab:s,setActiveTab:d,maxAccess:n}),(0,r.jsx)(I.Z,{index:0,value:s,disabledApply:!i,maxAccess:n,children:(0,r.jsx)(w,{labels:t,setStore:c,store:o,maxAccess:n})}),(0,r.jsx)(I.Z,{index:1,value:s,maxAccess:n,children:(0,r.jsx)(V,{labels:t,maxAccess:n,store:o})}),(0,r.jsx)(I.Z,{index:2,value:s,maxAccess:n,children:(0,r.jsx)(L,{labels:t,maxAccess:n,store:o})})]})},E=()=>{let{getRequest:e,postRequest:a}=(0,l.useContext)(d.$),{platformLabels:t}=(0,l.useContext)(v.l),{stack:I}=(0,i.zY)(),[g,f]=(0,l.useState)([]),{query:{data:b},labels:C,paginationParameters:T,invalidate:j,filterBy:R,clearFilter:P,refetch:Z,access:_}=(0,o.J)({queryFn:S,endpointId:y.$.Category.page,datasetId:c.i.Category,filter:{endpointId:y.$.Category.snapshot,filterFn:k}});async function k(a){let{filters:t}=a;return t.qry?await e({extension:y.$.Category.snapshot,parameters:"_filter=".concat(t.qry)}):await S()}async function S(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:r=50}=a;return{...await e({extension:y.$.Category.page,parameters:"_startAt=".concat(t,"&_pageSize=").concat(r,"&_name=")}),_startAt:t}}(0,l.useEffect)(()=>{(async()=>{f(await e({extension:y.$.Category.page,parameters:"_pageSize=1000&_startAt=0&_name="}))})()},[]);let F=[{field:"caRef",headerName:C.reference,flex:1},{field:"name",headerName:C.name,flex:1},{field:"parentName",headerName:C.parentCat,flex:1},{field:"measurementName",headerName:C.measurementSchedule,flex:1},,{field:"nraRef",headerName:C.nra,flex:1},{field:"taxName",headerName:C.vatSchedule,flex:1}],D=async e=>{await a({extension:y.$.Category.del,record:JSON.stringify(e)}),j(),n.ZP.success(t.Deleted)};function A(e){I({Component:N,props:{labels:C,recordId:e,maxAccess:_},width:800,height:600,title:C.categories})}function q(){I({Component:x.Z,props:{data:g}})}let w=[{key:"Tree",condition:!0,onClick:q,disabled:!1}];return(0,r.jsxs)(u.R,{children:[(0,r.jsx)(m.g,{children:(0,r.jsx)(h.Z,{onSearch:e=>{R("qry",e)},onSearchClear:()=>{P("qry")},inputSearch:!0,actions:w,onTree:q,onAdd:()=>{A()},maxAccess:_,previewReport:c.i.Category})}),(0,r.jsx)(p.Q,{children:(0,r.jsx)(s.Z,{columns:F,globalStatus:!1,gridData:b,rowId:["recordId"],onEdit:e=>{A(null==e?void 0:e.recordId)},onDelete:D,isLoading:!1,pageSize:50,refetch:Z,paginationParameters:T,paginationType:"api",maxAccess:_})})]})}},58912:function(e,a,t){"use strict";t.d(a,{I:function(){return l}});let r="IR.asmx/",l={ReplenishmentGroups:{qry:r+"qryGRP",page:r+"pageGRP",get:r+"getGRP",set:r+"setGRP",del:r+"delGRP"},IvReplenishements:{qry:r+"qryHDR",page:r+"pageHDR",get:r+"getHDR",set:r+"setHDR"},IvReplenishementsList:{qry:r+"qryTRX"},GenerateIvReplenishements:{generate:r+"generateTFR"},MaterialReplenishment:{page:r+"pageREQ",del:r+"delREQ",get:r+"getREQ",set2:r+"set2REQ",snapshot:r+"snapshotREQ",close:r+"closeREQ",reopen:r+"reopenREQ",cancel:r+"cancelREQ",print:r+"printREQ"},OrderItem:{qry:r+"qryREI",open:r+"openREI"},MatPlanning:{page:r+"pageMPL",del:r+"delMPL",get:r+"getMPL",set2:r+"set2MPL",reopen:r+"reopenMPL",close:r+"closeMPL",qry:r+"qryMPL",snapshot:r+"snapshotMPL"},MatPlanningItem:{qry:r+"qryMPI",append:r+"appendMPI"},PurchaseRequest:{generate:r+"generatePR"},PlantSettings:{get:r+"getPLT",set:r+"setPLT",del:r+"delPLT"},DocumentTypeDefault:{get:r+"getDTD",set:r+"setDTD",del:r+"delDTD",page:r+"pageDTD"},materialPlaning:{preview:r+"previewMRP"},Transfer:{generate2:r+"generate2TFR"},ConsumptionOfTools:{generate:r+"generateMFCON"}}},76426:function(e,a,t){"use strict";t.d(a,{x:function(){return l}});let r="SC.asmx/",l={LabelTemplate:{qry:r+"qryLBT",set:r+"setLBT",get:r+"getLBT",del:r+"delLBT"},Item:{qry:r+"qryLBI",set:r+"setLBI",get:r+"getLBI",del:r+"delLBI"},Sites:{qry:r+"qrySIT",set:r+"setSIT",set2:r+"set2SIT",get:r+"getSIT",del:r+"delSIT",reopen:r+"reopenSIT",end:r+"endSIT"},Controller:{qry:r+"qryCRL"},StockCountControllerTab:{qry:r+"qryPHY",set2:r+"set2PHY",set:r+"setPHY",get:r+"getPHY",del:r+"delPHY"},StockCount:{page:r+"pageHDR",post:r+"postHDR",unpost:r+"unpostHDR",qry:r+"qryHDR",get:r+"getHDR",set:r+"setHDR",del:r+"delHDR",close:r+"closeHDR",reopen:r+"reopenHDR",snapshot:r+"snapshotHDR"},StockCountController:{page:r+"pageCRL",set:r+"setCRL",get:r+"getCRL",del:r+"delCRL"},DocumentTypeDefaults:{qry:r+"qryDTD",set:r+"setDTD",get:r+"getDTD",del:r+"delDTD"},StockCountItem:{qry:r+"qryITM",set:r+"setITM",get:r+"getITM",del:r+"delITM"},StockCountSerialSum:{qry:r+"qrySRS"},StockCountItemDetail:{qry:r+"qryITD",set:r+"setITD",get:r+"getITD",del:r+"delITD",set2:r+"set2ITD"},StockCountSerialDetail:{set2:r+"set2SRL",qry:r+"qrySRL",append:r+"appendSRL",del:r+"delSRL",batch:r+"batchSRL"}}},74898:function(e,a,t){"use strict";t.d(a,{N:function(){return r}});let r={Global:0,AccountGroup:10,Account:11,CashAccountGroup:20,CashAccount:21,ItemGroup:30,Item:31,ItemCategory:32,Site:33,ExpenseType:41,CostType:42,ProductionOverhead:51,TaxCode:12,PayrollGLGroup:61,PayrollEntitlementDeduction:62,AssetGroup:71,AssetClass:72}},29326:function(e,a,t){"use strict";var r=t(52322);t(2784);var l=t(23925),n=t(13980),s=t.n(n),d=t(95291),i=t.n(d),o=t(65947);let c=e=>{var a,t,n;let{children:s,value:d,index:c,maxAccess:u,...m}=e,p="".concat(e.name||"tab",".").concat(c),{accessLevel:x}=null!==(n=(null!==(t=null==u?void 0:null===(a=u.record)||void 0===a?void 0:a.controls)&&void 0!==t?t:[]).find(e=>e.controlId===p))&&void 0!==n?n:{accessLevel:0};if(x===o.A1)return null;let v=d===c;return(0,r.jsx)(l.Z,{role:"tabpanel",hidden:!v,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c),className:"".concat(i().tabPanel," ").concat(v?i().active:i().hidden),...m,children:s})};c.propTypes={children:s().node,index:s().number.isRequired,value:s().number.isRequired},a.Z=c},9522:function(e,a,t){"use strict";t.d(a,{Y:function(){return m}});var r=t(52322),l=t(23925),n=t(54582),s=t(68696),d=t(44258),i=t(2784),o=t(99266),c=t(52614),u=t.n(c);let m=e=>{var a,t,c,m,p;let{tabs:x,activeTab:v,setActiveTab:h,maxAccess:y,name:I="tab"}=e,g=(null==y?void 0:null===(t=y.record)||void 0===t?void 0:null===(a=t.controls)||void 0===a?void 0:a.filter(e=>{var a;return 4===e.accessLevel&&(null===(a=e.controlId)||void 0===a?void 0:a.startsWith("".concat(I,".")))}).map(e=>e.controlId.split(".")[1]))||[],f=null==x?void 0:null===(c=x.map((e,a)=>({...e,id:a})))||void 0===c?void 0:c.filter((e,a)=>!g.includes(String(a))),b=null===(m=f[v])||void 0===m?void 0:m.id,C=null===(p=f[v])||void 0===p?void 0:p.disabled;return(0,i.useEffect)(()=>{b>=0&&!C&&v!=b&&h(b)},[]),(0,r.jsx)(l.Z,{className:u().tabsContainer,children:(0,r.jsx)(l.Z,{className:u().tabsWrapper,children:(0,r.jsx)(n.Z,{value:v,onChange:(e,a)=>h(a),variant:"scrollable",scrollButtons:f.length>3?"auto":"off","aria-label":"scrollable tabs",classes:{indicator:u().tabsIndicator},className:u().tabs,children:null==f?void 0:f.map(e=>(0,r.jsx)(s.Z,{value:e.id,disabled:null==e?void 0:e.disabled,className:"".concat(u().tabName," ").concat(e.disabled?u().tabDisabled:""),classes:{root:u().tabRoot,selected:u().selectedTab},label:(0,r.jsxs)(l.Z,{display:"flex",alignItems:"center",children:[(0,r.jsx)("span",{children:e.label}),e.id===v&&(null==e?void 0:e.onRefetch)&&(0,r.jsx)(d.Z,{size:"small",className:u().refreshButton,onClick:a=>{a.stopPropagation(),e.onRefetch()},children:(0,r.jsx)(o.Z,{className:u().refreshIcon})})]})},e.id))})})})}},82235:function(e,a,t){"use strict";var r=t(52322),l=t(2784),n=t(7913),s=t(61676),d=t(44781),i=t(78502),o=t(94045),c=t(55182),u=t(40234),m=t(55648),p=t(27149),x=t(94668),v=t(3),h=t(19473),y=t(21326);let I=e=>{let a=[];return e.forEach(e=>{a.push(e.recordId.toString()),e.children&&(a=a.concat(I(e.children)))}),a},g=e=>{let{nodes:a}=e,t=I(a),l=e=>(0,r.jsx)(b,{nodeId:e.recordId.toString(),label:e.name,children:Array.isArray(e.children)?e.children.map(e=>l(e)):null},e.recordId);return(0,r.jsx)(f,{"aria-label":"plant tree",expanded:t,defaultCollapseIcon:(0,r.jsx)(o.Z,{}),defaultExpandIcon:(0,r.jsx)(c.Z,{}),children:a.map(e=>l(e))})},f=(0,d.ZP)(n.Z)(e=>{let{theme:a}=e;return{width:"100%",flex:1,minHeight:0,overflowY:"auto",boxSizing:"border-box",padding:0,"--tree-font":"clamp(11px, 0.25vw + 10px, 13px)","--tree-rowH":"clamp(22px, 0.35vw + 20px, 26px)","--tree-py":"0px","--tree-px":"6px","--tree-iconBoxW":"18px","--tree-iconSize":"18px","--tree-indent":"18px","--tree-radius":"0px","& .MuiTreeItem-content":{minHeight:"var(--tree-rowH)",paddingTop:"var(--tree-py)",paddingBottom:"var(--tree-py)",paddingLeft:"var(--tree-px)",paddingRight:"var(--tree-px)",borderRadius:"var(--tree-radius)",alignItems:"center",gap:6},"& .MuiTreeItem-label":{fontSize:"var(--tree-font)",lineHeight:1.2,whiteSpace:"normal",wordBreak:"break-word"},"& .MuiTreeItem-iconContainer":{width:"var(--tree-iconBoxW)",minWidth:"var(--tree-iconBoxW)",marginRight:0,display:"flex",alignItems:"center",justifyContent:"center"},"& .MuiSvgIcon-root":{fontSize:"var(--tree-iconSize)"},"& .MuiTreeItem-group":{marginLeft:"var(--tree-indent)",paddingLeft:0},"& .MuiTreeItem-content:hover":{backgroundColor:a.palette.action.hover},"@media print":{overflowY:"visible","--tree-font":"11pt","--tree-rowH":"auto"},[a.breakpoints.down("sm")]:{"--tree-font":"clamp(10.5px, 0.4vw + 9.5px, 12px)","--tree-rowH":"clamp(20px, 0.4vw + 18px, 24px)","--tree-iconBoxW":"16px","--tree-iconSize":"16px","--tree-indent":"16px","--tree-px":"4px"}}}),b=(0,d.ZP)(s.Z)(e=>{let{theme:a}=e;return{"&.Mui-selected > .MuiTreeItem-content":{backgroundColor:"#d9d9d9"},"&.Mui-selected > .MuiTreeItem-content:hover":{backgroundColor:"#d9d9d9"},"&.Mui-focused > .MuiTreeItem-content":{backgroundColor:"#d9d9d9"},"& .MuiTreeItem-content .MuiTreeItem-label":{fontSize:"var(--tree-font) !important",lineHeight:"1.2 !important",whiteSpace:"normal",wordBreak:"break-word"}}});function C(e){let{data:a,window:t,printable:n=!0}=e,{platformLabels:s}=(0,l.useContext)(h.l),d=(0,i.Z)();(0,p.Z)(d.breakpoints.down("sm"));let I=(0,l.useRef)();(0,y.Z)({title:s.Tree,window:t});let C=(0,u.useReactToPrint)({content:()=>I.current,documentTitle:"Tree_Structure",removeAfterPrint:!0}),T=(0,l.useMemo)(()=>{if(a){var e,t;let r=new Map(null==a?void 0:null===(e=a.list)||void 0===e?void 0:e.map(e=>[e.recordId,{...e,children:[]}]));return null==a||null===(t=a.list)||void 0===t||t.forEach(e=>{if(e.parentId){let a=r.get(e.parentId);a&&a.children.push(r.get(e.recordId))}}),[...r.values()].filter(e=>!e.parentId)}return[]},[a]),j=e=>(0,r.jsx)(b,{nodeId:e.recordId.toString(),label:e.name,children:Array.isArray(e.children)?e.children.map(e=>j(e)):null},e.recordId);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(x.Z,{sx:{p:0,display:"flex",flexDirection:"column",width:"100%",height:"100%",minHeight:0,overflow:"hidden"},children:[(0,r.jsx)(f,{"aria-label":"plant tree",defaultCollapseIcon:(0,r.jsx)(o.Z,{}),defaultExpandIcon:(0,r.jsx)(c.Z,{}),children:T.map(e=>j(e))}),(0,r.jsx)("div",{style:{display:"none",visibility:"hidden"},children:(0,r.jsx)("div",{ref:I,children:(0,r.jsx)(g,{nodes:T})})})]}),(0,r.jsx)(v.Z,{sx:{p:0,width:"100%"},children:(0,r.jsx)(m.Z,{actions:n?[{key:"Print",condition:!0,onClick:C,disabled:!1}]:[],isCleared:!1,isSaved:!1,isInfo:!1})})]})}C.width=500,C.height=400,a.Z=C},95291:function(e){e.exports={tabPanel:"CustomTabPanel_tabPanel__80Dfu",active:"CustomTabPanel_active___6Uvb",hidden:"CustomTabPanel_hidden__y9566"}},52614:function(e){e.exports={customTabPanel:"CustomTabs_customTabPanel__Ztocv",hidden:"CustomTabs_hidden__lZpM7",tabsContainer:"CustomTabs_tabsContainer__28Syi",tabsWrapper:"CustomTabs_tabsWrapper__mlxxj",tabs:"CustomTabs_tabs__25pli",tabName:"CustomTabs_tabName__XzMCn",tabRoot:"CustomTabs_tabRoot__WVR1E",tabDisabled:"CustomTabs_tabDisabled__VauYR",selectedTab:"CustomTabs_selectedTab__sZzwF",tabsIndicator:"CustomTabs_tabsIndicator__89Lek",refreshButton:"CustomTabs_refreshButton__P2mzl",refreshIcon:"CustomTabs_refreshIcon__ADVWF"}}},function(e){e.O(0,[40234,9783,49774,92888,40179],function(){return e(e.s=47322)}),_N_E=e.O()}]);