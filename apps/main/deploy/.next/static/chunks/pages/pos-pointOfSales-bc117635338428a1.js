(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42352],{97664:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pos-pointOfSales",function(){return s(36385)}])},36385:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return J}});var n=s(52322),t=s(2784),r=s(62202),l=s(69387),d=s(65950),o=s(61802),i=s(71987),c=s(26612),u=s(31389),m=s(33625),p=s(62362),x=s(19473),v=s(81510),I=s(27723),h=s(29326),f=s(9522),b=s(60218),y=s(48601),S=s(82737),_=s(8661),C=s(80983),P=s(65215),g=s(5088),j=s(38449),A=s(7121),Z=s(22341),T=s(66361),R=s(25870),O=s(84100),N=s(28879),F=s.n(N),q=s(28298),D=s(19689),V=e=>{var a,s,l,o,m,I,h;let{labels:f,maxAccess:N,setStore:V,store:k}=e,{postRequest:U,getRequest:E}=(0,t.useContext)(d.$),{platformLabels:w}=(0,t.useContext)(x.l),{recordId:B}=k,W=(0,i.E)({endpointId:v.A.PointOfSales.page}),{formik:z}=(0,C.c)({maxAccess:N,initialValues:{recordId:null,reference:"",currencyId:"",plantId:"",siteId:"",dtId:"",plId:"",ccId:"",taxId:"",applyTaxIVC:!1,applyTaxPUR:!1,applyTaxRET:!1,isInactive:!1,onlineStore:!1,nextDayExtend:!1,maxEndTime:"",status:""},validateOnChange:!0,validationSchema:y.Ry({currencyId:y.Z_().required(),reference:y.Z_().required(),plantId:y.Z_().required(),maxEndTime:y.Z_().required(),status:y.Z_().required(),plId:y.Z_().required(),siteId:y.Z_().nullable().test("siteId-required","Site ID is required when not an online store",function(e){let{onlineStore:a}=this.parent;return!!a||!!e&&""!==e})}),onSubmit:async e=>{let a=new Date(e.maxEndTime),s=a.getUTCHours().toString().padStart(2,"0"),n=a.getUTCMinutes().toString().padStart(2,"0"),t="".concat(s,":").concat(n),l={...e,maxEndTime:t},d=await U({extension:v.A.PointOfSales.set,record:JSON.stringify(l)});e.recordId||z.setFieldValue("recordId",d.recordId),V(e=>({...e,recordId:d.recordId})),r.ZP.success(e.recordId?w.Edited:w.Added),W()}}),L=!!z.values.recordId;return(0,t.useEffect)(()=>{!async function(){if(B){let e=await E({extension:v.A.PointOfSales.get,parameters:"_recordId=".concat(B)}),[a,s]=e.record.maxEndTime.split(":"),n=F()().set("hour",parseInt(a,10)).set("minute",parseInt(s,10)).set("second",0).set("millisecond",0);z.setValues({...e.record,onlineStore:!!e.record.onlineStore,maxEndTime:n})}}()},[B]),(0,n.jsx)(S.Z,{form:z,resourceId:c.i.PointOfSale,maxAccess:N,editMode:L,children:(0,n.jsx)(u.R,{children:(0,n.jsx)(p.Q,{children:(0,n.jsxs)(b.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(b.ZP,{item:!0,xs:6.01,children:(0,n.jsx)(g.Z,{name:"reference",label:f.reference,value:z.values.reference,required:!0,readOnly:L,maxAccess:N,onChange:z.handleChange,onClear:()=>z.setFieldValue("reference",""),error:z.touched.reference&&!!z.errors.reference})}),(0,n.jsx)(b.ZP,{item:!0,xs:6.01,children:(0,n.jsx)(_.Z,{endpointId:j.r.Currency.qry,name:"currencyId",label:f.currency,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:z.values,required:!0,maxAccess:N,onChange:(e,a)=>{z.setFieldValue("currencyId",(null==a?void 0:a.recordId)||null)},error:z.touched.currencyId&&!!z.errors.currencyId})}),(0,n.jsx)(b.ZP,{item:!0,xs:12,children:(0,n.jsx)(_.Z,{endpointId:j.r.Plant.qry,name:"plantId",label:w.plant,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"plant Ref"},{key:"name",value:"Name"}],values:z.values,required:!0,onChange:(e,a)=>{z.setFieldValue("plantId",(null==a?void 0:a.recordId)||"")},error:z.touched.plantId&&!!z.errors.plantId})}),(0,n.jsx)(b.ZP,{item:!0,xs:12,children:(0,n.jsx)(_.Z,{endpointId:P.$.Site.qry,name:"siteId",filter:e=>e.plantId===z.values.plantId,readOnly:!!z.values.onlineStore||!z.values.plantId||L,required:!z.values.onlineStore,label:f.invSite,values:z.values,displayField:"name",maxAccess:N,onChange:(e,a)=>{z.setFieldValue("siteId",(null==a?void 0:a.recordId)||"")},error:z.touched.siteId&&!!z.errors.siteId&&!z.values.onlineStore})}),(0,n.jsx)(b.ZP,{item:!0,xs:12,children:(0,n.jsx)(_.Z,{endpointId:j.r.DocumentType.qry,parameters:"_startAt=0&_pageSize=1000&_dgId=".concat(A.J.RetailInvoice),name:"dtId",label:f.docType,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],values:z.values,maxAccess:N,onChange:(e,a)=>{z&&z.setFieldValue("dtId",null==a?void 0:a.recordId)},error:z.touched.dtId&&!!z.errors.dtId})}),(0,n.jsx)(b.ZP,{item:!0,xs:12,children:(0,n.jsx)(_.Z,{endpointId:Z.P.PriceLevel.qry,name:"plId",label:f.pL,valueField:"recordId",required:!0,displayField:"name",displayFieldWidth:1,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:z.values,maxAccess:N,onChange:(e,a)=>{z.setFieldValue("plId",(null==a?void 0:a.recordId)||"")},error:z.touched.plId&&!!z.errors.plId})}),(0,n.jsx)(b.ZP,{item:!0,xs:12,children:(0,n.jsx)(_.Z,{endpointId:T.x.CostCenter.qry,parameters:"_params=&_startAt=0&_pageSize=200",name:"ccId",label:f.costCenter,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:"name",values:z.values,maxAccess:N,onChange:(e,a)=>{z&&z.setFieldValue("ccId",null==a?void 0:a.recordId)}})}),(0,n.jsx)(b.ZP,{item:!0,xs:12,children:(0,n.jsx)(_.Z,{endpointId:R.H.TaxSchedules.qry,name:"taxId",label:f.tax,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:z.values,onChange:(e,a)=>{z.setFieldValue("taxId",a?a.recordId:"")},error:z.touched.taxId&&!!z.errors.taxId,maxAccess:N})}),(0,n.jsx)(b.ZP,{item:!0,xs:6,children:(0,n.jsx)(D.Z,{name:"applyTaxIVC",value:null===(a=z.values)||void 0===a?void 0:a.applyTaxIVC,onChange:e=>z.setFieldValue("applyTaxIVC",e.target.checked),label:f.tOi,maxAccess:N})}),(0,n.jsx)(b.ZP,{item:!0,xs:6,children:(0,n.jsx)(D.Z,{name:"nextDayExtend",value:null===(s=z.values)||void 0===s?void 0:s.nextDayExtend,onChange:e=>z.setFieldValue("nextDayExtend",e.target.checked),label:f.nDe,maxAccess:N})}),(0,n.jsx)(b.ZP,{item:!0,xs:6,children:(0,n.jsx)(D.Z,{name:"applyTaxPUR",value:null===(l=z.values)||void 0===l?void 0:l.applyTaxPUR,onChange:e=>z.setFieldValue("applyTaxPUR",e.target.checked),label:f.tOp,maxAccess:N})}),(0,n.jsx)(b.ZP,{item:!0,xs:6,children:(0,n.jsx)(q.Z,{label:f.maxEndTime,name:"maxEndTime",value:null===(o=z.values)||void 0===o?void 0:o.maxEndTime,onChange:z.setFieldValue,onClear:()=>z.setFieldValue("maxEndTime",""),error:z.touched.maxEndTime&&!!z.errors.maxEndTime,maxAccess:N})}),(0,n.jsx)(b.ZP,{item:!0,xs:6,children:(0,n.jsx)(D.Z,{name:"applyTaxRET",value:null===(m=z.values)||void 0===m?void 0:m.applyTaxRET,onChange:e=>z.setFieldValue("applyTaxRET",e.target.checked),label:f.tOr,maxAccess:N})}),(0,n.jsx)(b.ZP,{item:!0,xs:6,children:(0,n.jsx)(_.Z,{name:"status",label:f.status,datasetId:O.v.POS_STATUS,values:z.values,required:!0,valueField:"key",displayField:"value",onChange:(e,a)=>{a&&z.setFieldValue("status",(null==a?void 0:a.key)||"")},error:z.touched.status&&!!z.errors.status,maxAccess:N})}),(0,n.jsx)(b.ZP,{item:!0,xs:6.01,children:(0,n.jsx)(D.Z,{name:"isInactive",value:null===(I=z.values)||void 0===I?void 0:I.isInactive,onChange:e=>z.setFieldValue("isInactive",e.target.checked),label:f.isInactive,maxAccess:N})}),(0,n.jsx)(b.ZP,{item:!0,xs:6.01,children:(0,n.jsx)(D.Z,{name:"onlineStore",value:null===(h=z.values)||void 0===h?void 0:h.onlineStore,onChange:e=>z.setFieldValue("onlineStore",e.target.checked),label:f.onlineStore,disabled:!!z.values.siteId,readOnly:!!z.values.siteId,maxAccess:N})})]})})})})},k=s(78711),U=s(76399),E=s(54074),w=e=>{let{store:a,labels:s,maxAccess:l}=e,{recordId:o}=a,{getRequest:i,postRequest:c}=(0,t.useContext)(d.$),{platformLabels:m}=(0,t.useContext)(x.l),I=(0,k.TA)({validateOnChange:!0,validationSchema:y.Ry({pOSUser:y.IX().of(y.Ry().shape({userId:y.Z_().required()})).required()}),initialValues:{pOSUser:[{id:1,posId:o,userId:"",spId:"",email:"",spName:"",spRef:""}]},onSubmit:e=>{h(e)}}),h=e=>{var a;let s=null==e?void 0:null===(a=e.pOSUser)||void 0===a?void 0:a.map(e=>{let{posId:a,...s}=e;return{posId:o,...s}});c({extension:v.A.PosUsers.set2,record:JSON.stringify({posId:o,users:s})}).then(e=>{r.ZP.success(m.Edited),b()})},f=[{component:"resourcecombobox",name:"userId",label:s.user,props:{endpointId:j.r.Users.qry,parameters:"_filter=&_size=50&_startAt=0&_sortBy=fullName",valueField:"recordId",displayField:"email",mapping:[{from:"email",to:"email"},{from:"recordId",to:"userId"}],columnsInDropDown:[{key:"email",value:"Email"}]}},{component:"resourcecombobox",label:s.salePerson,name:"spId",props:{endpointId:Z.P.SalesPerson.qry,parameters:"_filter=",displayField:["name","spRef"],valueField:"recordId",mapping:[{from:"recordId",to:"spId"},{from:"name",to:"spName"},{from:"spRef",to:"spRef"}],columnsInDropDown:[{key:"name",value:"Name"},{key:"spRef",value:"Reference"}]}}];function b(){i({extension:v.A.PosUsers.qry,parameters:"_posId=".concat(o)}).then(e=>{var a;let s=null===(a=e.list)||void 0===a?void 0:a.map((e,a)=>({...e,id:a+1}));I.setValues({pOSUser:s})}).catch(e=>{})}return(0,t.useEffect)(()=>{o&&b()},[o]),(0,n.jsx)(E.Z,{onSave:I.handleSubmit,maxAccess:l,isParentWindow:!1,children:(0,n.jsx)(u.R,{children:(0,n.jsx)(p.Q,{children:(0,n.jsx)(U._,{onChange:e=>I.setFieldValue("pOSUser",e),value:I.values.pOSUser||[],error:I.errors.pOSUser,columns:f})})})})},B=e=>{let{store:a,labels:s,maxAccess:l}=e,{recordId:o}=a,{getRequest:i,postRequest:m}=(0,t.useContext)(d.$),{platformLabels:I}=(0,t.useContext)(x.l),h=(0,k.TA)({validateOnChange:!0,validationSchema:y.Ry({pOSUser:y.IX().of(y.Ry().shape({spId:y.Z_().required("spId  is required")})).required("userId array is required")}),initialValues:{pOSUser:[{id:1,posId:o,spId:"",isInactive:!1,spName:""}]},onSubmit:e=>{f(e)}}),f=e=>{var a;let s=null==e?void 0:null===(a=e.pOSUser)||void 0===a?void 0:a.map(e=>{let{posId:a,...s}=e;return{posId:o,...s}});m({extension:v.A.SalesPerson.set2,record:JSON.stringify({posId:o,users:s})}).then(e=>{r.ZP.success(I.Edited),S()}).catch(e=>{})},b=[{component:"resourcecombobox",label:s.salePerson,name:"spId",props:{endpointId:Z.P.SalesPerson.qry,parameters:"_filter=",displayField:"name",valueField:"recordId",mapping:[{from:"recordId",to:"spId"},{from:"name",to:"spName"}],columnsInDropDown:[{key:"spRef",value:"Reference"},{key:"name",value:"Name"}]}},{component:"checkbox",label:s.isInactive,name:"isInactive"}];function S(){i({extension:v.A.SalesPerson.qry,parameters:"_posId=".concat(o)}).then(e=>{var a;let s=null===(a=e.list)||void 0===a?void 0:a.map((e,a)=>({...e,id:a+1}));h.setValues({pOSUser:s})}).catch(e=>{})}return(0,t.useEffect)(()=>{o&&S()},[o]),(0,n.jsx)(E.Z,{form:h,resourceId:c.i.PointOfSale,maxAccess:l,isParentWindow:!1,children:(0,n.jsx)(u.R,{children:(0,n.jsx)(p.Q,{children:(0,n.jsx)(U._,{onChange:e=>h.setFieldValue("pOSUser",e),value:h.values.pOSUser||[],error:h.errors.pOSUser,columns:b})})})})},W=s(2119),z=e=>{let{store:a,labels:s,maxAccess:l}=e,{recordId:o}=a,{getRequest:i,postRequest:c}=(0,t.useContext)(d.$),{platformLabels:m}=(0,t.useContext)(x.l),I=(0,k.TA)({validateOnChange:!0,validationSchema:y.Ry({pOSUser:y.IX().of(y.Ry().shape({cashAccountId:y.Z_().required()})).required()}),initialValues:{pOSUser:[{id:1,posId:o,cashAccountId:"",name:"",type:"",isInactive:!1}]},onSubmit:e=>{h(e)}}),h=e=>{var a;let s=null==e?void 0:null===(a=e.pOSUser)||void 0===a?void 0:a.map(e=>{let{posId:a,...s}=e;return{posId:o,...s}});c({extension:v.A.CashAccount.set2,record:JSON.stringify({posId:o,users:s})}).then(e=>{r.ZP.success(m.Edited),b()}).catch(e=>{})},f=[{component:"resourcecombobox",label:s.caAcc,name:"cashAccountId",props:{endpointId:W.G.CbBankAccounts.qry,parameters:"_type=0",displayField:["name","reference"],valueField:"recordId",mapping:[{from:"recordId",to:"cashAccountId"},{from:"name",to:"cashAccountName"},{from:"reference",to:"cashAccountRef"},{from:"typeName",to:"typeName"}],columnsInDropDown:[{key:"name",value:"Name"},{key:"reference",value:"Reference"}]}},{component:"textfield",label:s.type,name:"typeName",props:{readOnly:!0}},{component:"checkbox",label:s.isInactive,name:"isInactive"}];function b(){i({extension:v.A.CashAccount.qry,parameters:"_posId=".concat(o)}).then(e=>{var a;let s=null===(a=e.list)||void 0===a?void 0:a.map((e,a)=>({...e,id:a+1}));I.setValues({pOSUser:s})}).catch(e=>{})}return(0,t.useEffect)(()=>{o&&b()},[o]),(0,n.jsx)(E.Z,{onSave:I.handleSubmit,maxAccess:l,children:(0,n.jsx)(u.R,{children:(0,n.jsx)(p.Q,{children:(0,n.jsx)(U._,{onChange:e=>I.setFieldValue("pOSUser",e),value:I.values.pOSUser||[],error:I.errors.pOSUser,allowDelete:!0,columns:f})})})})},L=e=>{let{recordId:a,labels:s,maxAccess:r}=e,[l,d]=(0,t.useState)(0),o=!!a,[i,c]=(0,t.useState)({recordId:a}),u=[{label:s.pos},{label:s.user,disabled:!i.recordId},{label:s.salePerson,disabled:!i.recordId},{label:s.caAcc,disabled:!i.recordId}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Y,{tabs:u,activeTab:l,setActiveTab:d,maxAccess:r}),(0,n.jsx)(h.Z,{index:0,value:l,disabledApply:!o,maxAccess:r,children:(0,n.jsx)(V,{labels:s,setStore:c,store:i,maxAccess:r})}),(0,n.jsx)(h.Z,{index:1,value:l,maxAccess:r,children:(0,n.jsx)(w,{labels:s,maxAccess:r,store:i})}),(0,n.jsx)(h.Z,{index:2,value:l,maxAccess:r,children:(0,n.jsx)(B,{labels:s,maxAccess:r,store:i})}),(0,n.jsx)(h.Z,{index:3,value:l,maxAccess:r,children:(0,n.jsx)(z,{labels:s,maxAccess:r,store:i})})]})},J=()=>{let{getRequest:e,postRequest:a}=(0,t.useContext)(d.$),{platformLabels:s}=(0,t.useContext)(x.l),{stack:h}=(0,o.zY)();async function f(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:n=50}=a;try{return{...await e({extension:v.A.PointOfSales.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(n,"&_filter=&_sortField=&_params=")}),_startAt:s}}catch(e){}}let{query:{data:b},labels:y,invalidate:S,paginationParameters:_,refetch:C,access:P}=(0,i.J)({queryFn:f,endpointId:v.A.PointOfSales.page,datasetId:c.i.PointOfSale}),g=[{field:"reference",headerName:y.reference,flex:1},{field:"currencyName",headerName:y.salesCurrency,flex:1},{field:"siteName",headerName:y.invSite,flex:1},{field:"plantName",headerName:y.plant,flex:1},,{field:"dtName",headerName:y.docType,flex:1},{field:"plName",headerName:y.pL,flex:1}],j=async e=>{try{await a({extension:v.A.PointOfSales.del,record:JSON.stringify(e)}),S(),r.ZP.success(s.Deleted)}catch(e){}};function A(e){h({Component:L,props:{labels:y,recordId:e,maxAccess:P},width:800,height:600,title:y.pos})}return(0,n.jsxs)(u.R,{children:[(0,n.jsx)(m.g,{children:(0,n.jsx)(I.Z,{onAdd:()=>{A()},maxAccess:P})}),(0,n.jsx)(p.Q,{children:(0,n.jsx)(l.Z,{columns:g,globalStatus:!1,gridData:b,rowId:["recordId"],onEdit:e=>{A(null==e?void 0:e.recordId)},onDelete:j,isLoading:!1,pageSize:50,refetch:C,paginationParameters:_,paginationType:"api",maxAccess:P})})]})}},81510:function(e,a,s){"use strict";s.d(a,{A:function(){return t}});let n="PS.asmx/",t={PosUsers:{qry:n+"qryUSR",get:n+"getUSR",set:n+"setUSR",del:n+"delUSR",page:n+"pageUSR",set2:n+"set2USR"},PointOfSales:{page:n+"pagePOS",qry:n+"qryPOS",get:n+"getPOS",set:n+"setPOS",del:n+"delPOS"},SalesPerson:{qry:n+"qrySP",set2:n+"set2SP"},CashAccount:{qry:n+"qryCA",set2:n+"set2CA"},DocumentTypeDefault:{qry:n+"qryDTD",get:n+"getDTD",set:n+"setDTD",del:n+"delDTD"},RetailInvoice:{qry:n+"qryIVC",del:n+"delIVC",get:n+"getIVC",get2:n+"get2IVC",snapshot:n+"snapshotIVC",level:n+"level2_IVC",set2:n+"set2IVC",post:n+"postIVC",unpost:n+"unpostIVC"},RetailPurchase:{set2:n+"set2IVP"},RetailPurchaseReturn:{set2:n+"set2IPR"},RetailReturn:{set2:n+"set2IVR"},PUItems:{snapshot:n+"snapshotIT"}}},28298:function(e,a,s){"use strict";var n=s(52322),t=s(2784),r=s(74143),l=s(44258),d=s(41633),o=s(45297),i=s(94918),c=s(26698),u=s(51909),m=s(90740),p=s(32827),x=s(81576),v=s(7087),I=s.n(v);a.Z=e=>{let{name:a,label:s,value:v,onChange:h,error:f=!1,helperText:b="",disabledRangeTime:y={},variant:S="outlined",size:_="small",fullWidth:C=!0,required:P=!1,autoFocus:g=!1,disabled:j=!1,disabledTime:A=null,readOnly:Z=!1,editMode:T=!1,hasBorder:R=!0,hidden:O=!1,use24Hour:N=!1,min:F=null,max:q=null,...D}=e,[V,k]=(0,t.useState)(!1),[U,E]=(0,t.useState)(!1),{_readOnly:w,_required:B,_hidden:W}=(0,x.W)(a,D.maxAccess,P,Z,O);return W?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(d._,{dateAdapter:m.y,children:(0,n.jsx)(u.j,{variant:S,size:_,value:v,label:s,fullWidth:C,ampm:!N,minTime:F,maxTime:q,onFocus:()=>E(!0),onBlur:()=>E(!1),autoFocus:g,onChange:e=>h(a,e),onClose:()=>k(!1),open:V,disabled:j,readOnly:w,clearable:!0,slotProps:{textField:{required:B,size:_,fullWidth:C,error:!!f,helperText:"string"==typeof f?f:b,InputProps:{classes:{root:I().outlinedRoot,notchedOutline:R?I().outlinedFieldset:I().outlinedNoBorder,input:I().inputBase},endAdornment:!(w||j)&&(0,n.jsxs)(r.Z,{position:"end",className:I().inputAdornment,children:[v&&(0,n.jsx)(l.Z,{tabIndex:-1,className:I().iconButton,onClick:()=>h(a,null),children:(0,n.jsx)(o.Z,{className:I().icon})}),(0,n.jsx)(l.Z,{tabIndex:-1,className:I().iconButton,onClick:()=>k(!0),children:(0,n.jsx)(i.Z,{className:I().icon})})]})},InputLabelProps:{className:U||v?I().inputLabelShrink:I().inputLabel}},actionBar:{actions:["accept"]}},slots:{actionBar:e=>(0,n.jsx)(c.Z,{...e,actions:["accept"]}),popper:e=>(0,n.jsx)(p.Z,{...e,matchAnchorWidth:!1,isDateTimePicker:!0})},...D})})}},29326:function(e,a,s){"use strict";var n=s(52322);s(2784);var t=s(23925),r=s(13980),l=s.n(r),d=s(95291),o=s.n(d),i=s(65947);let c=e=>{var a,s,r;let{children:l,value:d,index:c,maxAccess:u,...m}=e,p="".concat(e.name||"tab",".").concat(c),{accessLevel:x}=null!==(r=(null!==(s=null==u?void 0:null===(a=u.record)||void 0===a?void 0:a.controls)&&void 0!==s?s:[]).find(e=>e.controlId===p))&&void 0!==r?r:{accessLevel:0};if(x===i.A1)return null;let v=d===c;return(0,n.jsx)(t.Z,{role:"tabpanel",hidden:!v,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c),className:"".concat(o().tabPanel," ").concat(v?o().active:o().hidden),...m,children:l})};c.propTypes={children:l().node,index:l().number.isRequired,value:l().number.isRequired},a.Z=c},9522:function(e,a,s){"use strict";s.d(a,{Y:function(){return m}});var n=s(52322),t=s(23925),r=s(54582),l=s(68696),d=s(44258),o=s(2784),i=s(99266),c=s(52614),u=s.n(c);let m=e=>{var a,s,c,m,p;let{tabs:x,activeTab:v,setActiveTab:I,maxAccess:h,name:f="tab"}=e,b=(null==h?void 0:null===(s=h.record)||void 0===s?void 0:null===(a=s.controls)||void 0===a?void 0:a.filter(e=>{var a;return 4===e.accessLevel&&(null===(a=e.controlId)||void 0===a?void 0:a.startsWith("".concat(f,".")))}).map(e=>e.controlId.split(".")[1]))||[],y=null==x?void 0:null===(c=x.map((e,a)=>({...e,id:a})))||void 0===c?void 0:c.filter((e,a)=>!b.includes(String(a))),S=null===(m=y[v])||void 0===m?void 0:m.id,_=null===(p=y[v])||void 0===p?void 0:p.disabled;return(0,o.useEffect)(()=>{S>=0&&!_&&v!=S&&I(S)},[]),(0,n.jsx)(t.Z,{className:u().tabsContainer,children:(0,n.jsx)(t.Z,{className:u().tabsWrapper,children:(0,n.jsx)(r.Z,{value:v,onChange:(e,a)=>I(a),variant:"scrollable",scrollButtons:y.length>3?"auto":"off","aria-label":"scrollable tabs",classes:{indicator:u().tabsIndicator},className:u().tabs,children:null==y?void 0:y.map(e=>(0,n.jsx)(l.Z,{value:e.id,disabled:null==e?void 0:e.disabled,className:"".concat(u().tabName," ").concat(e.disabled?u().tabDisabled:""),classes:{root:u().tabRoot,selected:u().selectedTab},label:(0,n.jsxs)(t.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)("span",{children:e.label}),e.id===v&&(null==e?void 0:e.onRefetch)&&(0,n.jsx)(d.Z,{size:"small",className:u().refreshButton,onClick:a=>{a.stopPropagation(),e.onRefetch()},children:(0,n.jsx)(i.Z,{className:u().refreshIcon})})]})},e.id))})})})}},95291:function(e){e.exports={tabPanel:"CustomTabPanel_tabPanel__80Dfu",active:"CustomTabPanel_active___6Uvb",hidden:"CustomTabPanel_hidden__y9566"}},52614:function(e){e.exports={customTabPanel:"CustomTabs_customTabPanel__Ztocv",hidden:"CustomTabs_hidden__lZpM7",tabsContainer:"CustomTabs_tabsContainer__28Syi",tabsWrapper:"CustomTabs_tabsWrapper__mlxxj",tabs:"CustomTabs_tabs__25pli",tabName:"CustomTabs_tabName__XzMCn",tabRoot:"CustomTabs_tabRoot__WVR1E",tabDisabled:"CustomTabs_tabDisabled__VauYR",selectedTab:"CustomTabs_selectedTab__sZzwF",tabsIndicator:"CustomTabs_tabsIndicator__89Lek",refreshButton:"CustomTabs_refreshButton__P2mzl",refreshIcon:"CustomTabs_refreshIcon__ADVWF"}}},function(e){e.O(0,[92515,43553,49774,92888,40179],function(){return e(e.s=97664)}),_N_E=e.O()}]);