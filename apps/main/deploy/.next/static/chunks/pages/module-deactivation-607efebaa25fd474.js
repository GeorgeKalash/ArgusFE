(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84602],{91569:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/module-deactivation",function(){return n(8508)}])},8508:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(52322),i=n(2784),c=n(69387),s=n(65950),l=n(71987),u=n(26612),o=n(95982),d=n(84100),r=n(62202),f=n(80968),m=n(31389),h=n(62362),_=n(54074),v=()=>{let{getRequest:e,postRequest:t}=(0,i.useContext)(s.$),{getAllKvsByDataset:n}=(0,i.useContext)(f.k),[v,x]=(0,i.useState)([]),{labels:k,access:w}=(0,l.J)({datasetId:u.i.ModuleDeactivation});async function y(){return new Promise((e,t)=>{n({_dataset:d.v.MODULE,callback:n=>{n?e(n):t()}})})}(0,i.useEffect)(()=>{!async function(){let t=await y();Promise.all([e({extension:o.y.ModuleDeactivation.qry,parameters:"_filter="})]).then(e=>{let[n]=e;x({list:t.map(e=>{let t={moduleId:e.key,moduleName:e.value,isInactive:!1,checked:!1},a=n.list.find(e=>t.moduleId==e.moduleId);return a&&(t.isInactive=!0),a&&(t.checked=!0),t})})})}()},[]);let I=[{field:"moduleName",headerName:k.ModuleName,flex:1}],N=async()=>{let e=v.list.filter(e=>e.checked).map(e=>{let{moduleName:t,checked:n,...a}=e;return a});e.forEach(e=>{e.isIactive||(e.isInactive=!0)});try{await t({extension:o.y.ModuleDeactivation.set2,record:JSON.stringify({modules:e})}),r.ZP.success("Record Updated Successfully")}catch(e){}};return(0,a.jsx)(_.Z,{onSave:()=>{N()},maxAccess:w,fullSize:!0,children:(0,a.jsx)(m.R,{children:(0,a.jsx)(h.Q,{children:(0,a.jsx)(c.Z,{columns:I,gridData:v,rowId:["moduleId"],isLoading:!1,maxAccess:w,showCheckboxColumn:!0,pagination:!1})})})})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=91569)}),_N_E=e.O()}]);