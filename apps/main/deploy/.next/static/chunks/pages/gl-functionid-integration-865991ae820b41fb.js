(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88230],{74420:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gl-functionid-integration",function(){return t(7647)}])},7647:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var i=t(52322),o=t(2784),l=t(62202),r=t(65950),a=t(38449),s=t(71987),d=t(26612),u=t(80983),c=t(31389),m=t(62362),f=t(76399),p=t(66361),w=t(19473),x=t(54074),v=()=>{var e,n;let{getRequest:t,postRequest:v}=(0,o.useContext)(r.$),{platformLabels:I}=(0,o.useContext)(w.l),y=async()=>{var e,n;let[i,o]=await Promise.all([t({extension:a.r.SystemFunction.qry,parameters:"_filter="}),t({extension:p.x.IntegrationSystemFunction.qry,parameters:"_filter="})]),l=(null==o?void 0:null===(e=o.list)||void 0===e?void 0:e.reduce((e,n)=>{let{functionId:t,ilId:i,ilName:o}=n;return e[t]={ilId:i,ilName:o},e},{}))||{},r=null==i?void 0:null===(n=i.list)||void 0===n?void 0:n.map((e,n)=>{let{functionId:t,...i}=e,o=l[t]||{};return{id:n+1,functionId:t,ilId:o.ilId||null,name:o.ilName||null,...i}});N.setFieldValue("rows",r)},{labels:_,access:g}=(0,s.J)({queryFn:y,datasetId:d.i.SystemFunctionIntegrations}),{formik:N}=(0,u.c)({maxAccess:g,validateOnChange:!0,initialValues:{rows:[{id:1,functionId:"",sfName:"",ilId:"",name:""}]},onSubmit:async e=>{let n=e.rows.filter(e=>e.ilId&&""!==e.ilId).map(e=>{let{functionId:n,ilId:t,name:i}=e;return{functionId:n,ilId:t,name:i}});await v({extension:p.x.IntegrationSystemFunction.set2,record:JSON.stringify({items:n})}),l.ZP.success(I.Updated),await y()}}),b=[{component:"textfield",label:_.functionId,name:"functionId",props:{readOnly:!0,type:"number"}},{component:"textfield",label:_.functionName,name:"sfName",props:{readOnly:!0}},{component:"resourcecombobox",label:_.integrationLogic,name:"ilId",props:{endpointId:p.x.IntegrationLogic.qry,displayField:"name",mapping:[{from:"name",to:"name"},{from:"recordId",to:"ilId"}]}}];return(0,i.jsx)(x.Z,{onSave:N.handleSubmit,maxAccess:g,fullSize:!0,children:(0,i.jsx)(c.R,{children:(0,i.jsx)(m.Q,{children:(0,i.jsx)(f._,{onChange:e=>{N.setFieldValue("rows",e)},value:null===(e=N.values)||void 0===e?void 0:e.rows,error:null===(n=N.errors)||void 0===n?void 0:n.rows,columns:b,allowDelete:!1,allowAddNewLine:!1,maxAccess:g,name:"rows"})})})})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=74420)}),_N_E=e.O()}]);