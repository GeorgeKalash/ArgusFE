(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65476],{32883:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/repair-type",function(){return a(64653)}])},64653:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return W}});var r=a(52322),s=a(2784),n=a(62202),d=a(69387),p=a(27723),i=a(65950),l=a(61802),g=a(71987),o=a(26612),c=a(31389),y=a(33625),T=a(62362),u=a(19473),P=a(60218),m=a(48601),q=a(82737),E=a(5088),R=a(80983),h=a(54736);function S(e){let{labels:t,maxAccess:a,recordId:d}=e,{getRequest:p,postRequest:l}=(0,s.useContext)(i.$),{platformLabels:y}=(0,s.useContext)(u.l),S=(0,g.E)({endpointId:h.m.RepairType.page}),{formik:W}=(0,R.c)({initialValues:{recordId:null,name:""},validateOnChange:!0,validationSchema:m.Ry({name:m.Z_().required()}),onSubmit:async e=>{let t=await l({extension:h.m.RepairType.set,record:JSON.stringify(e)});n.ZP.success(e.recordId?y.Edited:y.Added),W.setFieldValue("recordId",t.recordId),S()}}),x=!!W.values.recordId;return(0,s.useEffect)(()=>{!async function(){if(d){let e=await p({extension:h.m.RepairType.get,parameters:"_recordId=".concat(d)});W.setValues(e.record)}}()},[]),(0,r.jsx)(q.Z,{resourceId:o.i.RepairType,form:W,maxAccess:a,editMode:x,children:(0,r.jsx)(c.R,{children:(0,r.jsx)(T.Q,{children:(0,r.jsx)(P.ZP,{container:!0,spacing:2,children:(0,r.jsx)(P.ZP,{item:!0,xs:12,children:(0,r.jsx)(E.Z,{name:"name",label:t.name,value:W.values.name,required:!0,maxAccess:a,maxLength:"30",onChange:W.handleChange,onClear:()=>W.setFieldValue("name",""),error:W.touched.name&&!!W.errors.name})})})})})})}var W=()=>{let{getRequest:e,postRequest:t}=(0,s.useContext)(i.$),{platformLabels:a}=(0,s.useContext)(u.l),{stack:P}=(0,l.zY)();async function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:r=50}=t;return{...await e({extension:h.m.RepairType.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(r,"&_filter=")}),_startAt:a}}let{query:{data:q},labels:E,invalidate:R,paginationParameters:W,refetch:x,access:O}=(0,g.J)({queryFn:m,endpointId:h.m.RepairType.page,datasetId:o.i.RepairType}),f=[{field:"name",headerName:E.name,flex:1}],M=async e=>{await t({extension:h.m.RepairType.del,record:JSON.stringify(e)}),R(),n.ZP.success(a.Deleted)};function I(e){P({Component:S,props:{labels:E,recordId:e,maxAccess:O},width:500,height:250,title:E.RepairType})}return(0,r.jsxs)(c.R,{children:[(0,r.jsx)(y.g,{children:(0,r.jsx)(p.Z,{onAdd:()=>{I()},maxAccess:O})}),(0,r.jsx)(T.Q,{children:(0,r.jsx)(d.Z,{name:"table",columns:f,gridData:q,rowId:["recordId"],onEdit:e=>{I(null==e?void 0:e.recordId)},onDelete:M,pageSize:50,refetch:x,paginationParameters:W,paginationType:"api",maxAccess:O})})]})}},54736:function(e,t,a){"use strict";a.d(t,{m:function(){return s}});let r="RS.asmx/",s={RepairName:{page:r+"pageRNA",qry:r+"qryRNA",get:r+"getRNA",set:r+"setRNA",del:r+"delRNA"},WorkOrderTypes:{page:r+"pageWOT",qry:r+"qryWOT",get:r+"getWOT",set:r+"setWOT",del:r+"delWOT"},RepairType:{page:r+"pageRT",get:r+"getRT",set:r+"setRT",del:r+"delRT"},SpareParts:{snapshot:r+"snapshotSP",page:r+"pageSP",get:r+"getSP",set:r+"setSP",del:r+"delSP"},InspectionTemplate:{get2:r+"get2ITE",page:r+"pageITE",set2:r+"set2ITE",del:r+"delITE"},Department:{page:r+"pageDEP",get:r+"getDEP",set:r+"setDEP",del:r+"delDEP"},Warehouse:{page:r+"pageWH",qry:r+"qryWH",set:r+"setWH",get:r+"getWH",del:r+"delWH"},PreventiveMaintenanceTasks:{qry:r+"qryPMT",page:r+"pagePMT",qry:r+"qryPMT",get:r+"getPMT",set:r+"setPMT",del:r+"delPMT"},Equipment:{qry:r+"qryEQP",page:r+"pageEQP",get:r+"getEQP",set:r+"setEQP",del:r+"delEQP",snapshot:r+"snapshotEQP"},SpManufacturer:{page:r+"pageSPM",get:r+"getSPM",set:r+"setSPM",del:r+"delSPM",qry:r+"qrySPM"},JobPosition:{page:r+"pagePOS",qry:r+"qryPOS",get:r+"getPOS",set:r+"setPOS",del:r+"delPOS"},SpCategory:{page:r+"pageSPC",get:r+"getSPC",set:r+"setSPC",del:r+"delSPC",qry:r+"qrySPC"},MaintenanceTemplates:{page:r+"pageMTE",get:r+"getMTE",set:r+"setMTE",del:r+"delMTE",qry:r+"qryMTE"},MaintenanceTemplateTask:{qry:r+"qryMTT",get:r+"getMTT",set:r+"setMTT",del:r+"delMTT"},RsLabors:{qry:r+"qryLBR",snapshot:r+"snapshotLBR",page:r+"pageLBR",set:r+"setLBR",get:r+"getLBR",del:r+"delLBR",qry:r+"qryLBR"},WorkOrder:{page:r+"qryWO",get:r+"getWO",set:r+"setWO",del:r+"delWO",post:r+"postWO"},WorkTask:{qry:r+"qryWTK",get:r+"getWTK",set:r+"setWTK",del:r+"delWTK"},EquipmentType:{qry:r+"qryEQT",get:r+"getEQT",set:r+"setEQT",del:r+"delEQT"},WorkOrderParts:{qry:r+"qryWOP",set2:r+"set2WOP"},WorkOrderLabors:{qry:r+"qryWOL",set2:r+"set2WOL"},RepairRequest:{page:r+"pageREQ",get:r+"getREQ",set:r+"setREQ",del:r+"delREQ"},Employee:{snapshot:r+"snapshotEMP"},RepairType:{qry:r+"qryRT"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=32883)}),_N_E=e.O()}]);