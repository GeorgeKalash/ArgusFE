(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49187],{37756:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sp-manuf",function(){return a(52868)}])},52868:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var r=a(52322),s=a(2784),n=a(62202),d=a(69387),p=a(27723),g=a(65950),l=a(71987),i=a(26612),o=a(31389),c=a(33625),u=a(62362),T=a(61802),y=a(19473),P=a(54736),m=a(60218),q=a(48601),E=a(82737),S=a(5088),f=a(80983);function h(e){let{labels:t,maxAccess:a,recordId:d,window:p}=e,{getRequest:c,postRequest:T}=(0,s.useContext)(g.$),{platformLabels:h}=(0,s.useContext)(y.l),M=(0,l.E)({endpointId:P.m.SpManufacturer.page}),{formik:R}=(0,f.c)({initialValues:{recordId:d,name:""},maxAccess:a,validateOnChange:!0,validationSchema:q.Ry({name:q.Z_().required()}),onSubmit:async e=>{await T({extension:P.m.SpManufacturer.set,record:JSON.stringify(e)}),p.close(),n.ZP.success(e.recordId?h.Edited:h.Added),M()}}),W=!!R.values.recordId;return(0,s.useEffect)(()=>{!async function(){if(d){let e=await c({extension:P.m.SpManufacturer.get,parameters:"_recordId=".concat(d)});R.setValues(e.record)}}()},[]),(0,r.jsx)(E.Z,{resourceId:i.i.SpManufacturer,form:R,maxAccess:a,editMode:W,children:(0,r.jsx)(o.R,{children:(0,r.jsx)(u.Q,{children:(0,r.jsx)(m.ZP,{container:!0,spacing:2,children:(0,r.jsx)(m.ZP,{item:!0,xs:12,children:(0,r.jsx)(S.Z,{name:"name",label:t.name,value:R.values.name,required:!0,maxLength:"30",maxAccess:a,onChange:R.handleChange,onClear:()=>R.setFieldValue("name",""),error:R.touched.name&&!!R.errors.name})})})})})})}var M=()=>{let{getRequest:e,postRequest:t}=(0,s.useContext)(g.$),{platformLabels:a}=(0,s.useContext)(y.l),{stack:m}=(0,T.zY)();async function q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:r=50}=t;return{...await e({extension:P.m.SpManufacturer.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(r,"&filter=")}),_startAt:a}}let{query:{data:E},labels:S,refetch:f,invalidate:M,paginationParameters:R,access:W}=(0,l.J)({queryFn:q,endpointId:P.m.SpManufacturer.page,datasetId:i.i.SpManufacturer}),x=[{field:"name",headerName:S.name,flex:1}],O=async e=>{await t({extension:P.m.SpManufacturer.del,record:JSON.stringify(e)}),M(),n.ZP.success(a.Deleted)};function C(e){m({Component:h,props:{labels:S,recordId:e,maxAccess:W},width:600,height:200,title:S.manufacturer})}return(0,r.jsxs)(o.R,{children:[(0,r.jsx)(c.g,{children:(0,r.jsx)(p.Z,{onAdd:()=>{C()},maxAccess:W})}),(0,r.jsx)(u.Q,{children:(0,r.jsx)(d.Z,{name:"table",columns:x,gridData:E,rowId:["recordId"],onEdit:e=>{C(null==e?void 0:e.recordId)},onDelete:O,pageSize:50,paginationType:"api",deleteConfirmationType:"strict",maxAccess:W,refetch:f,paginationParameters:R})})]})}},54736:function(e,t,a){"use strict";a.d(t,{m:function(){return s}});let r="RS.asmx/",s={RepairName:{page:r+"pageRNA",qry:r+"qryRNA",get:r+"getRNA",set:r+"setRNA",del:r+"delRNA"},WorkOrderTypes:{page:r+"pageWOT",qry:r+"qryWOT",get:r+"getWOT",set:r+"setWOT",del:r+"delWOT"},RepairType:{page:r+"pageRT",get:r+"getRT",set:r+"setRT",del:r+"delRT"},SpareParts:{snapshot:r+"snapshotSP",page:r+"pageSP",get:r+"getSP",set:r+"setSP",del:r+"delSP"},InspectionTemplate:{get2:r+"get2ITE",page:r+"pageITE",set2:r+"set2ITE",del:r+"delITE"},Department:{page:r+"pageDEP",get:r+"getDEP",set:r+"setDEP",del:r+"delDEP"},Warehouse:{page:r+"pageWH",qry:r+"qryWH",set:r+"setWH",get:r+"getWH",del:r+"delWH"},PreventiveMaintenanceTasks:{qry:r+"qryPMT",page:r+"pagePMT",qry:r+"qryPMT",get:r+"getPMT",set:r+"setPMT",del:r+"delPMT"},Equipment:{qry:r+"qryEQP",page:r+"pageEQP",get:r+"getEQP",set:r+"setEQP",del:r+"delEQP",snapshot:r+"snapshotEQP"},SpManufacturer:{page:r+"pageSPM",get:r+"getSPM",set:r+"setSPM",del:r+"delSPM",qry:r+"qrySPM"},JobPosition:{page:r+"pagePOS",qry:r+"qryPOS",get:r+"getPOS",set:r+"setPOS",del:r+"delPOS"},SpCategory:{page:r+"pageSPC",get:r+"getSPC",set:r+"setSPC",del:r+"delSPC",qry:r+"qrySPC"},MaintenanceTemplates:{page:r+"pageMTE",get:r+"getMTE",set:r+"setMTE",del:r+"delMTE",qry:r+"qryMTE"},MaintenanceTemplateTask:{qry:r+"qryMTT",get:r+"getMTT",set:r+"setMTT",del:r+"delMTT"},RsLabors:{qry:r+"qryLBR",snapshot:r+"snapshotLBR",page:r+"pageLBR",set:r+"setLBR",get:r+"getLBR",del:r+"delLBR",qry:r+"qryLBR"},WorkOrder:{page:r+"qryWO",get:r+"getWO",set:r+"setWO",del:r+"delWO",post:r+"postWO"},WorkTask:{qry:r+"qryWTK",get:r+"getWTK",set:r+"setWTK",del:r+"delWTK"},EquipmentType:{qry:r+"qryEQT",get:r+"getEQT",set:r+"setEQT",del:r+"delEQT"},WorkOrderParts:{qry:r+"qryWOP",set2:r+"set2WOP"},WorkOrderLabors:{qry:r+"qryWOL",set2:r+"set2WOL"},RepairRequest:{page:r+"pageREQ",get:r+"getREQ",set:r+"setREQ",del:r+"delREQ"},Employee:{snapshot:r+"snapshotEMP"},RepairType:{qry:r+"qryRT"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=37756)}),_N_E=e.O()}]);