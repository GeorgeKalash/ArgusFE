(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7894],{44337:function(e,t,d){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sa-cog-in-dtd",function(){return d(73751)}])},73751:function(e,t,d){"use strict";d.r(t),d.d(t,{default:function(){return j}});var n=d(52322),a=d(2784),c=d(62202),s=d(69387),o=d(27723),r=d(65950),i=d(61802),l=d(71987),u=d(26612),m=d(31389),p=d(33625),f=d(62362),x=d(19473),h=d(22341),y=d(60218),I=d(48601),v=d(82737),D=d(80983),_=d(38449),g=d(8661),b=d(19689);function k(e){var t,d;let{labels:s,maxAccess:o,recordId:i}=e,{platformLabels:p}=(0,a.useContext)(x.l),{getRequest:k,postRequest:j}=(0,a.useContext)(r.$),P=(0,l.E)({endpointId:h.P.DocumentTypeDefault.qry}),{formik:S}=(0,D.c)({initialValues:{dtId:"",recordId:i||null,commitItems:!1,disableSKULookup:!1},maxAccess:o,validationSchema:I.Ry({dtId:I.Z_().required()}),onSubmit:async e=>{try{await j({extension:h.P.DocumentTypeDefault.set,record:JSON.stringify(e)}),S.values.recordId?c.ZP.success(p.Edited):(S.setFieldValue("recordId",S.values.dtId),c.ZP.success(p.Added)),P()}catch(e){}}}),T=!!S.values.recordId;return(0,a.useEffect)(()=>{!async function(){try{if(i){let e=await k({extension:h.P.DocumentTypeDefault.get,parameters:"_dtId=".concat(i)});S.setValues({...e.record,recordId:i,disableSKULookup:!!e.record.disableSKULookup})}}catch(e){}}()},[]),(0,n.jsx)(v.Z,{resourceId:u.i.DocumentTypeDefault,form:S,maxAccess:o,editMode:T,children:(0,n.jsx)(m.R,{children:(0,n.jsx)(f.Q,{children:(0,n.jsxs)(y.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(y.ZP,{item:!0,xs:12,children:(0,n.jsx)(g.Z,{endpointId:_.r.DocumentType.qry,parameters:"_startAt=0&_pageSize=1000&_dgId=".concat(5107),name:"dtId",required:!0,label:s.documentType,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],readOnly:T,values:S.values,maxAccess:o,onChange:(e,t)=>{S&&S.setFieldValue("dtId",(null==t?void 0:t.recordId)||"")},error:S.touched.dtId&&!!S.errors.dtId})}),(0,n.jsx)(y.ZP,{item:!0,xs:12,children:(0,n.jsx)(b.Z,{name:"commitItems",value:null===(t=S.values)||void 0===t?void 0:t.commitItems,onChange:e=>S.setFieldValue("commitItems",e.target.checked),label:s.commitItems,maxAccess:o})}),(0,n.jsx)(y.ZP,{item:!0,xs:12,children:(0,n.jsx)(b.Z,{name:"disableSKULookup",value:null===(d=S.values)||void 0===d?void 0:d.disableSKULookup,onChange:e=>S.setFieldValue("disableSKULookup",e.target.checked),label:s.dsl,maxAccess:o})})]})})})})}var j=()=>{let{getRequest:e,postRequest:t}=(0,a.useContext)(r.$),{platformLabels:d}=(0,a.useContext)(x.l),{stack:y}=(0,i.zY)();async function I(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:d=0,_pageSize:n=50}=t;try{return{...await e({extension:h.P.DocumentTypeDefault.qry,parameters:"_startAt=".concat(d,"&_pageSize=").concat(n,"&_filter=&_functionId=5107")}),_startAt:d}}catch(e){}}let{query:{data:v},labels:D,invalidate:_,refetch:g,access:b}=(0,l.J)({queryFn:I,endpointId:h.P.DocumentTypeDefault.qry,datasetId:u.i.DocumentTypeDefault}),j=[{field:"dtName",headerName:D.documentType,flex:1},{field:"commitItems",headerName:D.commitItems,type:"checkbox",flex:1},{field:"disableSKULookup",headerName:D.dsl,type:"checkbox",flex:1}],P=async e=>{try{await t({extension:h.P.DocumentTypeDefault.del,record:JSON.stringify(e)}),_(),c.ZP.success(d.Deleted)}catch(e){}};function S(e){y({Component:k,props:{labels:D,recordId:null==e?void 0:e.dtId,maxAccess:b},width:600,height:500,title:D.dtDefault})}return(0,n.jsxs)(m.R,{children:[(0,n.jsx)(p.g,{children:(0,n.jsx)(o.Z,{onAdd:()=>{S()},maxAccess:b})}),(0,n.jsx)(f.Q,{children:(0,n.jsx)(s.Z,{columns:j,gridData:v,rowId:["dtId"],onEdit:e=>{S(e)},onDelete:P,isLoading:!1,pageSize:50,refetch:g,paginationType:"client",maxAccess:b})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=44337)}),_N_E=e.O()}]);