(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40792],{90492:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gl-cc-groups",function(){return n(44884)}])},44884:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return y}});var t=n(52322),a=n(2784),s=n(62202),o=n(69387),c=n(27723),d=n(65950),i=n(66361),l=n(71987),u=n(26612),x=n(31389),f=n(33625),m=n(62362),h=n(61802),C=n(60218),p=n(48601),g=n(82737),_=n(5088),I=n(80983),j=n(19473);function w(e){let{labels:r,maxAccess:n,recordId:o}=e,{getRequest:c,postRequest:f}=(0,a.useContext)(d.$),{platformLabels:h}=(0,a.useContext)(j.l),w=(0,l.E)({endpointId:i.x.CostCenterGroup.page}),{formik:y}=(0,I.c)({initialValues:{recordId:o||null,reference:"",name:""},validateOnChange:!0,validationSchema:p.Ry({reference:p.Z_().required(),name:p.Z_().required()}),onSubmit:async e=>{let r=await f({extension:i.x.CostCenterGroup.set,record:JSON.stringify(e)});e.recordId||y.setValues({...e,recordId:r.recordId}),s.ZP.success(e.recordId?h.Edited:h.Added),w()}}),Z=!!y.values.recordId;return(0,a.useEffect)(()=>{!async function(){if(o){let e=await c({extension:i.x.CostCenterGroup.get,parameters:"_recordId=".concat(o)});y.setValues(e.record)}}()},[]),(0,t.jsx)(g.Z,{resourceId:u.i.CostCenterGroup,form:y,actions:[{key:"RecordRemarks",condition:!0,onClick:"onRecordRemarks",disabled:!Z}],maxAccess:n,editMode:Z,children:(0,t.jsx)(x.R,{children:(0,t.jsx)(m.Q,{children:(0,t.jsxs)(C.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(C.ZP,{item:!0,xs:12,children:(0,t.jsx)(_.Z,{name:"reference",label:r.reference,value:y.values.reference,required:!0,maxAccess:n,maxLength:"10",onChange:y.handleChange,onClear:()=>y.setFieldValue("reference",""),error:y.touched.reference&&!!y.errors.reference})}),(0,t.jsx)(C.ZP,{item:!0,xs:12,children:(0,t.jsx)(_.Z,{name:"name",label:r.name,value:y.values.name,maxLength:"30",required:!0,maxAccess:n,onChange:y.handleChange,onClear:()=>y.setFieldValue("name",""),error:y.touched.name&&!!y.errors.name})})]})})})})}var y=()=>{let{getRequest:e,postRequest:r}=(0,a.useContext)(d.$),{platformLabels:n}=(0,a.useContext)(j.l),{stack:C}=(0,h.zY)();async function p(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:n=0,_pageSize:t=50}=r;return{...await e({extension:i.x.CostCenterGroup.page,parameters:"_startAt=".concat(n,"&_pageSize=").concat(t,"&filter=")}),_startAt:n}}let{query:{data:g},labels:_,paginationParameters:I,refetch:y,invalidate:Z,access:v}=(0,l.J)({queryFn:p,endpointId:i.x.CostCenterGroup.page,datasetId:u.i.CostCenterGroup}),A=[{field:"reference",headerName:_.reference,flex:1},{field:"name",headerName:_.name,flex:1}],E=async e=>{try{await r({extension:i.x.CostCenterGroup.del,record:JSON.stringify(e)}),s.ZP.success(n.Deleted),Z()}catch(e){}};function N(e){C({Component:w,props:{labels:_,recordId:e||null,maxAccess:v},width:600,height:250,title:_.costCenter})}return(0,t.jsxs)(x.R,{children:[(0,t.jsx)(f.g,{children:(0,t.jsx)(c.Z,{onAdd:()=>{N()},maxAccess:v})}),(0,t.jsx)(m.Q,{children:(0,t.jsx)(o.Z,{columns:A,gridData:g,rowId:["recordId"],onEdit:e=>{N(null==e?void 0:e.recordId)},onDelete:E,isLoading:!1,pageSize:50,paginationType:"api",maxAccess:v,refetch:y,paginationParameters:I})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=90492)}),_N_E=e.O()}]);