(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10227],{22301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wo-types",function(){return r(98088)}])},98088:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var s=r(52322),a=r(2784),n=r(62202),d=r(69387),l=r(27723),i=r(65950),o=r(61802),g=r(71987),p=r(26612),c=r(31389),y=r(33625),T=r(62362),u=r(19473),P=r(60218),m=r(48601),q=r(82737),E=r(5088),W=r(80983),h=r(54736),O=r(19689);function x(e){var t;let{labels:r,maxAccess:d,recordId:l}=e,{getRequest:o,postRequest:y}=(0,a.useContext)(i.$),{platformLabels:x}=(0,a.useContext)(u.l),M=(0,g.E)({endpointId:h.m.WorkOrderTypes.page}),{formik:R}=(0,W.c)({maxAccess:d,initialValues:{recordId:null,name:"",isPM:!1},validateOnChange:!0,validationSchema:m.Ry({name:m.Z_().required()}),onSubmit:async e=>{let t=await y({extension:h.m.WorkOrderTypes.set,record:JSON.stringify(e)});n.ZP.success(e.recordId?x.Edited:x.Added),R.setFieldValue("recordId",t.recordId),M()}}),S=!!R.values.recordId;return(0,a.useEffect)(()=>{!async function(){if(l){let e=await o({extension:h.m.WorkOrderTypes.get,parameters:"_recordId=".concat(l)});R.setValues(e.record)}}()},[]),(0,s.jsx)(q.Z,{resourceId:p.i.WorkOrderTypes,form:R,maxAccess:d,editMode:S,children:(0,s.jsx)(c.R,{children:(0,s.jsx)(T.Q,{children:(0,s.jsxs)(P.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(P.ZP,{item:!0,xs:12,children:(0,s.jsx)(E.Z,{name:"name",label:r.name,value:R.values.name,required:!0,maxAccess:d,maxLength:"30",onChange:R.handleChange,onClear:()=>R.setFieldValue("name",""),error:R.touched.name&&!!R.errors.name})}),(0,s.jsx)(P.ZP,{item:!0,xs:12,children:(0,s.jsx)(O.Z,{name:"isPM",value:null===(t=R.values)||void 0===t?void 0:t.isPM,onChange:e=>R.setFieldValue("isPM",e.target.checked),label:r.isPreventiveMaintenance,maxAccess:d})})]})})})})}var M=()=>{let{getRequest:e,postRequest:t}=(0,a.useContext)(i.$),{platformLabels:r}=(0,a.useContext)(u.l),{stack:P}=(0,o.zY)();async function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:s=50}=t;return{...await e({extension:h.m.WorkOrderTypes.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(s,"&_filter=")}),_startAt:r}}let{query:{data:q},labels:E,invalidate:W,paginationParameters:O,refetch:M,access:R}=(0,g.J)({queryFn:m,endpointId:h.m.WorkOrderTypes.page,datasetId:p.i.WorkOrderTypes}),S=[{field:"name",headerName:E.name,flex:1}],f=async e=>{await t({extension:h.m.WorkOrderTypes.del,record:JSON.stringify(e)}),W(),n.ZP.success(r.Deleted)};function k(e){P({Component:x,props:{labels:E,recordId:e,maxAccess:R},width:500,height:250,title:E.WorkOrderTypes})}return(0,s.jsxs)(c.R,{children:[(0,s.jsx)(y.g,{children:(0,s.jsx)(l.Z,{onAdd:()=>{k()},maxAccess:R})}),(0,s.jsx)(T.Q,{children:(0,s.jsx)(d.Z,{name:"table",columns:S,gridData:q,rowId:["recordId"],onEdit:e=>{k(null==e?void 0:e.recordId)},onDelete:f,pageSize:50,refetch:M,paginationParameters:O,paginationType:"api",maxAccess:R})})]})}},54736:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});let s="RS.asmx/",a={RepairName:{page:s+"pageRNA",qry:s+"qryRNA",get:s+"getRNA",set:s+"setRNA",del:s+"delRNA"},WorkOrderTypes:{page:s+"pageWOT",qry:s+"qryWOT",get:s+"getWOT",set:s+"setWOT",del:s+"delWOT"},RepairType:{page:s+"pageRT",get:s+"getRT",set:s+"setRT",del:s+"delRT"},SpareParts:{snapshot:s+"snapshotSP",page:s+"pageSP",get:s+"getSP",set:s+"setSP",del:s+"delSP"},InspectionTemplate:{get2:s+"get2ITE",page:s+"pageITE",set2:s+"set2ITE",del:s+"delITE"},Department:{page:s+"pageDEP",get:s+"getDEP",set:s+"setDEP",del:s+"delDEP"},Warehouse:{page:s+"pageWH",qry:s+"qryWH",set:s+"setWH",get:s+"getWH",del:s+"delWH"},PreventiveMaintenanceTasks:{qry:s+"qryPMT",page:s+"pagePMT",qry:s+"qryPMT",get:s+"getPMT",set:s+"setPMT",del:s+"delPMT"},Equipment:{qry:s+"qryEQP",page:s+"pageEQP",get:s+"getEQP",set:s+"setEQP",del:s+"delEQP",snapshot:s+"snapshotEQP"},SpManufacturer:{page:s+"pageSPM",get:s+"getSPM",set:s+"setSPM",del:s+"delSPM",qry:s+"qrySPM"},JobPosition:{page:s+"pagePOS",qry:s+"qryPOS",get:s+"getPOS",set:s+"setPOS",del:s+"delPOS"},SpCategory:{page:s+"pageSPC",get:s+"getSPC",set:s+"setSPC",del:s+"delSPC",qry:s+"qrySPC"},MaintenanceTemplates:{page:s+"pageMTE",get:s+"getMTE",set:s+"setMTE",del:s+"delMTE",qry:s+"qryMTE"},MaintenanceTemplateTask:{qry:s+"qryMTT",get:s+"getMTT",set:s+"setMTT",del:s+"delMTT"},RsLabors:{qry:s+"qryLBR",snapshot:s+"snapshotLBR",page:s+"pageLBR",set:s+"setLBR",get:s+"getLBR",del:s+"delLBR",qry:s+"qryLBR"},WorkOrder:{page:s+"qryWO",get:s+"getWO",set:s+"setWO",del:s+"delWO",post:s+"postWO"},WorkTask:{qry:s+"qryWTK",get:s+"getWTK",set:s+"setWTK",del:s+"delWTK"},EquipmentType:{qry:s+"qryEQT",get:s+"getEQT",set:s+"setEQT",del:s+"delEQT"},WorkOrderParts:{qry:s+"qryWOP",set2:s+"set2WOP"},WorkOrderLabors:{qry:s+"qryWOL",set2:s+"set2WOL"},RepairRequest:{page:s+"pageREQ",get:s+"getREQ",set:s+"setREQ",del:s+"delREQ"},Employee:{snapshot:s+"snapshotEMP"},RepairType:{qry:s+"qryRT"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=22301)}),_N_E=e.O()}]);