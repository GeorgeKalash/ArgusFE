(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56837],{83826:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forget-password",function(){return n(70903)}])},2127:function(e,t){"use strict";t.Z={src:"/_next/static/media/mail.ada9d66e.png",height:25,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEUiHSAkHR4hHR5MaXEkISQiHh8hHh8hHh4iHh4iHR8AAAAhHR8jHh64DWLrAAAADXRSTlMuHGYAEEjCf1yjAoo6RDSAqAAAAAlwSFlzAAAewQAAHsEBw2lUUwAAADRJREFUeJwty7cBwDAMxEDwGSV5/3ndEPUB3/AwwBw/J/NVYNJ8nUb0SCPjVmeqAg8W7/4DIsMA8YVZL5EAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},70903:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(52322),a=n(5088),s=n(2784),o=n(60418),i=n(23925),c=n(23654),d=n(98401),l=n(60218),u=n(48601),m=n(36055),h=n(19473),A=n(61802),p=n(34257),g=n(96026),Z=n(80983),f=n(62362),v=n(31389),w=n(62202),x=n(85325),C=n(2422),_=n(5632),j=e=>{var t;let{labels:i,username:c=""}=e,[d,m]=(0,s.useState)(0),{stack:h}=(0,g.V)(),A=(0,p.a)(),{encryptePWD:j}=(0,s.useContext)(x.V),R=(0,_.useRouter)(),{formik:P}=(0,Z.c)({validateOnChange:!0,initialValues:{username:c||(null==A?void 0:null===(t=A.user)||void 0===t?void 0:t.username),code:"",newPassword:"",confirmPassword:""},validationSchema:u.Ry({newPassword:u.Z_().required(),confirmPassword:u.Z_().required()}),onSubmit:async()=>{if(P.values.newPassword===P.values.confirmPassword){let t={userName:P.values.username,password:j(P.values.newPassword),code:P.values.code};var e=new FormData;e.append("record",JSON.stringify(t)),o.Z.post("".concat("https://identity.arguserp.net/","MA.asmx/resetPW"),e).then(e=>{w.ZP.success(i.passSuccess),R.push("/login")}).catch(e=>{h({message:e})})}else w.ZP.error(i.passNotMatching)}});return(0,r.jsx)(v.R,{children:(0,r.jsxs)(f.Q,{children:[(0,r.jsx)(l.ZP,{container:!0,spacing:2,sx:{px:"10px",pt:"10px"},children:(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(a.Z,{name:"code",size:"small",fullWidth:!0,label:i.code,value:P.values.code,onChange:P.handleChange,error:P.touched.code&&P.errors.code,startIcons:[(0,r.jsx)("img",{src:n(8440).Z.src,alt:"icon"},"forgot-icon")]})})}),(0,r.jsx)(C.Z,{formik:P,labels:i,score:d,setScore:m})]})})},R=n(48338),P=n.n(R),N=n(69627),S=n(7087),b=n.n(S);let M=()=>{let{platformLabels:e}=(0,s.useContext)(h.l),{stack:t}=(0,A.zY)(),m=(0,p.a)(),{stack:w}=(0,g.V)(),{formik:x}=(0,Z.c)({validateOnChange:!0,initialValues:{username:""},validationSchema:u.Ry({username:u.Z_().required()}),onSubmit:n=>{let r=new FormData;r.append("record",JSON.stringify(n)),o.Z.post("".concat("https://identity.arguserp.net/","MA.asmx/generateCode"),r).then(r=>{var a,s,i;let c={userName:n.username,code:r.data.recordId,resetUrl:"https://".concat(window.location.host,"/reset.js?email=").concat(encodeURIComponent(n.username),"&code=").concat(r.data.recordId)},d=new FormData;d.append("record",JSON.stringify(c)),o.Z.post("".concat("https://identity.arguserp.net/","MA.asmx/mailCode"),d,{headers:{AccountId:null==m?void 0:null===(i=m.getAC)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:null===(a=s.record)||void 0===a?void 0:a.accountId}}).then(()=>{t({Component:j,props:{labels:e,username:n.username},expandable:!1,closable:!1,draggable:!1,width:600,height:400,spacing:!1,title:e.resetPass})}).catch(e=>w({message:e.message||e}))}).catch(e=>w({message:e.message||e}))}});return(0,r.jsxs)(i.Z,{className:P().contentCenter,children:[(0,r.jsxs)(c.Z,{className:P().card,children:[(0,r.jsx)(i.Z,{className:P().cardHeader,children:e.resetPass}),(0,r.jsx)(d.Z,{className:P().cardContent,children:(0,r.jsx)(v.R,{children:(0,r.jsx)(f.Q,{children:(0,r.jsxs)(l.ZP,{container:!0,spacing:2,pt:1.5,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(a.Z,{name:"username",size:"small",fullWidth:!0,label:e.Username,value:x.values.username,type:"text",onChange:x.handleChange,onKeyDown:e=>{"Enter"===e.key&&x.handleSubmit()},error:x.touched.username&&!!x.errors.username,placeholder:e.enterUserName,InputLabelProps:{shrink:!0},startIcons:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{src:n(2127).Z.src,alt:"mail icon",class:b().iconImage},"icon")},"email-icon")],onClear:()=>x.setFieldValue("username","")})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,container:!0,justifyContent:"flex-end",className:P().contentButton,children:(0,r.jsx)(N.Z,{label:e.Reset,onClick:x.handleSubmit,color:"#231f20"})})]})})})})]}),(0,r.jsxs)(i.Z,{component:"footer",className:P().footer,children:["\xa9 ",new Date().getFullYear()," Argus. All rights reserved. 3.1.8 API: 2.8.8"]})]})};M.getLayout=e=>(0,r.jsx)(m.Z,{children:e}),M.guestGuard=!0;var y=M},23654:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7896),a=n(31461),s=n(2784),o=n(83214),i=n(69075),c=n(44781),d=n(75596),l=n(34758),u=n(69222),m=n(15672);function h(e){return(0,m.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var A=n(52322);let p=["className","raised"],g=e=>{let{classes:t}=e;return(0,i.Z)({root:["root"]},h,t)},Z=(0,c.ZP)(l.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"}));var f=s.forwardRef(function(e,t){let n=(0,d.i)({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=n,c=(0,a.Z)(n,p),l=(0,r.Z)({},n,{raised:i}),u=g(l);return(0,A.jsx)(Z,(0,r.Z)({className:(0,o.Z)(u.root,s),elevation:i?8:void 0,ref:t,ownerState:l},c))})},98401:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(7896),a=n(31461),s=n(2784),o=n(83214),i=n(69075),c=n(44781),d=n(75596),l=n(69222),u=n(15672);function m(e){return(0,u.ZP)("MuiCardContent",e)}(0,l.Z)("MuiCardContent",["root"]);var h=n(52322);let A=["className","component"],p=e=>{let{classes:t}=e;return(0,i.Z)({root:["root"]},m,t)},g=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}}));var Z=s.forwardRef(function(e,t){let n=(0,d.i)({props:e,name:"MuiCardContent"}),{className:s,component:i="div"}=n,c=(0,a.Z)(n,A),l=(0,r.Z)({},n,{component:i}),u=p(l);return(0,h.jsx)(g,(0,r.Z)({as:i,className:(0,o.Z)(u.root,s),ownerState:l,ref:t},c))})},48338:function(e){e.exports={contentCenter:"Reset_contentCenter__tsANA",card:"Reset_card__JLOOA",cardHeader:"Reset_cardHeader__sC8Ds",contentButton:"Reset_contentButton__p8yjl",footer:"Reset_footer__qIY5A",cardContent:"Reset_cardContent__Z_okr",imageMail:"Reset_imageMail__bBkxk"}}},function(e){e.O(0,[41697,49774,92888,40179],function(){return e(e.s=83826)}),_N_E=e.O()}]);