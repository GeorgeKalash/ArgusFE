(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99449],{71164:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr-sponsors",function(){return s(41778)}])},41778:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return P}});var t=s(52322),r=s(2784),l=s(62202),n=s(69387),i=s(27723),o=s(65950),d=s(71987),g=s(26612),c=s(31389),p=s(33625),m=s(62362),u=s(61802),h=s(19473),x=s(60218),y=s(48601),f=s(82737),C=s(5088),S=s(19689),E=s(80983),R=s(92407);function q(e){var a;let{labels:s,maxAccess:n,recordId:i}=e,{getRequest:p,postRequest:u}=(0,r.useContext)(o.$),{platformLabels:q}=(0,r.useContext)(h.l),P=(0,d.E)({endpointId:R.y.SponsorFilters.page}),v=y.Ry({name:y.Z_().required(),address:y.Z_().required(),mobile:y.Rx().integer().positive().min(1e7).max(99999999).nullable().transform((e,a)=>""===a?null:e),phone:y.Z_().max(8).nullable(),isSupplier:y.O7(),email:y.Z_().email().required()}),{formik:T}=(0,E.c)({initialValues:{name:"",idRef:"",rtwRef:"",address:"",city:"",mobile:"",phone:"",email:"",fax:"",isSupplier:!1},maxAccess:n,validateOnChange:!0,validationSchema:v,onSubmit:async e=>{let a=await u({extension:R.y.SponsorFilters.set,record:JSON.stringify(e)});l.ZP.success(e.recordId?q.Edited:q.Added),e.recordId||T.setFieldValue("recordId",a.recordId),P()}}),Z=!!(null==T?void 0:null===(a=T.values)||void 0===a?void 0:a.recordId);return(0,r.useEffect)(()=>{i&&async function(){let e=await p({extension:R.y.SponsorFilters.get,parameters:"_recordId=".concat(i)});T.setValues(null==e?void 0:e.record)}()},[]),(0,t.jsx)(f.Z,{resourceId:g.i.SponsorFilter,form:T,maxAccess:n,editMode:Z,children:(0,t.jsx)(c.R,{children:(0,t.jsx)(m.Q,{children:(0,t.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{name:"name",label:s.name,value:T.values.name,required:!0,maxAccess:n,maxLength:"70",onChange:T.handleChange,onClear:()=>T.setFieldValue("name",""),error:T.touched.name&&!!T.errors.name})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{name:"idRef",label:s.ref,value:T.values.idRef,maxAccess:n,maxLength:"20",onChange:T.handleChange,onClear:()=>T.setFieldValue("idRef",""),error:T.touched.idRef&&!!T.errors.idRef})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{name:"rtwRef",label:s.rightt,value:T.values.rtwRef,maxAccess:n,maxLength:"20",onChange:T.handleChange,onClear:()=>T.setFieldValue("rtwRef",""),error:T.touched.rtwRef&&!!T.errors.rtwRef})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{name:"address",label:s.address,value:T.values.address,required:!0,maxAccess:n,maxLength:"50",onChange:T.handleChange,onClear:()=>T.setFieldValue("address",""),error:T.touched.address&&!!T.errors.address})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{name:"city",label:s.city,value:T.values.city,maxAccess:n,maxLength:"50",onChange:T.handleChange,onClear:()=>T.setFieldValue("city",""),error:T.touched.city&&!!T.errors.city})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{name:"mobile",label:s.mobile,value:T.values.mobile,maxLength:"8",phone:!0,onChange:T.handleChange,onClear:()=>T.setFieldValue("mobile",""),error:T.touched.mobile&&!!T.errors.mobile,maxAccess:n})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{name:"phone",label:s.phone,value:T.values.phone,maxLength:"8",phone:!0,onChange:T.handleChange,onClear:()=>T.setFieldValue("phone",""),error:T.touched.phone&&!!T.errors.phone,maxAccess:n})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{name:"email",label:s.email,value:T.values.email,type:"email",onChange:T.handleChange,onClear:()=>T.setFieldValue("email",""),error:T.touched.email&&!!T.errors.email})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{name:"fax",label:s.fax,value:T.values.fax,maxAccess:n,maxLength:"50",onChange:T.handleChange,onClear:()=>T.setFieldValue("fax",""),error:T.touched.fax&&!!T.errors.fax})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(S.Z,{name:"isSupplier",label:s.supplier,value:T.values.isSupplier,onChange:e=>T.setFieldValue("isSupplier",e.target.checked),maxAccess:n})})]})})})})}var P=()=>{let{getRequest:e,postRequest:a}=(0,r.useContext)(o.$),{platformLabels:s}=(0,r.useContext)(h.l),{stack:x}=(0,u.zY)();async function y(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:t=50}=a;return{...await e({extension:R.y.SponsorFilters.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(t,"&_filter=")}),_startAt:s}}let{query:{data:f},labels:C,paginationParameters:S,refetch:E,invalidate:P,access:v}=(0,d.J)({queryFn:y,endpointId:R.y.SponsorFilters.page,datasetId:g.i.SponsorFilter}),T=[{field:"name",headerName:C.name,flex:1},{field:"address",headerName:C.address,flex:1},{field:"city",headerName:C.city,flex:1},{field:"phone",headerName:C.phone,flex:1},{field:"mobile",headerName:C.mobile,flex:1},{field:"fax",headerName:C.fax,flex:1},{field:"email",headerName:C.email,flex:1}];function Z(e){x({Component:q,props:{labels:C,recordId:e,maxAccess:v},width:600,height:600,title:C.sponsor})}let j=async e=>{await a({extension:R.y.SponsorFilters.del,record:JSON.stringify(e)}),l.ZP.success(s.Deleted),P()};return(0,t.jsxs)(c.R,{children:[(0,t.jsx)(p.g,{children:(0,t.jsx)(i.Z,{onAdd:()=>Z(),maxAccess:v})}),(0,t.jsx)(m.Q,{children:(0,t.jsx)(n.Z,{columns:T,gridData:f,rowId:["recordId"],onEdit:e=>Z(null==e?void 0:e.recordId),onDelete:j,pageSize:50,paginationType:"api",paginationParameters:S,refetch:E,maxAccess:v})})]})}},92407:function(e,a,s){"use strict";s.d(a,{y:function(){return r}});let t="EP.asmx/",r={Employee:{snapshot:t+"snapshotEM",get1:t+"getEM1",set:t+"setEM",del:t+"delEM"},CertificateFilters:{qry:t+"qryCL",get:t+"getCL",set:t+"setCL",del:t+"delCL",page:t+"pageCL"},HRDocTypeFilters:{qry:t+"qryDT"},SalaryChangeReason:{qry:t+"qrySC",get:t+"getSC",set:t+"setSC",del:t+"delSC",page:t+"pageSC"},EmploymentStatusFilters:{qry:t+"qryST",page:t+"pageST",set:t+"setST",get:t+"getST",del:t+"delST"},SponsorFilters:{qry:t+"qrySP",page:t+"pageSP",set:t+"setSP",get:t+"getSP",del:t+"delSP"},RelationshipTypes:{page:t+"pageRT",set:t+"setRT",get:t+"getRT",del:t+"delRT"},BonusTypes:{get:t+"getBT",set:t+"setBT",page:t+"pageBT",del:t+"delBT"},BgCheck:{page:t+"pageCT",set:t+"setCT",get:t+"getCT",del:t+"delCT"},NoticePeriods:{get:t+"getNP",set:t+"setNP",del:t+"delNP",qry:t+"qryNP",page:t+"pageNP"},CustomProperties:{get:t+"getUP",set:t+"setUP",del:t+"delUP",page:t+"pageUP",qry:t+"qryUP"},ResignationRequest:{get:t+"getRR",set:t+"setRR",del:t+"delRR",page:t+"pageRR",close:t+"closeRR",reopen:t+"reopenRR"},TerminationReasons:{qry:t+"qryTR",get:t+"getTR",set:t+"setTR",del:t+"delTR",page:t+"pageTR"},JobInfo:{snapshot:t+"snapshotJI",page:t+"pageJI",close:t+"closeJI",reopen:t+"reopenJI",get:t+"getJI",set:t+"setJI",del:t+"delJI",qry:t+"qryJI"},QuickView:{get:t+"getQV"},EmployeePenalty:{page:t+"pagePE",close:t+"closePE",reopen:t+"reopenPE",get:t+"getPE",set:t+"setPE",del:t+"delPE"},EmployeeDeduction:{qry:t+"qryED",page:t+"pageED",del:t+"delED",get:t+"getED",set:t+"setED",snapshot:t+"snapshotED"},FullName:{sync:t+"syncFullName"},EmployeeChart:{page:t+"pageES",qry:t+"qryES",qry2:t+"qryES2"},EmployeeSalary:{qry:t+"qrySA",get:t+"getSA",set:t+"setSA",del:t+"delSA"},SalaryDetails:{qry:t+"qrySD",get:t+"getSD",set2:t+"set2SD",del:t+"delSD"},TerminationEmployee:{get:t+"getTE"},EmployementHistory:{qry:t+"qryEH",del:t+"delEH",get:t+"getEH",set:t+"setEH"},Hiring:{get:t+"getRE",set:t+"setRE"},Skills:{qry:t+"qryCE",del:t+"delCE",get:t+"getCE",set:t+"setCE"},UserDefined:{qry:t+"qryUV",set2:t+"set2UV"},Leaves:{set:t+"setLS",del:t+"delLS",get:t+"getLS"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=71164)}),_N_E=e.O()}]);