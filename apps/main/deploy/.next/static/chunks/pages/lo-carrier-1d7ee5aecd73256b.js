(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27945],{25575:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lo-carrier",function(){return t(66459)}])},66459:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return O}});var a=t(52322),s=t(2784),n=t(62202),l=t(69387),d=t(27723),c=t(65950),o=t(51264),i=t(71987),u=t(26612),g=t(31389),p=t(33625),h=t(62362),y=t(61802),m=t(60218),R=t(48601),f=t(82737),I=t(5088),C=t(8661),x=t(65215),A=t(84100),L=t(2119),q=t(27423),N=t(253),v=t(80983),P=t(19473);function S(e){let{labels:r,maxAccess:t,recordId:l}=e,{getRequest:d,postRequest:p}=(0,s.useContext)(c.$),{platformLabels:y}=(0,s.useContext)(P.l),S=(0,i.E)({endpointId:o.p.LoCarrier.page}),{formik:O}=(0,v.c)({initialValues:{recordId:null,reference:"",name:"",type:null,siteId:null,bpId:null,bpName:null,bpRef:null,cashAccountId:null,cashAccountRef:"",cashAccountName:""},maxAccess:t,validateOnChange:!0,validationSchema:R.Ry({reference:R.Z_().required(),name:R.Z_().required(),type:R.Z_().required()}),onSubmit:async e=>{let r=await p({extension:o.p.LoCarrier.set,record:JSON.stringify(e)});e.recordId||O.setValues({...e,recordId:r.recordId}),n.ZP.success(e.recordId?y.Edited:y.Added),S()}});return(0,s.useEffect)(()=>{!async function(){if(l){let e=await d({extension:o.p.LoCarrier.get,parameters:"_recordId=".concat(l)});O.setValues(e.record)}}()},[]),(0,a.jsx)(f.Z,{resourceId:u.i.LoCarriers,form:O,height:300,maxAccess:t,editMode:!!l,children:(0,a.jsx)(g.R,{children:(0,a.jsx)(h.Q,{children:(0,a.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(m.ZP,{item:!0,xs:12,children:(0,a.jsx)(I.Z,{name:"reference",label:r.reference,value:O.values.reference,required:!0,maxAccess:t,maxLength:"10",onChange:O.handleChange,onClear:()=>O.setFieldValue("reference",""),error:O.touched.reference&&!!O.errors.reference})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,children:(0,a.jsx)(I.Z,{name:"name",label:r.name,value:O.values.name,required:!0,maxAccess:t,maxLength:"30",onChange:O.handleChange,onClear:()=>O.setFieldValue("name",""),error:O.touched.name&&!!O.errors.name})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,children:(0,a.jsx)(C.Z,{datasetId:A.v.LO_TYPE,name:"type",label:r.type,valueField:"key",required:!0,displayField:"value",values:O.values,onChange:(e,r)=>{r?O.setFieldValue("type",null==r?void 0:r.key):O.setFieldValue("type","")},error:O.touched.type&&!!O.errors.type})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,children:(0,a.jsx)(C.Z,{endpointId:x.$.Site.qry,name:"siteId",label:r.site,values:O.values,displayField:"name",maxAccess:t,onChange:(e,r)=>{O.setFieldValue("siteId",null==r?void 0:r.recordId)},error:O.touched.siteId&&!!O.errors.siteId})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,children:(0,a.jsx)(q.U,{endpointId:N.F.MasterData.snapshot,name:"bpRef",label:r.businessPartner,valueField:"reference",displayField:"name",valueShow:"bpRef",secondValueShow:"bpName",form:O,onChange:(e,r)=>{O.setValues({...O.values,bpId:(null==r?void 0:r.recordId)||"",bpRef:(null==r?void 0:r.reference)||"",bpName:(null==r?void 0:r.name)||""})},errorCheck:"bpId",maxAccess:t})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,children:(0,a.jsx)(q.U,{endpointId:L.G.CashAccount.snapshot,parameters:{_type:2},valueField:"recordId",displayField:"reference",name:"cashAccountRef",label:r.cashAccount,secondDisplayField:!0,form:O,firstValue:O.values.cashAccountRef,secondValue:O.values.cashAccountName,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],onChange:(e,r)=>{r?(O.setFieldValue("cashAccountId",null==r?void 0:r.recordId),O.setFieldValue("cashAccountRef",null==r?void 0:r.reference),O.setFieldValue("cashAccountName",null==r?void 0:r.name)):(O.setFieldValue("cashAccountId",null),O.setFieldValue("cashAccountRef",null),O.setFieldValue("cashAccountName",null))},errorCheck:"cashAccountId",maxAccess:t,error:O.touched.cashAccountId&&!!O.errors.cashAccountId})})]})})})})}var O=()=>{let{getRequest:e,postRequest:r}=(0,s.useContext)(c.$);async function t(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:a=50}=r;return{...await e({extension:o.p.LoCarrier.page,parameters:"_startAt=".concat(t,"&_pageSize=").concat(a,"&filter=")}),_startAt:t}}let{stack:m}=(0,y.zY)(),{query:{data:R},labels:f,access:I,paginationParameters:C,refetch:x}=(0,i.J)({queryFn:t,endpointId:o.p.LoCarrier.page,datasetId:u.i.LoCarriers}),A=(0,i.E)({endpointId:o.p.LoCarrier.page}),L=[{field:"reference",headerName:f.reference,flex:1},{field:"name",headerName:f.name,flex:1}];function q(e){m({Component:S,props:{labels:f,recordId:e,maxAccess:I},title:f.carrier})}let N=async e=>{await r({extension:o.p.LoCarrier.del,record:JSON.stringify(e)}),A(),n.ZP.success("Record Deleted Successfully")};return(0,a.jsxs)(g.R,{children:[(0,a.jsx)(p.g,{children:(0,a.jsx)(d.Z,{onAdd:()=>{q()},maxAccess:I})}),(0,a.jsx)(h.Q,{children:(0,a.jsx)(l.Z,{columns:L,gridData:R,rowId:["recordId"],onEdit:e=>{q(null==e?void 0:e.recordId)},onDelete:N,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:C,refetch:x,maxAccess:I})})]})}},253:function(e,r,t){"use strict";t.d(r,{F:function(){return s}});let a="BP.asmx/",s={LegalStatus:{qry:a+"qryLGS",page:a+"pageLGS",get:a+"getLGS",set:a+"setLGS",del:a+"delLGS"},GroupLegalDocument:{qry:a+"qryGIN",page:a+"pageGIN",get:a+"getGIN",set:a+"setGIN",del:a+"delGIN"},CategoryID:{qry:a+"qryINC",get:a+"getINC",page:a+"pageINC",set:a+"setINC",del:a+"delINC"},Group:{qry:a+"qryGRP",get:a+"getGRP",set:a+"setGRP",del:a+"delGRP"},MasterData:{qry:a+"qryMAS",qry2:a+"qryMAS2",get:a+"getMAS",set:a+"setMAS",del:a+"delMAS",snapshot:a+"snapshotMAS"},RelationTypes:{qry:a+"qryRLT",page:a+"pageRLT",get:a+"getRLT",set:a+"setRLT",del:a+"delRLT"},Groups:{qry:a+"qryGRP",page:a+"pageGRP",get:a+"getGRP",set:a+"setGRP",del:a+"delGRP"},MasterIDNum:{qry:a+"qryMIN",page:a+"pageMIN",get:a+"getMIN",set:a+"setMIN",del:a+"delMIN"},Relation:{qry:a+"qryREL",page:a+"pageREL",get:a+"getREL",set:a+"setREL",del:a+"delREL"},BPAddress:{qry:a+"qryADD",page:a+"pageADD",get:a+"getADD",set:a+"setADD",del:a+"delADD"},RoleCategory:{qry:a+"qryROC",get:a+"getROC",page:a+"pageROC",set:a+"setROC",del:a+"delROC"},Role:{qry:a+"qryROL",page:a+"pageROL",get:a+"getROL",set:a+"setROL",del:a+"delROL"},MasterDataRole:{qry:a+"qryMRO",del:a+"delMRO",get:a+"getMRO",set:a+"setMRO"},MasterSales:{get:a+"getSAL",set:a+"setSAL"},MasterPurchase:{get:a+"getPUR",set:a+"setPUR"},Bank:{qry:a+"qryBNK",get:a+"getBNK",set:a+"setBNK",del:a+"delBNK"}}},51264:function(e,r,t){"use strict";t.d(r,{p:function(){return s}});let a="LO.asmx/",s={LoCollector:{qry:a+"qryCOL",get:a+"getCOL",set:a+"setCOL",page:a+"pageCOL",del:a+"delCOL"},LoCarrier:{qry:a+"qryCAR",get:a+"getCAR",set:a+"setCAR",page:a+"pageCAR",del:a+"delCAR"},Shipment:{get2:a+"get2SHP",set2:a+"set2SHP"},Transportation:{get:a+"getTPT",set:a+"setTPT"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=25575)}),_N_E=e.O()}]);