(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66136],{65915:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/iv-item-sizes",function(){return r(533)}])},533:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return z}});var t=r(52322),a=r(2784),s=r(62202),i=r(69387),c=r(27723),d=r(65950),o=r(71987),l=r(26612),u=r(31389),m=r(33625),f=r(62362),x=r(61802),h=r(19473),I=r(65215),g=r(60218),p=r(48601),_=r(82737),S=r(5088),C=r(80983);function j(e){let{labels:n,maxAccess:r,recordId:i}=e,{getRequest:c,postRequest:m}=(0,a.useContext)(d.$),{platformLabels:x}=(0,a.useContext)(h.l),j=(0,o.E)({endpointId:I.$.ItemSizes.page}),{formik:z}=(0,C.c)({initialValues:{recordId:null,reference:"",name:""},maxAccess:r,validateOnChange:!0,validationSchema:p.Ry({reference:p.Z_().required(),name:p.Z_().required()}),onSubmit:async e=>{let n=await m({extension:I.$.ItemSizes.set,record:JSON.stringify(e)});e.recordId||z.setFieldValue("recordId",n.recordId),s.ZP.success(e.recordId?x.Edited:x.Added),j()}}),v=!!z.values.recordId;return(0,a.useEffect)(()=>{!async function(){if(i){let e=await c({extension:I.$.ItemSizes.get,parameters:"_recordId=".concat(i)});z.setValues(e.record)}}()},[]),(0,t.jsx)(_.Z,{resourceId:l.i.ItemSizes,form:z,maxAccess:r,editMode:v,children:(0,t.jsx)(u.R,{children:(0,t.jsx)(f.Q,{children:(0,t.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(g.ZP,{item:!0,xs:12,children:(0,t.jsx)(S.Z,{name:"reference",label:n.reference,value:z.values.reference,required:!0,maxAccess:r,onChange:z.handleChange,onClear:()=>z.setFieldValue("reference",""),error:z.touched.reference&&!!z.errors.reference})}),(0,t.jsx)(g.ZP,{item:!0,xs:12,children:(0,t.jsx)(S.Z,{name:"name",label:n.name,value:z.values.name,required:!0,maxAccess:r,onChange:z.handleChange,onClear:()=>z.setFieldValue("name",""),error:z.touched.name&&!!z.errors.name})})]})})})})}var z=()=>{let{getRequest:e,postRequest:n}=(0,a.useContext)(d.$),{platformLabels:r}=(0,a.useContext)(h.l),{stack:g}=(0,x.zY)();async function p(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:t=50}=n;return{...await e({extension:I.$.ItemSizes.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(t,"&filter=")}),_startAt:r}}let{query:{data:_},labels:S,paginationParameters:C,refetch:z,access:v,invalidate:w}=(0,o.J)({queryFn:p,endpointId:I.$.ItemSizes.page,datasetId:l.i.ItemSizes}),Z=[{field:"reference",headerName:S.reference,flex:1},{field:"name",headerName:S.name,flex:1}];function y(e){g({Component:j,props:{labels:S,recordId:e,maxAccess:v},width:500,height:250,title:S.ItemSizes})}let A=async e=>{await n({extension:I.$.ItemSizes.del,record:JSON.stringify(e)}),w(),s.ZP.success(r.Deleted)};return(0,t.jsxs)(u.R,{children:[(0,t.jsx)(m.g,{children:(0,t.jsx)(c.Z,{onAdd:()=>{y()},maxAccess:v})}),(0,t.jsx)(f.Q,{children:(0,t.jsx)(i.Z,{columns:Z,gridData:_,rowId:["recordId"],onEdit:e=>{y(null==e?void 0:e.recordId)},onDelete:A,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:C,refetch:z,maxAccess:v})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=65915)}),_N_E=e.O()}]);