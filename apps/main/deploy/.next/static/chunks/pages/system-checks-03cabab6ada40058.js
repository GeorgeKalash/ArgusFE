(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28424],{61037:function(e,c,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/system-checks",function(){return s(35821)}])},35821:function(e,c,s){"use strict";s.r(c),s.d(c,{default:function(){return _}});var t=s(52322),n=s(2784),a=s(62202),l=s(60218),i=s(69387),r=s(65950),d=s(26612),o=s(38449),h=s(84100),u=s(80968),k=s(71987),m=s(31389),f=s(33625),x=s(62362),v=s(19473),C=s(5088),w=s(54074),_=()=>{var e;let{getRequest:c,postRequest:s}=(0,n.useContext)(r.$),{getAllKvsByDataset:_}=(0,n.useContext)(u.k),{platformLabels:y}=(0,n.useContext)(v.l),[S,N]=(0,n.useState)("");async function p(){return new Promise((e,c)=>{_({_dataset:h.v.SYSTEM_CHECKS,callback:s=>{s?e(s):c()}})})}let{query:{data:I},labels:g,access:j}=(0,k.J)({queryFn:E,endpointId:o.r.SystemChecks.qry,datasetId:d.i.SystemChecks});async function E(){let e=await p(),s=await c({extension:o.r.SystemChecks.qry,parameters:"_scope=1"});return{list:e.map(e=>{let c={checkId:e.key,checkName:e.value,checked:!1,value:!1},t=s.list.find(e=>c.checkId==e.checkId);return t&&(c.checked=!0),t&&(c.value=!0),c})}}let b=[{field:"checkId",headerName:g.checkId,flex:1},{field:"checkName",headerName:g.checkName,flex:1}],P=S?null==I?void 0:null===(e=I.list)||void 0===e?void 0:e.filter(e=>e.checkId.toString().includes(S.toLowerCase())||e.checkName&&e.checkName.toLowerCase().includes(S.toLowerCase())):null==I?void 0:I.list,Z=async()=>{let e=I.list.filter(e=>e.checked);e.forEach(e=>{e.scope=1,e.masterId=0,e.value=!0}),await s({extension:o.r.SystemChecks.set,record:JSON.stringify({scope:1,masterId:0,items:e})}).then(()=>{a.ZP.success(y.Updated)})};return(0,t.jsx)(w.Z,{onSave:()=>{Z()},maxAccess:j,fullSize:!0,children:(0,t.jsxs)(m.R,{children:[(0,t.jsx)(f.g,{children:(0,t.jsx)(l.ZP,{container:!0,xs:12,m:1,children:(0,t.jsx)(l.ZP,{item:!0,xs:3,children:(0,t.jsx)(C.Z,{name:"search",value:S,label:y.Search,onClear:()=>{N("")},onChange:e=>{var c,s;N(null!==(s=null==e?void 0:null===(c=e.target)||void 0===c?void 0:c.value)&&void 0!==s?s:"")},onSearch:e=>N(e),search:!0,height:35})})})}),(0,t.jsx)(x.Q,{children:(0,t.jsx)(i.Z,{columns:b,gridData:{list:P},rowId:["checkId"],isLoading:!1,maxAccess:j,showCheckboxColumn:!0,handleCheckedRows:()=>{},pagination:!1})})]})})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=61037)}),_N_E=e.O()}]);