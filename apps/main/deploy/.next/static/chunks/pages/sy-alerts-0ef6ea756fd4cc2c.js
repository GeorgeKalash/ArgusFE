(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7402],{99916:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sy-alerts",function(){return a(69386)}])},69386:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var n=a(52322),s=a(2784),l=a(62202),r=a(65950),i=a(38449),o=a(71987),u=a(26612),c=a(80983),d=a(31389),m=a(62362),w=a(76399),p=a(19473),y=a(48601),f=a(54074),v=()=>{var e,t;let{getRequest:a,postRequest:v}=(0,s.useContext)(r.$),{platformLabels:x}=(0,s.useContext)(p.l),S=async()=>{let e=await a({extension:i.r.SystemAlerts.qry,parameters:"_filter="});b.setValues({rows:e.list.map((e,t)=>{let{activeStatus:a,...n}=e;return{id:t+1,activeStatus:1==a,...n}})})},{labels:h,access:_}=(0,o.J)({endpointId:i.r.SystemAlerts.qry,queryFn:S,datasetId:u.i.SystemAlerts}),{formik:b}=(0,c.c)({maxAccess:_,validateOnChange:!0,initialValues:{rows:[{id:1,alertId:null,days:null,name:"",activeStatus:!1}]},validationSchema:y.Ry().shape({rows:y.IX().of(y.Ry().shape({days:y.Rx().required().max(32767)}))}),onSubmit:async e=>{let t=e.rows.map(e=>{let{id:t,name:a,activeStatus:n,...s}=e;return{activeStatus:n?1:-1,...s}});await v({extension:i.r.SystemAlerts.arr,record:JSON.stringify(t)}),l.ZP.success(x.Updated)}}),A=[{component:"checkbox",name:"activeStatus",label:h.active,flex:.1},{component:"textfield",label:h.name,name:"name",props:{readOnly:!0}},{component:"numberfield",label:h.days,name:"days",props:{decimalScale:0,allowNegative:!1},flex:.2}];return(0,n.jsx)(f.Z,{onSave:b.handleSubmit,maxAccess:_,fullSize:!0,children:(0,n.jsx)(d.R,{children:(0,n.jsx)(m.Q,{children:(0,n.jsx)(w._,{name:"rows",onChange:e=>{b.setFieldValue("rows",e)},value:null===(e=b.values)||void 0===e?void 0:e.rows,error:null===(t=b.errors)||void 0===t?void 0:t.rows,columns:A,allowDelete:!1,allowAddNewLine:!1,maxAccess:_})})})})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=99916)}),_N_E=e.O()}]);