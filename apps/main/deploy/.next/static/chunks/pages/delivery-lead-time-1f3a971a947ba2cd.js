(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48065],{86009:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/delivery-lead-time",function(){return a(96584)}])},96584:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return N}});var t=a(52322),r=a(2784),n=a(62202),l=a(69387),d=a(27723),i=a(65950),o=a(71987),c=a(26612),u=a(31389),p=a(33625),m=a(62362),g=a(61802),T=a(19473),I=a(30043),y=a(60218),R=a(48601),h=a(82737),D=a(80983),v=a(8661),x=a(22341),f=a(91406),P=a(38449);function O(e){let{labels:s,maxAccess:a,recordId:l}=e,{getRequest:d,postRequest:p}=(0,r.useContext)(i.$),{platformLabels:g}=(0,r.useContext)(T.l),O=(0,o.E)({endpointId:I.U.DeliveryLeadTime.page}),{formik:N}=(0,D.c)({initialValues:{recordId:l,szId:null,leadTimeInDays:null,smsTemplateId:null},maxAccess:a,validateOnChange:!0,validationSchema:R.Ry({szId:R.Rx().required(),leadTimeInDays:R.Rx().required().min(1).max(99)}),onSubmit:async e=>{await p({extension:I.U.DeliveryLeadTime.set,record:JSON.stringify(e)}),N.values.recordId?n.ZP.success(g.Edited):(N.setFieldValue("recordId",N.values.szId),n.ZP.success(g.Added)),O()}}),q=!!N.values.recordId;return(0,r.useEffect)(()=>{!async function(){if(l){let e=await d({extension:I.U.DeliveryLeadTime.get,parameters:"_szId=".concat(l)});N.setValues({...e.record,recordId:l})}}()},[]),(0,t.jsx)(h.Z,{resourceId:c.i.DeliveryLeadTimes,form:N,maxAccess:a,editMode:q,children:(0,t.jsx)(u.R,{children:(0,t.jsx)(m.Q,{children:(0,t.jsxs)(y.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(y.ZP,{item:!0,xs:12,children:(0,t.jsx)(v.Z,{endpointId:x.P.SalesZone.qry,parameters:'_startAt=0&_pageSize=1000&_sortField="recordId"&_filter=',name:"szId",label:s.saleZone,readOnly:q,valueField:"recordId",displayField:"name",values:N.values,maxAccess:a,onChange:(e,s)=>{N.setFieldValue("szId",null==s?void 0:s.recordId)},error:N.touched.szId&&!!N.errors.szId})}),(0,t.jsx)(y.ZP,{item:!0,xs:12,children:(0,t.jsx)(f.Z,{name:"leadTimeInDays",label:s.leadTimeInDays,value:N.values.leadTimeInDays,onChange:N.handleChange,onClear:()=>N.setFieldValue("leadTimeInDays",""),required:!0,maxLength:"2",decimalScale:0,allowNegative:!1,error:N.touched.leadTimeInDays&&!!N.errors.leadTimeInDays})}),(0,t.jsx)(y.ZP,{item:!0,xs:12,children:(0,t.jsx)(v.Z,{endpointId:P.r.SMSTemplate.qry,name:"smsTemplateId",label:s.smsTemplate,displayField:"name",valueField:"recordId",values:N.values,onChange:(e,s)=>{N.setFieldValue("smsTemplateId",null==s?void 0:s.recordId)},maxAccess:a,error:N.touched.smsTemplateId&&!!N.errors.smsTemplateId})})]})})})})}var N=()=>{let{getRequest:e,postRequest:s}=(0,r.useContext)(i.$),{platformLabels:a}=(0,r.useContext)(T.l),{stack:y}=(0,g.zY)();async function R(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:t=50}=s;return{...await e({extension:I.U.DeliveryLeadTime.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(t,"&filter=")}),_startAt:a}}let{query:{data:h},labels:D,paginationParameters:v,refetch:x,access:f,invalidate:P}=(0,o.J)({queryFn:R,endpointId:I.U.DeliveryLeadTime.page,datasetId:c.i.DeliveryLeadTimes}),N=[{field:"szRef",headerName:D.saleZoneRef,flex:1},{field:"szName",headerName:D.saleZoneName,flex:1},{field:"leadTimeInDays",headerName:D.leadTimeInDays,flex:1},{field:"smsTemplateName",headerName:D.smsTemplateName,flex:1}];function q(e){y({Component:O,props:{labels:D,recordId:e,maxAccess:f},width:600,height:500,title:D.LeadTime})}let V=async e=>{await s({extension:I.U.DeliveryLeadTime.del,record:JSON.stringify(e)}),P(),n.ZP.success(a.Deleted)};return(0,t.jsxs)(u.R,{children:[(0,t.jsx)(p.g,{children:(0,t.jsx)(d.Z,{onAdd:()=>{q()},maxAccess:f})}),(0,t.jsx)(m.Q,{children:(0,t.jsx)(l.Z,{columns:N,gridData:h,rowId:["recordId"],onEdit:e=>{q(null==e?void 0:e.szId)},onDelete:V,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:v,refetch:x,maxAccess:f})})]})}},30043:function(e,s,a){"use strict";a.d(s,{U:function(){return r}});let t="DE.asmx/",r={Driver:{snapshot:t+"snapshotDRV",page:t+"pageDRV",set:t+"setDRV",get:t+"getDRV",qry:t+"qryDRV",del:t+"delDRV"},Vehicle:{page:t+"pageVEH",set:t+"setVEH",get:t+"getVEH",qry:t+"qryVEH",del:t+"delVEH"},Trip:{page:t+"pageTRP",set:t+"setTRP",get:t+"getTRP",qry:t+"qryTRP",del:t+"delTRP",snapshot:t+"snapshotTRP",snapshot2:t+"snapshot2TRP",reopen:t+"reopenTRP",post:t+"postTRP",unpost:t+"unpostTRP",close:t+"closeTRP",generate:t+"generateTRP",setTRP2:t+"setTRP2",assign:t+"assignTRP",unassign:t+"unassignedTRP"},TripOrderPack2:{set2:t+"set2TRO"},TripOrder:{qry:t+"qryTRO"},Reduild:{rebuild:t+"rebuildMW"},TRP:{flag:t+"flagTRP"},ExpenseTypes:{get:t+"getET",set:t+"setET",del:t+"delET",page:t+"pageET"},DeliveriesOrders:{qry:t+"qryORD",get:t+"getORD",snapshot:t+"snapshotORD",unpost:t+"unpostORD",gen:t+"genORD",post:t+"postORD",del:t+"delORD",cancel:t+"cancelORD",flag:t+"flagORD",set2:t+"set2ORD"},Invoice:{generate:t+"generateIVC2",generateInv:t+"generateIVC",preview:t+"previewIVC"},OrderItem:{qry:t+"qryORI",get:t+"getORI"},MW:{qry:t+"qryMW2"},GenerateTrip:{root:t+"rootSZ",firstLevel:t+"firstLevelSZ",undelivered2:t+"undeliveredSO2",previewTRP:t+"previewTRP"},DeliveryLeadTime:{get:t+"getLDT",page:t+"pageLDT",set:t+"setLDT",del:t+"delLDT"},Volume:{vol:t+"volZO"},AllocatedVolume:{qry:t+"qryVEH2"},InboundTransp:{pack:t+"getPackINB",page:t+"pageINB",set2:t+"set2INB",get:t+"getINB",get2:t+"get2INB",del:t+"delINB",snapshot:t+"snapshotINB",post:t+"postINB",unpost:t+"unpostINB"},InboundOrders:{qry:t+"qryINO"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=86009)}),_N_E=e.O()}]);