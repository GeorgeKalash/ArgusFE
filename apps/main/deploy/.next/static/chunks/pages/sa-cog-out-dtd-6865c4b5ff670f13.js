(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53889],{60746:function(e,t,d){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sa-cog-out-dtd",function(){return d(64269)}])},64269:function(e,t,d){"use strict";d.r(t),d.d(t,{default:function(){return k}});var n=d(52322),c=d(2784),a=d(62202),s=d(69387),o=d(27723),r=d(65950),l=d(61802),i=d(71987),u=d(26612),m=d(31389),f=d(33625),p=d(62362),x=d(19473),h=d(22341),y=d(60218),I=d(48601),v=d(82737),D=d(80983),_=d(38449),g=d(8661),b=d(19689);function j(e){var t,d;let{labels:s,maxAccess:o,recordId:l}=e,{platformLabels:f}=(0,c.useContext)(x.l),{getRequest:j,postRequest:k}=(0,c.useContext)(r.$),P=(0,i.E)({endpointId:h.P.DocumentTypeDefault.qry}),{formik:T}=(0,D.c)({initialValues:{recordId:l||null,commitItems:!1,dtId:"",disableSKULookup:!1},maxAccess:o,validationSchema:I.Ry({dtId:I.Z_().required()}),onSubmit:async e=>{try{await k({extension:h.P.DocumentTypeDefault.set,record:JSON.stringify(e)}),T.values.recordId?a.ZP.success(f.Edited):(T.setFieldValue("recordId",T.values.dtId),a.ZP.success(f.Added)),P()}catch(e){}}}),Z=!!T.values.recordId;return console.log(T.values),(0,c.useEffect)(()=>{!async function(){try{if(l){let e=await j({extension:h.P.DocumentTypeDefault.get,parameters:"_dtId=".concat(l)});T.setValues({...e.record,recordId:e.record.dtId})}}catch(e){}}()},[]),(0,n.jsx)(v.Z,{resourceId:u.i.DocumentTypeDefault,form:T,maxAccess:o,editMode:Z,children:(0,n.jsx)(m.R,{children:(0,n.jsx)(p.Q,{children:(0,n.jsxs)(y.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(y.ZP,{item:!0,xs:12,children:(0,n.jsx)(g.Z,{endpointId:_.r.DocumentType.qry,parameters:"_startAt=0&_pageSize=1000&_dgId=".concat(5106),name:"dtId",required:!0,label:s.documentType,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],readOnly:Z,values:T.values,maxAccess:o,onChange:(e,t)=>{T&&T.setFieldValue("dtId",(null==t?void 0:t.recordId)||"")},error:T.touched.dtId&&!!T.errors.dtId})}),(0,n.jsx)(y.ZP,{item:!0,xs:12,children:(0,n.jsx)(b.Z,{name:"commitItems",value:null===(t=T.values)||void 0===t?void 0:t.commitItems,onChange:e=>T.setFieldValue("commitItems",e.target.checked),label:s.commitItems,maxAccess:o})}),(0,n.jsx)(y.ZP,{item:!0,xs:12,children:(0,n.jsx)(b.Z,{name:"disableSKULookup",value:null===(d=T.values)||void 0===d?void 0:d.disableSKULookup,onChange:e=>T.setFieldValue("disableSKULookup",e.target.checked),label:s.dsl,maxAccess:o})})]})})})})}var k=()=>{let{getRequest:e,postRequest:t}=(0,c.useContext)(r.$),{platformLabels:d}=(0,c.useContext)(x.l),{stack:y}=(0,l.zY)();async function I(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:d=0,_pageSize:n=50}=t;try{return{...await e({extension:h.P.DocumentTypeDefault.qry,parameters:"_startAt=".concat(d,"&_pageSize=").concat(n,"&_filter=&_functionId=5106")}),_startAt:d}}catch(e){}}let{query:{data:v},labels:D,invalidate:_,refetch:g,access:b}=(0,i.J)({queryFn:I,endpointId:h.P.DocumentTypeDefault.qry,datasetId:u.i.DocumentTypeDefault}),k=[{field:"dtName",headerName:D.documentType,flex:1},{field:"commitItems",headerName:D.commitItems,type:"checkbox",flex:1},{field:"disableSKULookup",headerName:D.dsl,type:"checkbox",flex:1}],P=async e=>{try{await t({extension:h.P.DocumentTypeDefault.del,record:JSON.stringify(e)}),_(),a.ZP.success(d.Deleted)}catch(e){}};function T(e){y({Component:j,props:{labels:D,recordId:null==e?void 0:e.dtId,maxAccess:b},width:600,height:500,title:D.dtDefault})}return(0,n.jsxs)(m.R,{children:[(0,n.jsx)(f.g,{children:(0,n.jsx)(o.Z,{onAdd:()=>{T()},maxAccess:b})}),(0,n.jsx)(p.Q,{children:(0,n.jsx)(s.Z,{columns:k,gridData:v,rowId:["dtId"],onEdit:e=>{T(e)},onDelete:P,isLoading:!1,pageSize:50,refetch:g,paginationType:"client",maxAccess:b})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=60746)}),_N_E=e.O()}]);