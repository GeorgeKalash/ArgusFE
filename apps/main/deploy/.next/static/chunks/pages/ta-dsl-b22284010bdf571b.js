(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93969],{84640:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ta-dsl",function(){return a(27649)}])},27649:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var r=a(52322),l=a(2784),n=a(71987),s=a(65950),o=a(69387),i=a(62202),d=a(61802),u=a(26612),c=a(31389),m=a(33625),p=a(62362),g=a(19473),f=a(98345),y=a(7121),v=a(6035),h=a(27723),x=a(58583),T=()=>{let{postRequest:e,getRequest:t}=(0,l.useContext)(s.$),{platformLabels:a}=(0,l.useContext)(g.l),{stack:T}=(0,d.zY)(),{query:{data:S},refetch:I,labels:q,access:P,paginationParameters:D,invalidate:R}=(0,n.J)({queryFn:F,endpointId:v.f.ShitLeave.page,datasetId:u.i.ShiftLeave}),N=[{field:"reference",headerName:q.ref,flex:1},{field:"employeeRef",headerName:q.empRef,flex:1},{field:"employeeName",headerName:q.name,flex:1},{field:"leaveDate",headerName:q.leaveDate,flex:1,type:"date"},{field:"fromTime",headerName:q.from,flex:.6},{field:"toTime",headerName:q.to,flex:.6},{field:"duration",headerName:q.duration,flex:1},{field:"destination",headerName:q.destination,flex:1},{field:"statusName",headerName:q.status,flex:1},{field:"rsName",headerName:q.statusRelease,flex:1},{field:"wipName",headerName:q.wip,flex:1},{field:"notes",headerName:q.notes,flex:1}];async function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:r=50}=e;return{...await t({extension:v.f.ShitLeave.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(r,"&_params=")}),_startAt:a}}let{proxyAction:C}=(0,f.G)({functionId:y.J.DuringShiftLeave,action:Z,hasDT:!1}),j=async()=>{C()};async function Z(e){T({Component:x.Z,props:{recordId:e}})}let b=async t=>{await e({extension:v.f.ShitLeave.del,record:JSON.stringify(t)}),R(),i.ZP.success(a.Deleted)};return(0,r.jsxs)(c.R,{children:[(0,r.jsx)(m.g,{children:(0,r.jsx)(h.Z,{onAdd:j,maxAccess:P})}),(0,r.jsx)(p.Q,{children:(0,r.jsx)(o.Z,{name:"table",columns:N,gridData:S,rowId:["recordId"],onEdit:e=>{Z(null==e?void 0:e.recordId)},refetch:I,onDelete:b,pageSize:50,maxAccess:P,paginationParameters:D,paginationType:"api"})})]})}},92407:function(e,t,a){"use strict";a.d(t,{y:function(){return l}});let r="EP.asmx/",l={Employee:{snapshot:r+"snapshotEM",get1:r+"getEM1",set:r+"setEM",del:r+"delEM"},CertificateFilters:{qry:r+"qryCL",get:r+"getCL",set:r+"setCL",del:r+"delCL",page:r+"pageCL"},HRDocTypeFilters:{qry:r+"qryDT"},SalaryChangeReason:{qry:r+"qrySC",get:r+"getSC",set:r+"setSC",del:r+"delSC",page:r+"pageSC"},EmploymentStatusFilters:{qry:r+"qryST",page:r+"pageST",set:r+"setST",get:r+"getST",del:r+"delST"},SponsorFilters:{qry:r+"qrySP",page:r+"pageSP",set:r+"setSP",get:r+"getSP",del:r+"delSP"},RelationshipTypes:{page:r+"pageRT",set:r+"setRT",get:r+"getRT",del:r+"delRT"},BonusTypes:{get:r+"getBT",set:r+"setBT",page:r+"pageBT",del:r+"delBT"},BgCheck:{page:r+"pageCT",set:r+"setCT",get:r+"getCT",del:r+"delCT"},NoticePeriods:{get:r+"getNP",set:r+"setNP",del:r+"delNP",qry:r+"qryNP",page:r+"pageNP"},CustomProperties:{get:r+"getUP",set:r+"setUP",del:r+"delUP",page:r+"pageUP",qry:r+"qryUP"},ResignationRequest:{get:r+"getRR",set:r+"setRR",del:r+"delRR",page:r+"pageRR",close:r+"closeRR",reopen:r+"reopenRR"},TerminationReasons:{qry:r+"qryTR",get:r+"getTR",set:r+"setTR",del:r+"delTR",page:r+"pageTR"},JobInfo:{snapshot:r+"snapshotJI",page:r+"pageJI",close:r+"closeJI",reopen:r+"reopenJI",get:r+"getJI",set:r+"setJI",del:r+"delJI",qry:r+"qryJI"},QuickView:{get:r+"getQV"},EmployeePenalty:{page:r+"pagePE",close:r+"closePE",reopen:r+"reopenPE",get:r+"getPE",set:r+"setPE",del:r+"delPE"},EmployeeDeduction:{qry:r+"qryED",page:r+"pageED",del:r+"delED",get:r+"getED",set:r+"setED",snapshot:r+"snapshotED"},FullName:{sync:r+"syncFullName"},EmployeeChart:{page:r+"pageES",qry:r+"qryES",qry2:r+"qryES2"},EmployeeSalary:{qry:r+"qrySA",get:r+"getSA",set:r+"setSA",del:r+"delSA"},SalaryDetails:{qry:r+"qrySD",get:r+"getSD",set2:r+"set2SD",del:r+"delSD"},TerminationEmployee:{get:r+"getTE"},EmployementHistory:{qry:r+"qryEH",del:r+"delEH",get:r+"getEH",set:r+"setEH"},Hiring:{get:r+"getRE",set:r+"setRE"},Skills:{qry:r+"qryCE",del:r+"delCE",get:r+"getCE",set:r+"setCE"},UserDefined:{qry:r+"qryUV",set2:r+"set2UV"},Leaves:{set:r+"setLS",del:r+"delLS",get:r+"getLS"}}},6035:function(e,t,a){"use strict";a.d(t,{f:function(){return l}});let r="TA.asmx/",l={AttendanceScheduleFilters:{qry:r+"qrySD"},ProcessedShiftPunches:{retry:r+"retryPSP"},OvertimeProfiles:{page:r+"pageOTP",set:r+"setOTP",get:r+"getOTP",del:r+"delOTP",qry:r+"qryOTP"},PendingPunches:{page:r+"pagePP",del:r+"delPP",qry:r+"qryPP"},BiometricDevices:{page:r+"pageBM",qry:r+"qryBM",del:r+"delBM",set:r+"setBM",get:r+"getBM"},DSLReasons:{page:r+"pageLR",set:r+"setLR",get:r+"getLR",del:r+"delLR"},TimeVariation:{reset:r+"resetTV",qry:r+"qryTV",qry2:r+"qryTV2",snapshot:r+"snapshotTV",page:r+"pageTV",get:r+"getTV",set:r+"setTV",del:r+"delTV",gen:r+"genTV",close:r+"closeTV",reopen:r+"reopenTV",cancel:r+"cancelTV",override:r+"overrideTV"},ShitLeave:{page:r+"pageLQ",set:r+"setLQ",get:r+"getLQ",del:r+"delLQ",close:r+"closeLQ",reopen:r+"reopenLQ"},FlatSchedule:{qry:r+"qryFS",qry2:r+"qryFS2",copyRange:r+"copyRangeFS",range:r+"rangeFS",del:r+"delRangeFS"},DSLReason:{qry:r+"qryLR"},Calendar:{qry:r+"qryCA"},DayTypes:{page:r+"pageDT",qry:r+"qryDT",set:r+"setDT",get:r+"getDT",del:r+"delDT"},AttendanceDay:{qry:r+"qryAD"},Schedule:{qry:r+"qrySC"},FlatPunch:{qry:r+"qryFP"}}},1685:function(e,t,a){"use strict";a.d(t,{m:function(){return r}});let r=e=>{let t=window.sessionStorage.getItem(e);return t?JSON.parse(t):null}},98345:function(e,t,a){"use strict";a.d(t,{H:function(){return f},G:function(){return g}});var r=a(45300),l=a(2784),n=a(96026),s=a(38449);a(26612);var o=a(65947),i=a(1685);let d=async(e,t,a)=>{try{let r=await e({extension:t,parameters:a});return t.includes("qry")?r:r.record}catch(e){return null}},u=(e,t,a,r)=>{let l=(e=JSON.parse(JSON.stringify(e))).record.controls,n=l.find(e=>"reference"===e.controlId);return n?n.accessLevel=(null==t?void 0:t.mandatory)?o.$7:o.rr:(null==t?void 0:t.mandatory)?l.push({sgId:0,resourceId:"",controlId:"".concat(r?r+".":"","reference"),accessLevel:(null==t?void 0:t.mandatory)?o.$7:o.rr}):(null==t?void 0:t.readOnly)?l.push({sgId:0,resourceId:"",controlId:"".concat(r?r+".":"","reference"),accessLevel:(null==t?void 0:t.readOnly)?o.rr:o.$7}):l=e.record.controls.filter(e=>"reference"!=e.controlId),a&&l.push({sgId:0,resourceId:"",controlId:"".concat(r?r+".":"","dtId"),accessLevel:o.$7}),{...e,record:{...e.record,controls:l}}},c=async(e,t,a)=>{let r,l;switch(a){case"dtId":let n=(0,i.m)("userData"),o=null==n?void 0:n.userId;l="_userId=".concat(o,"&_functionId=").concat(t),r=s.r.UserFunction.get;break;case"glbSysNumberRange":l="_recordId=".concat(t),r=s.r.SystemFunction.get;break;case"DocumentType":l="_dgId=".concat(t,"&_startAt=",0,"&_pageSize=",50),r=s.r.DocumentType.qry;break;case"DcTypNumberRange":l="_recordId=".concat(t),r=s.r.DocumentType.get;break;case"isExternal":l="_recordId=".concat(t),r=s.r.NumberRange.get;break;default:return null}return await d(e,r,l)},m=async function(e){let t,a,r,l,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],d=arguments.length>5?arguments[5]:void 0,m=void 0===o&&n&&await c(e,n,"dtId"),p=null==m?void 0:m.dtId,g="",f=!0;if(m&&void 0===o||"nraId"===o){if(p){let a=await c(e,p,"DcTypNumberRange");t=null==a?void 0:a.nraId,f=!((null==a?void 0:a.activeStatus)<0),t||(g="Assign the document type to a number range")}if((!p||!f)&&i&&n){var y;let t=await c(e,n,"DocumentType");l=(null==t?void 0:null===(y=t.list)||void 0===y?void 0:y.filter(e=>(null==e?void 0:e.activeStatus)===1).length)>0}}if(("nraId"===o||void 0===o)&&n){if((!p||p)&&!t||t&&!f){let a=await c(e,n,"glbSysNumberRange");(t=null==a?void 0:a.nraId)&&l&&(l=!1),f=!0}g=t||l?"":"Assign the system Function to a number range"}o>0&&!t&&(t=o),t&&f?(a={readOnly:null==(r=await c(e,t,"isExternal"))||!r.external,mandatory:null!=r&&!!r.external},s&&(s=await u(s,a,l,d))):!t&&s&&(s=await u(s,a,l,d));let v=d?"".concat(d,".reference"):"reference";return{dtId:p,resetReference:null==a?void 0:a.readOnly,dcTypeRequired:l,reference:{fieldName:v,isEmpty:(null==r?void 0:r.external)!==void 0&&(null==r||!r.external)},errorMessage:g,maxAccess:s,selectNraId:o}};var p=a(65950);function g(e){let{functionId:t,action:a,hasDT:r}=e,{getRequest:s}=(0,l.useContext)(p.$),{stack:o}=(0,n.V)();return{proxyAction:async()=>{let e=await m(s,t,"",void 0,r);(null==e?void 0:e.errorMessage)?o({message:null==e?void 0:e.errorMessage}):await a()}}}function f(e){var t;let{functionId:a,access:s,hasDT:o,enabled:i=!0,objectName:d=""}=e,{getRequest:u}=(0,l.useContext)(p.$),{stack:c}=(0,n.V)(),[g,f]=(0,l.useState)(),y=async e=>{let t=await m(u,a,s,e,o,d);if(!t.errorMessage)return t;c({message:null==t?void 0:t.errorMessage})},v=(0,r.a)({retry:!1,staleTime:0,enabled:i,queryKey:[a,g,!!s,i],queryFn:g||"nraId"===g?()=>y(g):()=>y()});return{documentType:v.data,maxAccess:(null==v?void 0:null===(t=v.data)||void 0===t?void 0:t.maxAccess)||s,changeDT(e){f((null==e?void 0:e.nraId)||"nraId")}}}},28298:function(e,t,a){"use strict";var r=a(52322),l=a(2784),n=a(74143),s=a(44258),o=a(41633),i=a(45297),d=a(94918),u=a(26698),c=a(51909),m=a(90740),p=a(32827),g=a(81576),f=a(7087),y=a.n(f);t.Z=e=>{let{name:t,label:a,value:f,onChange:v,error:h=!1,helperText:x="",disabledRangeTime:T={},variant:S="outlined",size:I="small",fullWidth:q=!0,required:P=!1,autoFocus:D=!1,disabled:R=!1,disabledTime:N=null,readOnly:F=!1,editMode:C=!1,hasBorder:j=!0,hidden:Z=!1,use24Hour:b=!1,min:H=null,max:V=null,...E}=e,[w,L]=(0,l.useState)(!1),[A,O]=(0,l.useState)(!1),{_readOnly:k,_required:_,_hidden:B}=(0,g.W)(t,E.maxAccess,P,F,Z);return B?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(o._,{dateAdapter:m.y,children:(0,r.jsx)(c.j,{variant:S,size:I,value:f,label:a,fullWidth:q,ampm:!b,minTime:H,maxTime:V,onFocus:()=>O(!0),onBlur:()=>O(!1),autoFocus:D,onChange:e=>v(t,e),onClose:()=>L(!1),open:w,disabled:R,readOnly:k,clearable:!0,slotProps:{textField:{required:_,size:I,fullWidth:q,error:!!h,helperText:"string"==typeof h?h:x,InputProps:{classes:{root:y().outlinedRoot,notchedOutline:j?y().outlinedFieldset:y().outlinedNoBorder,input:y().inputBase},endAdornment:!(k||R)&&(0,r.jsxs)(n.Z,{position:"end",className:y().inputAdornment,children:[f&&(0,r.jsx)(s.Z,{tabIndex:-1,className:y().iconButton,onClick:()=>v(t,null),children:(0,r.jsx)(i.Z,{className:y().icon})}),(0,r.jsx)(s.Z,{tabIndex:-1,className:y().iconButton,onClick:()=>L(!0),children:(0,r.jsx)(d.Z,{className:y().icon})})]})},InputLabelProps:{className:A||f?y().inputLabelShrink:y().inputLabel}},actionBar:{actions:["accept"]}},slots:{actionBar:e=>(0,r.jsx)(u.Z,{...e,actions:["accept"]}),popper:e=>(0,r.jsx)(p.Z,{...e,matchAnchorWidth:!1,isDateTimePicker:!0})},...E})})}},58583:function(e,t,a){"use strict";a.d(t,{Z:function(){return j}});var r=a(52322),l=a(60218),n=a(2784),s=a(48601),o=a(82737),i=a(62202),d=a(65950),u=a(71987),c=a(26612),m=a(5088),p=a(31389),g=a(80983),f=a(8661),y=a(89330),v=a(39812),h=a(7121),x=a(98345),T=a(19473),S=a(21581),I=a(27423),q=a(92407),P=a(6035),D=a(28298),R=a(28879),N=a.n(R),F=a(21326),C=a(50023);function j(e){var t,a,R,j,Z;let{recordId:b,window:H}=e,{platformLabels:V}=(0,n.useContext)(T.l),{getRequest:E,postRequest:w}=(0,n.useContext)(d.$),{labels:L,access:A}=(0,C.Z)({datasetId:c.i.ShiftLeave,editMode:!!b});(0,F.Z)({title:L.duringShiftLeave,window:H});let{maxAccess:O}=(0,x.H)({functionId:h.J.DuringShiftLeave,access:A,enabled:!b}),k=(0,u.E)({endpointId:P.f.ShitLeave.page}),{formik:_}=(0,g.c)({initialValues:{recordId:null,employeeId:null,employeeRef:"",employeeName:"",reference:"",date:new Date,leaveDate:null,reasonId:null,fromTime:null,toTime:null,realDuration:null,destination:null,notes:"",status:1,wip:1,departmentRef:"",departmentName:"",reportToRef:"",reportToName:"",departmentHeadName:"",departmentHeadRef:"",position:"",schedule:""},maxAccess:O,validateOnChange:!0,validationSchema:s.Ry({employeeId:s.Rx().required(),reasonId:s.Rx().required(),duration:s.Z_().required(),destination:s.Z_().required(),leaveDate:s.hT().required(),fromTime:s.Z_().required(),toTime:s.Z_().required()}),onSubmit:async e=>{let{date:t,leaveDate:a,fromTime:r,toTime:l,returnTime:n,statusName:s,rsName:o,wipName:d,employeeRef:u,employeeName:c,departmentRef:m,departmentName:p,reportToRef:g,reportToName:f,departmentHeadName:y,departmentHeadRef:h,position:x,schedule:T,...S}=e,I=await w({extension:P.f.ShitLeave.set,record:JSON.stringify({...S,date:(0,v.ku)(t),leaveDate:(0,v.ku)(a),fromTime:N()(r).format("HH:mm"),toTime:N()(l).format("HH:mm"),returnTime:N()(n).format("HH:mm")})});i.ZP.success(e.recordId?V.Edited:V.Added),ec(I.recordId),k()}}),B=!!(null===(t=_.values)||void 0===t?void 0:t.recordId),J=(null==_?void 0:null===(a=_.values)||void 0===a?void 0:a.wip)===2,{date:M,leaveDate:U,fromTime:Q,toTime:$,returnTime:z,statusName:W,rsName:G,wipName:X,employeeRef:Y,employeeName:K,departmentRef:ee,departmentName:et,reportToRef:ea,reportToName:er,departmentHeadName:el,departmentHeadRef:en,position:es,schedule:eo,...ei}=_.values,ed=async()=>{await w({extension:P.f.ShitLeave.close,record:JSON.stringify({...ei,date:(0,v.ku)(M),leaveDate:(0,v.ku)(U),fromTime:N()(Q).format("HH:mm"),toTime:N()($).format("HH:mm"),returnTime:N()(z).format("HH:mm")})}),i.ZP.success(V.Closed),ec(_.values.recordId),k()},eu=async()=>{await w({extension:P.f.ShitLeave.reopen,record:JSON.stringify({...ei,date:(0,v.ku)(M),leaveDate:(0,v.ku)(U),fromTime:N()(Q).format("HH:mm"),toTime:N()($).format("HH:mm"),returnTime:N()(z).format("HH:mm")})}),i.ZP.success(V.Reopened),ec(_.values.recordId),k()};async function ec(e){var t;let{record:a}=await E({extension:P.f.ShitLeave.get,parameters:"_recordId=".concat(e)});return _.setValues({...a,date:(0,v.a1)(a.date),leaveDate:(0,v.a1)(a.leaveDate),fromTime:N()(a.fromTime,"HH:mm"),toTime:N()(a.toTime,"HH:mm"),returnTime:(null==a?void 0:null===(t=a.returnTime)||void 0===t?void 0:t.trim())?N()(null==a?void 0:a.returnTime,"HH:mm"):null}),ef(a.employeeId),a}(0,n.useEffect)(()=>{b&&ec(b)},[]);let em=[{key:"Close",condition:!J,onClick:ed,disabled:J||!B},{key:"Reopen",condition:J,onClick:eu,disabled:!J},{key:"Approval",condition:!0,onClick:"onApproval",disabled:!J}],ep=e=>{let t=new Date(e),a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return"".concat(a).concat(r).concat(l)};(0,n.useEffect)(()=>{!async function(){if(_.values.leaveDate&&_.values.employeeId){let{list:e}=await E({extension:P.f.FlatSchedule.qry,parameters:"_params=1|"+_.values.employeeId+"^2|"+ep(_.values.leaveDate)+"^3|"+ep(_.values.leaveDate)}),t=null==e?void 0:e.map(e=>{let t=N()((0,v.a1)(e.dtFrom)).format("HH:mm"),a=N()((0,v.a1)(e.dtTo)).format("HH:mm");return"[".concat(t,"..").concat(a,"]")}).join(" ");_.setFieldValue("schedule",t)}}()},[_.values.employeeId,_.values.leaveDate]),(0,n.useEffect)(()=>{let e=eg(N()(_.values.fromTime).format("HH:mm"),N()(_.values.toTime).format("HH:mm"));_.setFieldValue("duration",e||0)},[_.values.fromTime,_.values.toTime]),(0,n.useEffect)(()=>{if(_.values.returnTime){let e=eg(N()(_.values.fromTime).format("HH:mm"),N()(_.values.returnTime).format("HH:mm"));_.setFieldValue("realDuration",e||0)}else _.setFieldValue("realDuration",null)},[_.values.fromTime,_.values.returnTime]);let eg=(e,t)=>{if(!e||!t||"Invalid Date"===t||"Invalid Date"===e)return;let[a,r]=e.split(":").map(Number),[l,n]=t.split(":").map(Number),s=new Date(0,0,0,a,r),o=(new Date(0,0,0,l,n)-s)/6e4;return o<0&&(o+=1440),Number((o/60).toFixed(2))};async function ef(e){if(e){let{record:t}=await E({extension:q.y.QuickView.get,parameters:"_recordId=".concat(e,"&_asOfDate=").concat((0,v.Uf)(_.values.date))});_.setFieldValue("departmentRef",null==t?void 0:t.departmentRef),_.setFieldValue("departmentName",null==t?void 0:t.departmentName),_.setFieldValue("departmentHeadRef",null==t?void 0:t.departmentHeadRef),_.setFieldValue("departmentHeadName",null==t?void 0:t.departmentHeadName),_.setFieldValue("reportToRef",null==t?void 0:t.reportToRef),_.setFieldValue("reportToName",null==t?void 0:t.reportToName),_.setFieldValue("position","".concat((null==t?void 0:t.positionName)||"").concat((null==t?void 0:t.positionRef)?" ".concat(t.positionRef):""))}}return(0,r.jsx)(o.Z,{form:_,resourceId:c.i.ShiftLeave,functionId:h.J.DuringShiftLeave,maxAccess:O,editMode:B,previewReport:B,actions:em,disabledSubmit:J,children:(0,r.jsx)(p.R,{children:(0,r.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(l.ZP,{item:!0,xs:8,children:(0,r.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(l.ZP,{item:!0,xs:6,children:(0,r.jsx)(m.Z,{name:"reference",label:L.ref,value:_.values.reference,maxAccess:O,maxLength:"30",readOnly:B,onChange:_.handleChange,onClear:()=>_.setFieldValue("reference",""),error:_.touched.reference&&!!_.errors.reference})}),(0,r.jsx)(l.ZP,{item:!0,xs:6}),(0,r.jsx)(l.ZP,{item:!0,xs:6,children:(0,r.jsx)(y.Z,{name:"date",label:L.date,value:_.values.date,onChange:_.setFieldValue,maxAccess:A,readOnly:!0,onClear:()=>_.setFieldValue("date",""),error:_.touched.date&&!!_.errors.date})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(I.U,{endpointId:q.y.Employee.snapshot,parameters:{_branchId:0},filter:{activeStatus:1},valueField:"reference",displayField:"fullName",name:"employeeId",required:!0,readOnly:J,label:L.employee,secondFieldLabel:L.employee,form:_,displayFieldWidth:2,valueShow:"employeeRef",secondValueShow:"employeeName",columnsInDropDown:[{key:"reference",value:"Reference"},{key:"fullName",value:"Name"}],maxAccess:O,onChange:async(e,t)=>{await ef(null==t?void 0:t.recordId),_.setFieldValue("employeeRef",(null==t?void 0:t.reference)||""),_.setFieldValue("employeeName",(null==t?void 0:t.fullName)||""),_.setFieldValue("employeeId",(null==t?void 0:t.recordId)||null)},errorCheck:"employeeId"})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(I.U,{name:"department",readOnly:!0,label:L.department,secondFieldLabel:L.department,form:_,valueShow:"departmentRef",secondValueShow:"departmentName",maxAccess:O})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(I.U,{name:"reportTo",readOnly:!0,label:L.reportTo,secondFieldLabel:L.reportTo,form:_,valueShow:"reportToRef",secondValueShow:"reportToName",maxAccess:O})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(I.U,{name:"depManager",readOnly:!0,label:L.depManager,secondFieldLabel:L.depManager,form:_,valueShow:"departmentHeadRef",secondValueShow:"departmentHeadName",maxAccess:O})}),(0,r.jsx)(l.ZP,{item:!0,xs:6,children:(0,r.jsx)(m.Z,{name:"position",label:L.empPosition,value:_.values.position,readOnly:!0,maxAccess:O})}),(0,r.jsx)(l.ZP,{item:!0,xs:6}),(0,r.jsx)(l.ZP,{item:!0,xs:6,children:(0,r.jsx)(m.Z,{name:"schedule",label:L.schedule,value:_.values.schedule,readOnly:!0,maxAccess:O})})]})}),(0,r.jsx)(l.ZP,{item:!0,xs:4,children:(0,r.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(y.Z,{name:"leaveDate",label:L.dateOfLeave,value:null===(R=_.values)||void 0===R?void 0:R.leaveDate,required:!0,readOnly:J,onBlur:(e,t)=>{_.setFieldValue("leaveDate",t||null)},onAccept:e=>{_.setFieldValue("leaveDate",e||null)},onClear:()=>_.setFieldValue("leaveDate",null),error:_.touched.leaveDate&&!!_.errors.leaveDate,maxAccess:O})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(D.Z,{label:L.from,name:"fromTime",required:!0,use24Hour:!0,readOnly:J,value:_.values.fromTime,onChange:_.setFieldValue,onClear:()=>_.setFieldValue("fromTime",""),maxAccess:O,error:_.touched.fromTime&&!!_.errors.fromTime})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(D.Z,{label:L.to,name:"toTime",readOnly:J,use24Hour:!0,required:!0,value:_.values.toTime,onChange:_.setFieldValue,onClear:()=>_.setFieldValue("toTime",""),maxAccess:O,error:_.touched.toTime&&!!_.errors.toTime})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{name:"duration",label:L.leaveDuration,value:_.values.duration,readOnly:!0,required:!0,maxAccess:O,error:_.touched.duration&&!!_.errors.duration})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{endpointId:P.f.DSLReason.qry,name:"reasonId",label:L.dsltype,valueField:"recordId",displayField:"name",required:!0,values:_.values,onChange:(e,t)=>{_.setFieldValue("reasonId",(null==t?void 0:t.recordId)||null)},readOnly:J,maxAccess:O,error:(null==_?void 0:null===(j=_.touched)||void 0===j?void 0:j.reasonId)&&!!(null==_?void 0:null===(Z=_.errors)||void 0===Z?void 0:Z.reasonId)})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(D.Z,{label:L.returnTime,name:"returnTime",use24Hour:!0,readOnly:J,value:_.values.returnTime,onChange:_.setFieldValue,onClear:()=>_.setFieldValue("returnTime",""),maxAccess:O,error:_.touched.returnTime&&!!_.errors.returnTime})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{name:"realDuration",label:L.duration,value:_.values.realDuration,readOnly:!0,maxAccess:O})})]})}),(0,r.jsx)(l.ZP,{item:!0,xs:8,children:(0,r.jsx)(m.Z,{name:"destination",label:L.destination,value:_.values.destination,onChange:_.handleChange,required:!0,maxLength:100,readOnly:J,maxAccess:O,onClear:()=>_.setFieldValue("destination",""),error:_.touched.destination&&!!_.errors.destination})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(S.Z,{name:"notes",label:L.notes,value:_.values.notes,rows:2,readOnly:J,maxAccess:O,onChange:_.handleChange,onClear:()=>_.setFieldValue("notes",""),error:_.touched.notes&&!!_.errors.notes})})]})})})}j.width=1e3,j.height=500}},function(e){e.O(0,[92515,43553,49774,92888,40179],function(){return e(e.s=84640)}),_N_E=e.O()}]);