(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2935],{42420:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mf-bom",function(){return s(5550)}])},5550:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var a=s(52322),r=s(2784),n=s(62202),l=s(69387),o=s(27723),d=s(65950),i=s(71987),c=s(26612),u=s(31389),p=s(33625),m=s(62362),g=s(61802),y=s(19473),h=s(90587),v=s(29326),q=s(9522),C=s(60218),x=s(48601),I=s(82737),S=s(5088),f=s(80983),b=s(8661),M=s(84100),T=s(27423),O=s(65215),D=s(89330),R=s(91406),P=s(39812);function A(e){let{labels:t,maxAccess:s,values:l,window:o,setStore:p,refetchForm:g}=e,{postRequest:v,getRequest:q}=(0,r.useContext)(d.$),{platformLabels:b}=(0,r.useContext)(y.l),M=(0,i.E)({endpointId:h.u.BillOfMaterials.page}),T=(0,i.E)({endpointId:h.u.Component.qry}),{formik:O}=(0,f.c)({initialValues:{name:"",reference:"",version:""},maxAccess:s,validationSchema:x.Ry({name:x.Z_().required(),reference:x.Z_().required(),version:x.Z_().required()}),onSubmit:async e=>{let t=await q({extension:h.u.Component.qry,parameters:"_bomId=".concat(l.recordId)}),s=await v({extension:h.u.BillOfMaterials.set,record:JSON.stringify({...l,...e,recordId:null})});O.setFieldValue("recordId",s.recordId),p(e=>({...e,recordId:s.recordId})),await v({extension:h.u.Component.set2,record:JSON.stringify({components:t.list.map(e=>({...e,bomId:s.recordId})),bomId:s.recordId})}),n.ZP.success(b.Added),g(s.recordId),T(),M(),o.close()}});return(0,a.jsx)(I.Z,{resourceId:c.i.BillOfMaterials,form:O,maxAccess:s,editMode:!1,isCleared:!1,isInfo:!1,children:(0,a.jsx)(u.R,{children:(0,a.jsx)(m.Q,{children:(0,a.jsxs)(C.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(S.Z,{name:"reference",label:t.reference,value:O.values.reference,required:!0,maxLength:"15",maxAccess:s,onChange:O.handleChange,onClear:()=>O.setFieldValue("reference",""),error:O.touched.reference&&!!O.errors.reference})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(S.Z,{name:"name",label:t.name,value:O.values.name,required:!0,maxAccess:s,maxLength:"30",onChange:O.handleChange,onClear:()=>O.setFieldValue("name",""),error:O.touched.name&&!!O.errors.name})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(S.Z,{name:"version",label:t.version,value:O.values.version,maxAccess:s,required:!0,maxLength:"10",onChange:O.handleChange,onClear:()=>O.setFieldValue("version",""),error:O.touched.version&&!!O.errors.version})})]})})})})}function F(e){var t,s;let{labels:l,maxAccess:o,setStore:p,store:v}=e,{recordId:q}=v,{platformLabels:F}=(0,r.useContext)(y.l),{getRequest:Z,postRequest:B}=(0,r.useContext)(d.$),{stack:j}=(0,g.zY)(),_=(0,i.E)({endpointId:h.u.BillOfMaterials.page}),N=!!q,{formik:J}=(0,f.c)({initialValues:{recordId:null,name:"",reference:"",type:null,itemId:null,activeStatus:null,version:"",date:new Date,qty:null,description:null},maxAccess:o,validateOnChange:!0,validationSchema:x.Ry({name:x.Z_().required(),reference:x.Z_().required(),type:x.Z_().required(),itemId:x.Rx().required(),activeStatus:x.Z_().required(),version:x.Z_().required(),date:x.hT().required(),qty:x.Rx().required()}),onSubmit:async e=>{let t=await B({extension:h.u.BillOfMaterials.set,record:JSON.stringify({...e,date:(0,P.ku)(e.date)})});n.ZP.success(e.recordId?F.Edited:F.Added),J.setFieldValue("recordId",t.recordId),p(e=>({...e,recordId:t.recordId})),_()}});async function L(e){let t=await Z({extension:h.u.BillOfMaterials.get,parameters:"_recordId=".concat(e)});J.setValues({...t.record,date:(0,P.a1)(t.record.date)})}(0,r.useEffect)(()=>{q&&L(q)},[]);let k=[{key:"Attachment",condition:!0,onClick:"onClickAttachment",disabled:!N},{key:"RecordRemarks",condition:!0,onClick:"onRecordRemarks",disabled:!N},{key:"Copy",condition:!0,onClick:async function(){j({Component:A,props:{labels:l,maxAccess:o,setStore:p,values:J.values,refetchForm:L},width:500,height:300,title:F.Copy})},disabled:!N}];return(0,a.jsx)(I.Z,{resourceId:c.i.BillOfMaterials,form:J,maxAccess:o,previewReport:N,editMode:N,actions:k,children:(0,a.jsx)(u.R,{children:(0,a.jsx)(m.Q,{children:(0,a.jsxs)(C.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(S.Z,{name:"reference",label:l.reference,value:J.values.reference,required:!0,maxLength:"15",maxAccess:o,onChange:J.handleChange,onClear:()=>J.setFieldValue("reference",""),error:J.touched.reference&&!!J.errors.reference})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(S.Z,{name:"name",label:l.name,value:J.values.name,required:!0,maxAccess:o,maxLength:"30",onChange:J.handleChange,onClear:()=>J.setFieldValue("name",""),error:J.touched.name&&!!J.errors.name})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(b.Z,{datasetId:M.v.BOM_TYPE,name:"type",label:l.type,valueField:"key",displayField:"value",values:J.values,required:!0,maxAccess:o,onChange:(e,t)=>{J.setFieldValue("type",(null==t?void 0:t.key)||null)},error:J.touched.type&&!!J.errors.type})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(T.U,{endpointId:O.$.Item.snapshot,name:"itemId",label:null==l?void 0:l.sku,valueField:"recordId",displayField:"sku",valueShow:"sku",secondValueShow:"itemName",form:J,columnsInDropDown:[{key:"sku",value:"SKU"},{key:"name",value:"Name"}],onChange:(e,t)=>{J.setFieldValue("itemId",(null==t?void 0:t.recordId)||null),J.setFieldValue("itemName",(null==t?void 0:t.name)||null),J.setFieldValue("sku",(null==t?void 0:t.sku)||null)},maxAccess:o,errorCheck:"itemId",required:!0})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(b.Z,{datasetId:M.v.ACTIVE_STATUS,name:"activeStatus",label:l.status,valueField:"key",displayField:"value",values:J.values,required:!0,maxAccess:o,onChange:(e,t)=>{J.setFieldValue("activeStatus",(null==t?void 0:t.key)||null)},error:J.touched.activeStatus&&!!J.errors.activeStatus})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(S.Z,{name:"version",label:l.version,value:J.values.version,maxAccess:o,required:!0,maxLength:"10",onChange:J.handleChange,onClear:()=>J.setFieldValue("version",""),error:J.touched.version&&!!J.errors.version})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(D.Z,{name:"date",required:!0,label:l.date,value:null==J?void 0:null===(t=J.values)||void 0===t?void 0:t.date,onChange:J.setFieldValue,maxAccess:o,onClear:()=>J.setFieldValue("date",null),error:J.touched.date&&!!J.errors.date})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(S.Z,{name:"description",label:l.description,value:J.values.description,maxAccess:o,onChange:J.handleChange,onClear:()=>J.setFieldValue("description",""),error:J.touched.description&&!!J.errors.description})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(R.Z,{name:"qty",required:!0,label:l.qty,value:null==J?void 0:null===(s=J.values)||void 0===s?void 0:s.qty,maxAccess:o,onChange:J.handleChange,onClear:()=>J.setFieldValue("qty",0),error:J.touched.qty&&!!J.errors.qty,decimalScale:3,maxLength:12})})]})})})})}var Z=s(54074);function B(e){var t,s,l,o,c,p;let{labels:g,maxAccess:v,recordId:q,seqNo:I,bomId:S,msId:M,components:D,calculateCostPct:P,window:A}=e,{getRequest:F,postRequest:B}=(0,r.useContext)(d.$),{platformLabels:j}=(0,r.useContext)(y.l),_=(0,i.E)({endpointId:h.u.Component.qry}),{formik:N}=(0,f.c)({maxAccess:v,initialValues:{recordId:q||null,costTypeId:null,bomId:S,itemId:null,qty:null,muId:null,muQty:null,msId:M,currentCost:0,seqNo:I,variationLimit:null},validateOnChange:!1,validationSchema:x.Ry({itemId:x.Rx().required(),qty:x.Rx().required().moreThan(0)}),onSubmit:e=>{let t;let s={...e,baseQty:(null==e?void 0:e.baseQty)||((null==e?void 0:e.muId)?e.qty*e.muQty:e.qty)},a=D.findIndex(e=>e.seqNo===s.seqNo);t=P(t=-1!==a?D.map((e,t)=>t===a?s:e):[...D,s]),B({extension:h.u.Component.set2,record:JSON.stringify({components:t,bomId:S})}).then(t=>{n.ZP.success(e.recordId?j.Edited:j.Added),N.setFieldValue("recordId",t.recordId),_(),A.close()})}}),J=!!N.values.recordId;(0,r.useEffect)(()=>{!async function(){if(q){var e,t;let s=await F({extension:h.u.Component.get,parameters:"_bomId=".concat(q,"&_seqNo=").concat(I)}),a=(null===(e=s.record)||void 0===e?void 0:e.itemId)&&await L(null===(t=s.record)||void 0===t?void 0:t.itemId);N.setValues({...s.record,currentCost:null!=a?a:0})}}()},[]);let L=async e=>{if(e){var t;let s=await F({extension:O.$.CurrentCost.get,parameters:"_itemId=".concat(e)});return null==s?void 0:null===(t=s.record)||void 0===t?void 0:t.currentCost}};return(0,a.jsx)(Z.Z,{onSave:N.handleSubmit,maxAccess:v,editMode:J,children:(0,a.jsx)(u.R,{children:(0,a.jsx)(m.Q,{children:(0,a.jsxs)(C.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(T.U,{endpointId:O.$.Item.snapshot,name:"itemId",autoFocus:!J,label:null==g?void 0:g.sku,valueField:"recordId",displayField:"sku",valueShow:"sku",secondValueShow:"itemName",form:N,columnsInDropDown:[{key:"sku",value:"SKU"},{key:"name",value:"Name"}],onChange:async(e,t)=>{var s;N.setFieldValue("itemId",(null==t?void 0:t.recordId)||null),N.setFieldValue("itemName",null==t?void 0:t.name),N.setFieldValue("sku",null==t?void 0:t.sku),N.setFieldValue("msId",null==t?void 0:t.msId);let a=null!==(s=await L(null==t?void 0:t.recordId))&&void 0!==s?s:0;N.setFieldValue("currentCost",a)},maxAccess:v,errorCheck:"itemId",required:!0})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(b.Z,{endpointId:O.$.MeasurementUnit.qry,parameters:(null==N?void 0:null===(t=N.values)||void 0===t?void 0:t.msId)?"_msId=".concat(null==N?void 0:null===(s=N.values)||void 0===s?void 0:s.msId):"",name:"muId",readOnly:!(null==N?void 0:null===(l=N.values)||void 0===l?void 0:l.msId),label:g.measurementUnit,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:N.values,onChange:(e,t)=>{N.setFieldValue("muId",(null==t?void 0:t.recordId)||null),N.setFieldValue("muQty",(null==t?void 0:t.qty)||null)},maxAccess:v})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(b.Z,{endpointId:O.$.Site.qry,name:"siteId",label:g.site,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],values:N.values,maxAccess:v,onChange:(e,t)=>{N.setFieldValue("siteId",(null==t?void 0:t.recordId)||null)},error:N.touched.siteId&&!!N.errors.siteId})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(R.Z,{name:"qty",required:!0,label:g.qty,value:null==N?void 0:null===(o=N.values)||void 0===o?void 0:o.qty,maxAccess:v,onChange:N.handleChange,onClear:()=>N.setFieldValue("qty",0),error:N.touched.qty&&!!N.errors.qty,decimalScale:4,allowNegative:!1,maxLength:11})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(R.Z,{name:"variationLimit",label:g.variationLimit,value:null==N?void 0:null===(c=N.values)||void 0===c?void 0:c.variationLimit,maxAccess:v,onChange:N.handleChange,decimalScale:2,maxLength:5,onClear:()=>N.setFieldValue("variationLimit",0),error:N.touched.variationLimit&&!!N.errors.variationLimit})}),(0,a.jsx)(C.ZP,{item:!0,xs:12,children:(0,a.jsx)(R.Z,{name:"currentCost",label:g.currentCost,value:null==N?void 0:null===(p=N.values)||void 0===p?void 0:p.currentCost,maxAccess:v,readOnly:!0})})]})})})})}var j=e=>{var t,s;let{store:v,labels:q}=e,{recordId:x}=v,{getRequest:I,postRequest:S}=(0,r.useContext)(d.$),{stack:f}=(0,g.zY)(),{platformLabels:b}=(0,r.useContext)(y.l),M=[{field:"sku",headerName:q.sku,flex:1},{field:"itemName",headerName:q.name,flex:1},{field:"qty",headerName:q.qty,flex:1,type:"number"},{field:"percentage",headerName:q.percentage,flex:1},{field:"costPct",headerName:q.costPCT,flex:1}];async function T(){let e=await I({extension:h.u.Component.qry,parameters:"_bomId=".concat(x)});if(!e.list)return e;let t=e.list.reduce((e,t)=>e+(parseFloat(t.baseQty)||0),0);return e.list=e.list.map(e=>({...e,percentage:t>0?"%".concat((100*e.baseQty/t).toFixed(3)):"0%",costPct:null!=e.costPct?"%".concat(e.costPct.toFixed(5)):null})),e}let{query:{data:O},labels:D,invalidate:P,access:A}=(0,i.J)({enabled:!!x,datasetId:c.i.BillOfMaterials,queryFn:T,endpointId:h.u.Component.qry}),F=null==O?void 0:null===(t=O.list)||void 0===t?void 0:t.reduce((e,t)=>e+(parseFloat(t.baseQty)||0),0),j=O?(null===(s=O.list)||void 0===s?void 0:s.reduce((e,t)=>Math.max(e,t.seqNo),0))+1:0;function _(e){var t;f({Component:B,props:{labels:D,recordId:null==e?void 0:e.bomId,bomId:x,muId:null==e?void 0:e.muId,access:A,seqNo:null!==(t=null==e?void 0:e.seqNo)&&void 0!==t?t:j,store:v,components:null==O?void 0:O.list,calculateCostPct:J},width:750,height:500,title:D.Component})}let N=async e=>{var t;let s=null==O?void 0:null===(t=O.list)||void 0===t?void 0:t.filter(t=>t.seqNo!==e.seqNo);O.list=J(s),await S({extension:h.u.Component.set2,record:JSON.stringify({components:null==O?void 0:O.list,bomId:x})}),P(),n.ZP.success(b.Deleted)},J=e=>{let t=null==e?void 0:e.reduce((e,t)=>e+(null==t.currentCost?0:parseFloat(t.currentCost))*(null==t.baseQty?0:parseFloat(t.baseQty)),0);return e=null==e?void 0:e.map(e=>{let s=null==e.currentCost?0:parseFloat(e.currentCost),a=null==e.baseQty?0:parseFloat(e.baseQty);return{...e,costPct:0===t?0:s*a*100/t}})},L=async()=>{let e={bomId:x,components:O.list.map(e=>({...e,costPct:"string"==typeof e.costPct?parseFloat(e.costPct.replace("%","")):e.costPct}))};await S({extension:h.u.Component.set2,record:JSON.stringify(e)}).then(()=>{n.ZP.success(b.Updated)})};return(0,a.jsx)(Z.Z,{onSave:L,maxAccess:A,fullSize:!0,children:(0,a.jsxs)(u.R,{children:[(0,a.jsx)(p.g,{children:(0,a.jsx)(o.Z,{onAdd:()=>{_()},maxAccess:A})}),(0,a.jsx)(m.Q,{children:(0,a.jsx)(l.Z,{columns:M,gridData:O,rowId:"recordId",onEdit:e=>{_(e)},onDelete:N,isLoading:!1,pageSize:50,pagination:!1,maxAccess:A})}),(0,a.jsx)(p.g,{children:(0,a.jsx)(C.ZP,{container:!0,sx:{p:2},children:(0,a.jsx)(C.ZP,{item:!0,xs:3,children:(0,a.jsx)(R.Z,{name:"totalQty",label:q.totalQty,value:F,readOnly:!0})})})})]})})},_=e=>{let{recordId:t,labels:s,maxAccess:n}=e,[l,o]=(0,r.useState)(0),[d,i]=(0,r.useState)({recordId:t}),c=[{label:s.BillOfMaterials},{label:s.Component,disabled:!d.recordId}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q.Y,{tabs:c,activeTab:l,setActiveTab:o,maxAccess:n}),(0,a.jsx)(v.Z,{index:0,value:l,maxAccess:n,children:(0,a.jsx)(F,{labels:s,setStore:i,store:d,maxAccess:n})}),(0,a.jsx)(v.Z,{index:1,value:l,maxAccess:n,children:(0,a.jsx)(j,{labels:s,store:d})})]})},N=()=>{let{getRequest:e,postRequest:t}=(0,r.useContext)(d.$),{platformLabels:s}=(0,r.useContext)(y.l),{stack:v}=(0,g.zY)();async function q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:a=50}=t;return{...await e({extension:h.u.BillOfMaterials.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(a,"&_filter=")}),_startAt:s}}let{query:{data:C},labels:x,paginationParameters:I,refetch:S,access:f,search:b,clear:M,invalidate:T}=(0,i.J)({queryFn:q,endpointId:h.u.BillOfMaterials.page,datasetId:c.i.BillOfMaterials,search:{searchFn:O}});async function O(t){let{qry:s}=t;return await e({extension:h.u.BillOfMaterials.snapshot,parameters:"_filter=".concat(s)})}let D=[{field:"reference",headerName:x.reference,flex:1},{field:"name",headerName:x.name,flex:1},{field:"version",headerName:x.version,flex:1},{field:"itemName",headerName:x.item,flex:1},{field:"date",headerName:x.date,flex:1,type:"date"},{field:"description",headerName:x.description,flex:1},{field:"qty",headerName:x.qty,flex:1,type:"number"}];function R(e){v({Component:_,props:{labels:x,recordId:e,maxAccess:f},width:900,height:620,title:x.BillOfMaterials})}let P=async e=>{await t({extension:h.u.BillOfMaterials.del,record:JSON.stringify(e)}),T(),n.ZP.success(s.Deleted)};return(0,a.jsxs)(u.R,{children:[(0,a.jsx)(p.g,{children:(0,a.jsx)(o.Z,{onAdd:()=>{R()},maxAccess:f,onSearch:b,onSearchClear:M,labels:x,inputSearch:!0})}),(0,a.jsx)(m.Q,{children:(0,a.jsx)(l.Z,{columns:D,gridData:C,rowId:["recordId"],onEdit:e=>{R(null==e?void 0:e.recordId)},onDelete:P,isLoading:!1,pageSize:50,refetch:S,paginationParameters:I,paginationType:"api",maxAccess:f})})]})}},90587:function(e,t,s){"use strict";s.d(t,{u:function(){return r}});let a="MF.asmx/",r={DesignRawMaterial:{qry2:a+"qryDRM2",qry:a+"qryDRM",set2:a+"set2DRM"},JobOrdersItem:{qry:a+"qryJIT",set2:a+"set2JIT"},IssueOfMaterialsItems:{qry:a+"qryIMI",qry2:a+"qryIMI2"},LaborGroup:{snapshot:a+"snapshotLBG",page:a+"pageLBG",qry:a+"qryLBG",set:a+"setLBG",get:a+"getLBG",del:a+"delLBG"},ProductionLine:{page:a+"pageLIN",qry:a+"qryLIN",qry2:a+"qry2LIN",qry3:a+"qry3LIN",set:a+"setLIN",get:a+"getLIN",del:a+"delLIN"},CostGroup:{page:a+"pageCG",set:a+"setCG",get:a+"getCG",del:a+"delCG",qry:a+"qryCG"},WorkCenter:{page:a+"pageWCT",qry:a+"qryWCT",qry3:a+"qryWCT3",set:a+"setWCT",get:a+"getWCT",del:a+"delWCT",snapshot:a+"snapshotWCT"},Routing:{page:a+"pageRTN",qry:a+"qryRTN",set:a+"setRTN",get:a+"getRTN",del:a+"delRTN",snapshot2:a+"snapshot2RTN",snapshot:a+"snapshotRTN"},Operation:{snapshot:a+"snapshotOPR",qry:a+"qryOPR",page:a+"pageOPR",set:a+"setOPR",get:a+"getOPR",del:a+"delOPR"},Labor:{page:a+"pageLBR",qry:a+"qryLBR",qry2:a+"qry2LBR",set:a+"setLBR",get:a+"getLBR",del:a+"delLBR",snapshot:a+"snapshotLBR"},Machine:{page:a+"pageMAC",qry:a+"qryMAC",set:a+"setMAC",get:a+"getMAC",del:a+"delMAC",snapshot:a+"snapshotMAC"},MachineSpecification:{page:a+"pageMAS",qry:a+"qryMAS",set:a+"setMAS",get:a+"getMAS",del:a+"delMAS"},LeanProductionPlanning:{preview:a+"previewPQ",update:a+"updatePQ",snapshot:a+"snapshotPQ",del:a+"delPQ",cancel:a+"cancelPQ"},MaterialsAdjustment:{generate:a+"generateADJ"},ProductionClass:{page:a+"pageCLS",qry:a+"qryCLS",set:a+"setCLS",get:a+"getCLS",del:a+"delCLS",snapshot:a+"qryCLS"},ProductionStandard:{qry:a+"qrySTD",page:a+"pageSTD",set:a+"setSTD",get:a+"getSTD",del:a+"delSTD"},ProductionClassSemiFinished:{qry:a+"qryCSF",set:a+"setCSF",get:a+"getCSF",del:a+"delCSF",set2:a+"set2CSF"},RoutingSequence:{set2:a+"set2RTS",qry:a+"qryRTS"},Overhead:{qry:a+"qryOVH",set:a+"setOVH",get:a+"getOVH",del:a+"delOVH",page:a+"pageOVH",snapshot:a+"snapshotOVH"},Design:{qry:a+"qryDES",set:a+"setDES",get:a+"getDES",del:a+"delDES",snapshot:a+"snapshotDES",page:a+"pageDES"},MFJobOrder:{pack:a+"packJOB",qry:a+"qryJOB",qry2:a+"qryJOB2",set:a+"setJOB",get:a+"getJOB",get2:a+"get2JOB",del:a+"delJOB",snapshot:a+"snapshotJOB",snapshot2:a+"snapshotJOB2",snapshot3:a+"snapshotJOB3",cancel:a+"cancelJOB",post:a+"postJOB",start:a+"startJOB",stop:a+"stopJOB",wip:a+"wipJOB",sync:a+"syncJOB"},ProductionSheet:{page:a+"pagePST",qry:a+"qryPST",get:a+"getPST",set2:a+"set2PST",get2:a+"get2PST",del:a+"delPST",post:a+"postPST",unpost:a+"unpostPST",snapshot:a+"snapshotPST"},ProductionSheetItem:{qry:a+"qryPSI",set:a+"setPSI",get:a+"getPSI",del:a+"delPSI"},DocumentTypeDefault:{qry:a+"qryDTD",get:a+"getDTD",set:a+"setDTD",del:a+"delDTD",page:a+"pageDTD"},RawMaterialCategory:{qry:a+"qryRMC",get:a+"getRMC",set:a+"setRMC",del:a+"delRMC",page:a+"pageRMC"},WorksheetMaterials:{qry:a+"qryIMA",get:a+"getIMA",pack:a+"get2IMA",set:a+"setIMA",set2:a+"set2IMA",del:a+"delIMA",post:a+"postIMA"},ProductionSheetQueue:{qry:a+"qryPSQ"},Damage:{qry:a+"qryDMG",get:a+"getDMG",set:a+"setDMG",del:a+"delDMG",page:a+"pageDMG",snapshot:a+"snapshotDMG",post:a+"postDMG",get2:a+"get2DMG",set2:a+"set2DMG",preview:a+"previewDMG"},JobCategory:{qry:a+"qryJCA"},JobRouting:{qry:a+"qryJRO",get:a+"getJRO",set:a+"setJRO",set2:a+"set2JRO",del:a+"delJRO",sync:a+"syncJRO",close:a+"closeJRO",reopen:a+"reopenJRO"},Worksheet:{snapshot:a+"snapshotWST",get:a+"getWST",pack:a+"getPackWST",set:a+"setWST",del:a+"delWST",page:a+"pageWST",summary:a+"summaryWST",post:a+"postWST",qry2:a+"qryWST2",draft:a+"draftWST"},JobOverhead:{qry:a+"qryJOH",set2:a+"set2JOH",generate:a+"generateJOH"},JobMaterial:{qry:a+"qryJMA"},JobItemSize:{qry:a+"qryJSZ",set2:a+"set2JSZ"},MFSerial:{qry:a+"qrySRL",qry2:a+"qrySRL2",set2:a+"set2SRL",generate:a+"generateSRL"},SamplePack:{qry:a+"qrySPL",set2:a+"set2SPL"},DamageReturn:{get:a+"getDMR",set:a+"setDMR",del:a+"delDMR",page:a+"pageDMR",snapshot:a+"snapshotDMR",post:a+"postDMR"},ProductionOrder:{get2:a+"get2PO",set2:a+"set2PO",del:a+"delPO",page:a+"pagePO",snapshot:a+"snapshotPO",post:a+"postPO",gen:a+"genPO",close:a+"closePO"},BillOfMaterials:{get:a+"getBMA",qry2:a+"qry2BMA",set:a+"setBMA",del:a+"delBMA",page:a+"pageBMA",snapshot:a+"snapshotBMA"},Component:{get:a+"getBMI",qry:a+"qryBMI",del:a+"delBMI",set:a+"setBMI",set2:a+"set2BMI"},Assembly:{get:a+"getASM",set2:a+"set2ASM",del:a+"delASM",page:a+"pageASM",snapshot:a+"snapshotASM",post:a+"postASM",unpost:a+"unpostASM",generate:a+"genASM"},AssemblyItems:{qry:a+"qryASC"},AssemblyLot:{get:a+"getASL",set:a+"setASL"},AssemblyOverhead:{qry:a+"qryAOH",set2:a+"set2AOH"},MeasurementScheduleMap:{qry:a+"qryMSM",set:a+"setMSM",set2:a+"set2MSM",del:a+"delMSM"},JobCategory:{set:a+"setJCA",get:a+"getJCA",del:a+"delJCA",page:a+"pageJCA",qry:a+"qryJCA"},DesignGroup:{qry:a+"qryDEG",set:a+"setDEG",get:a+"getDEG",del:a+"delDEG",page:a+"pageDEG"},Components:{qry:a+"qryDEM",set2:a+"set2DEM"},DesignFamily:{qry:a+"qryDEF",set:a+"setDEF",get:a+"getDEF",del:a+"delDEF",page:a+"pageDEF"},ProductionShifts:{qry:a+"qrySHI",set:a+"setSHI",get:a+"getSHI",del:a+"delSHI",page:a+"pageSHI"},JobOrderWizard:{set2:a+"set2JOZ",get2:a+"get2JOZ",del:a+"delJOZ",page:a+"pageJOZ",snapshot:a+"snapshotJOZ",post:a+"postJOZ"},JobTransfer:{get2:a+"get2TFR",set2:a+"set2TFR",del:a+"delTFR",page:a+"pageTFR",snapshot:a+"snapshotTFR",post:a+"postTFR",close:a+"closeTFR",reopen:a+"reopenTFR",qry:a+"qryTFR"},JobWorkCenter:{qry:a+"qryJWC",close:a+"closeJWC",reopen:a+"reopenJWC",get:a+"getJWC",snapshot:a+"snapshotJWC",verify:a+"verifyJWC"},WorkCenterConsumption:{page:a+"pageCON",snapshot:a+"snapshotCON",del:a+"delCON",set2:a+"set2CON",get:a+"getCON",post:a+"postCON",unpost:a+"unpostCON",close:a+"closeCON",reopen:a+"reopenCON"},ConsumptionItemView:{qry:a+"qryCOI"},LineItemCapacity:{set2:a+"set2LIT",del:a+"delLIT",qry:a+"qryLIT",page:a+"pageLIT"},CostGroupOverhead:{set2:a+"set2CGV",qry:a+"qryCGV"},IssueOfMaterialDimension:{set:a+"setIMD",qry:a+"qryIMD"},JobOrder:{gen:a+"genORD"},RefreshPoItem:{refresh:a+"refreshPOI"},WorkCenterTransferMap:{qry:a+"qryWCTM",set2:a+"set2WCTM"},BatchWorksheet:{get2:a+"get2BWST",set2:a+"set2BWST",del:a+"delBWST",page:a+"pageBWST",snapshot:a+"snapshotBWST",post:a+"postBWST",gen:a+"genBWST",close:a+"closeBWST",reopen:a+"reopenBWST"},ProductionOrderFromSaleOrder:{gen:a+"generatePOFromSO"},BatchTransfer:{page:a+"pageBTFR",set2:a+"set2BTFR",del:a+"delBTFR",snapshot:a+"snapshotBTFR",get:a+"getBTFR",post:a+"postBTFR",unpost:a+"unpostBTFR"},BatchTransferJob:{qry:a+"qryBTFJ"},Disposal:{page:a+"pageDIS",snapshot:a+"snapshotDIS",get:a+"getDIS",set2:a+"set2DIS",del:a+"delDIS"},DisposalItem:{qry:a+"qryDII"},DisposalSerial:{qry:a+"qryDISRL"},MetalSetting:{page:a+"pageMTS",set:a+"setMTS",get:a+"getMTS",del:a+"delMTS"},DamageReason:{qry:a+"qryDRS",page:a+"pageDRS",set:a+"setDRS",get:a+"getDRS",del:a+"delDRS",snapshot:a+"snapshotDRS"},DamageCategory:{qry:a+"qryDCA",page:a+"pageDCA",set:a+"setDCA",get:a+"getDCA",del:a+"delDCA",snapshot:a+"snapshotDCA"}}},29326:function(e,t,s){"use strict";var a=s(52322);s(2784);var r=s(23925),n=s(13980),l=s.n(n),o=s(95291),d=s.n(o),i=s(65947);let c=e=>{var t,s,n;let{children:l,value:o,index:c,maxAccess:u,...p}=e,m="".concat(e.name||"tab",".").concat(c),{accessLevel:g}=null!==(n=(null!==(s=null==u?void 0:null===(t=u.record)||void 0===t?void 0:t.controls)&&void 0!==s?s:[]).find(e=>e.controlId===m))&&void 0!==n?n:{accessLevel:0};if(g===i.A1)return null;let y=o===c;return(0,a.jsx)(r.Z,{role:"tabpanel",hidden:!y,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c),className:"".concat(d().tabPanel," ").concat(y?d().active:d().hidden),...p,children:l})};c.propTypes={children:l().node,index:l().number.isRequired,value:l().number.isRequired},t.Z=c},9522:function(e,t,s){"use strict";s.d(t,{Y:function(){return p}});var a=s(52322),r=s(23925),n=s(54582),l=s(68696),o=s(44258),d=s(2784),i=s(99266),c=s(52614),u=s.n(c);let p=e=>{var t,s,c,p,m;let{tabs:g,activeTab:y,setActiveTab:h,maxAccess:v,name:q="tab"}=e,C=(null==v?void 0:null===(s=v.record)||void 0===s?void 0:null===(t=s.controls)||void 0===t?void 0:t.filter(e=>{var t;return 4===e.accessLevel&&(null===(t=e.controlId)||void 0===t?void 0:t.startsWith("".concat(q,".")))}).map(e=>e.controlId.split(".")[1]))||[],x=null==g?void 0:null===(c=g.map((e,t)=>({...e,id:t})))||void 0===c?void 0:c.filter((e,t)=>!C.includes(String(t))),I=null===(p=x[y])||void 0===p?void 0:p.id,S=null===(m=x[y])||void 0===m?void 0:m.disabled;return(0,d.useEffect)(()=>{I>=0&&!S&&y!=I&&h(I)},[]),(0,a.jsx)(r.Z,{className:u().tabsContainer,children:(0,a.jsx)(r.Z,{className:u().tabsWrapper,children:(0,a.jsx)(n.Z,{value:y,onChange:(e,t)=>h(t),variant:"scrollable",scrollButtons:x.length>3?"auto":"off","aria-label":"scrollable tabs",classes:{indicator:u().tabsIndicator},className:u().tabs,children:null==x?void 0:x.map(e=>(0,a.jsx)(l.Z,{value:e.id,disabled:null==e?void 0:e.disabled,className:"".concat(u().tabName," ").concat(e.disabled?u().tabDisabled:""),classes:{root:u().tabRoot,selected:u().selectedTab},label:(0,a.jsxs)(r.Z,{display:"flex",alignItems:"center",children:[(0,a.jsx)("span",{children:e.label}),e.id===y&&(null==e?void 0:e.onRefetch)&&(0,a.jsx)(o.Z,{size:"small",className:u().refreshButton,onClick:t=>{t.stopPropagation(),e.onRefetch()},children:(0,a.jsx)(i.Z,{className:u().refreshIcon})})]})},e.id))})})})}},95291:function(e){e.exports={tabPanel:"CustomTabPanel_tabPanel__80Dfu",active:"CustomTabPanel_active___6Uvb",hidden:"CustomTabPanel_hidden__y9566"}},52614:function(e){e.exports={customTabPanel:"CustomTabs_customTabPanel__Ztocv",hidden:"CustomTabs_hidden__lZpM7",tabsContainer:"CustomTabs_tabsContainer__28Syi",tabsWrapper:"CustomTabs_tabsWrapper__mlxxj",tabs:"CustomTabs_tabs__25pli",tabName:"CustomTabs_tabName__XzMCn",tabRoot:"CustomTabs_tabRoot__WVR1E",tabDisabled:"CustomTabs_tabDisabled__VauYR",selectedTab:"CustomTabs_selectedTab__sZzwF",tabsIndicator:"CustomTabs_tabsIndicator__89Lek",refreshButton:"CustomTabs_refreshButton__P2mzl",refreshIcon:"CustomTabs_refreshIcon__ADVWF"}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=42420)}),_N_E=e.O()}]);