(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31591],{10264:function(e){var a;a=function(){"use strict";var e="minute",a=/[+-]\d\d(?::?\d\d)?/g,t=/([+-]|\d\d)/g;return function(l,i,n){var r=i.prototype;n.utc=function(e){var a={date:e,utc:!0,args:arguments};return new i(a)},r.utc=function(a){var t=n(this.toDate(),{locale:this.$L,utc:!0});return a?t.add(this.utcOffset(),e):t},r.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var d=r.parse;r.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),d.call(this,e)};var o=r.init;r.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else o.call(this)};var u=r.utcOffset;r.utcOffset=function(l,i){var n=this.$utils().u;if(n(l))return this.$u?0:n(this.$offset)?u.call(this):this.$offset;if("string"==typeof l&&null===(l=function(e){void 0===e&&(e="");var l=e.match(a);if(!l)return null;var i=(""+l[0]).match(t)||["-",0,0],n=i[0],r=60*+i[1]+ +i[2];return 0===r?0:"+"===n?r:-r}(l)))return this;var r=16>=Math.abs(l)?60*l:l;if(0===r)return this.utc(i);var d=this.clone();if(i)return d.$offset=r,d.$u=!1,d;var o=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(d=this.local().add(r+o,e)).$offset=r,d.$x.$localOffset=o,d};var s=r.format;r.format=function(e){var a=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,a)},r.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var c=r.toDate;r.toDate=function(e){return"s"===e&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var m=r.diff;r.diff=function(e,a,t){if(e&&this.$u===e.$u)return m.call(this,e,a,t);var l=this.local(),i=n(e).local();return m.call(l,i,a,t)}}},e.exports=a()},14370:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr-time-variations",function(){return t(42038)}])},42038:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return E}});var l=t(52322),i=t(2784),n=t(69387),r=t(65950),d=t(26612),o=t(71987),u=t(61802),s=t(31389),c=t(33625),m=t(62362),v=t(36908),f=t(6035),h=t(23925),p=t(44258),x=t(96577),A=t.n(x),y={src:"/_next/static/media/editTime.bb8eec7f.png",height:408,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAKlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKE86IAAAADnRSTlONAU1hFXwfO/1v076amwGyeKUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAwSURBVHicFcbJEcAgEASxnr0Bk3+6lPUSOdtsEUx+p6vh7MnVgropQyB5qOyP4U48G2EA0CKvFK4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:6},C=t(19473),g=t(60218),I=t(8661),k=t(48601),F=t(62202),V=t(80983),D=t(21581),S=t(27423),j=t(92407),w=t(89330),T=t(84100),Z=t(39812),b=t(28879),O=t.n(b),N=t(10264),$=t.n(N),_=t(3191),R=t(54074),M=t(70104),q=t(93883);function Y(e){var a;let{labels:t,maxAccess:n,recordId:d,window:u}=e,{getRequest:c,postRequest:v}=(0,i.useContext)(r.$),{platformLabels:h}=(0,i.useContext)(C.l),p=(0,i.useRef)([]);O().extend($());let x=(0,o.E)({endpointId:f.f.TimeVariation.page}),{formik:A}=(0,V.c)({maxAccess:n,initialValues:{recordId:d,date:null,employeeId:null,shiftId:null,dataSource:2,timeCode:null,punches:"",releaseStatus:null,clockStamp:null,inOut:null,udId:null,branchId:null},validationSchema:k.Ry({employeeId:k.Rx().required(),date:k.hT().required(),timeCode:k.Rx().required(),branchId:k.Rx().required(),udId:k.Rx().required(),shiftId:k.Rx().required(),inOut:k.Rx().required(),clockStamp:k.hT().required()}),onSubmit:async e=>{await v({extension:f.f.TimeVariation.override,record:JSON.stringify({...e,date:(0,Z.ku)(e.date),clockStamp:e.clockStamp?(0,Z.ku)(e.clockStamp):null})}),F.ZP.success(h.Edited),x(),u.close()}}),y=e=>new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());async function b(e,a){var t;let{list:l}=await c({extension:f.f.FlatSchedule.qry,parameters:"_params=1|"+e+"^2|"+O()(a).format("YYYYMMDD")+"^3|"+O()(a).format("YYYYMMDD")}),i=null==l?void 0:l.map(e=>{let a=O().utc((0,Z.a1)(e.dtFrom)).format("hh:mm A"),t=O().utc((0,Z.a1)(e.dtTo)).format("hh:mm A");return{...e,dtRange:"".concat(a," - ").concat(t)}});if(p.current=i||[],!(null==i?void 0:i.length))return;let{recordId:n,dtTo:r,dtFrom:d}=i[0];(null===(t=A.values)||void 0===t?void 0:t.timeCode)!=20&&(A.setFieldValue("shiftId",n),A.setFieldValue("dtTo",r?y((0,Z.a1)(r)):null),A.setFieldValue("dtFrom",d?y((0,Z.a1)(d)):null))}return(0,i.useEffect)(()=>{!async function(){if(d){var e,a,t,l,i,n,r,o,u;let s="",m=await c({extension:f.f.TimeVariation.get,parameters:"_recordId=".concat(d)}),v=await c({extension:f.f.FlatPunch.qry,parameters:"_date=".concat(null==m?void 0:null===(e=m.record)||void 0===e?void 0:e.dayId,"&_employeeId=").concat(null==m?void 0:null===(a=m.record)||void 0===a?void 0:a.employeeId,"&_sortBy=clockStamp&_shiftId=0&_size=50&_startAt=0")});null==v||null===(t=v.list)||void 0===t||t.map(e=>{s=O().utc((0,Z.a1)(e.clockStamp)).format("DD/MM/YYYY HH:mm").toString()+"\n"}),A.setValues({...m.record,date:(0,Z.a1)(null==m?void 0:null===(l=m.record)||void 0===l?void 0:l.date),punches:s,udId:(null==m?void 0:null===(i=m.record)||void 0===i?void 0:i.udId)||null,inOut:(null==m?void 0:null===(n=m.record)||void 0===n?void 0:n.inOut)||null,clockStamp:(null==m?void 0:null===(r=m.record)||void 0===r?void 0:r.clockStamp)?y((0,Z.a1)(null==m?void 0:m.record.clockStamp)):null}),b(null==m?void 0:null===(o=m.record)||void 0===o?void 0:o.employeeId,(0,Z.a1)(null==m?void 0:null===(u=m.record)||void 0===u?void 0:u.date))}}()},[]),(0,l.jsx)(R.Z,{onSave:A.handleSubmit,maxAccess:n,children:(0,l.jsx)(s.R,{children:(0,l.jsx)(m.Q,{children:(0,l.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,l.jsx)(g.ZP,{item:!0,xs:12,children:(0,l.jsx)(S.U,{endpointId:j.y.Employee.snapshot,parameters:{_branchId:0},valueField:"reference",displayField:"fullName",name:"employeeId",required:!0,readOnly:!0,label:t.employee,form:A,displayFieldWidth:2,valueShow:"employeeRef",secondValueShow:"employeeName",columnsInDropDown:[{key:"reference",value:"Reference"},{key:"fullName",value:"Name"}],maxAccess:n,onChange:(e,a)=>{A.setFieldValue("employeeRef",(null==a?void 0:a.reference)||""),A.setFieldValue("employeeName",(null==a?void 0:a.fullName)||""),A.setFieldValue("employeeId",(null==a?void 0:a.recordId)||null)},errorCheck:"employeeId"})}),(0,l.jsx)(g.ZP,{item:!0,xs:12,children:(0,l.jsx)(w.Z,{name:"date",required:!0,readOnly:!0,label:t.date,value:null===(a=A.values)||void 0===a?void 0:a.date,onChange:A.setFieldValue,onClear:()=>A.setFieldValue("date",null),error:A.touched.date&&!!A.errors.date,maxAccess:n})}),(0,l.jsx)(g.ZP,{item:!0,xs:12,children:(0,l.jsx)(_.Z,{name:"shiftId",label:t.shift,valueField:"recordId",displayField:"dtRange",required:!0,store:null==p?void 0:p.current,value:A.values.shiftId,onChange:(e,a)=>A.setFieldValue("shiftId",(null==a?void 0:a.recordId)||null),error:A.touched.shiftId&&!!A.errors.shiftId,maxAccess:n})}),(0,l.jsx)(g.ZP,{item:!0,xs:12,children:(0,l.jsx)(D.Z,{name:"punches",label:t.punches,value:A.values.punches,rows:2,readOnly:!0,maxAccess:n,onChange:A.handleChange,onClear:()=>A.setFieldValue("punches",""),error:A.touched.punches&&!!A.errors.punches})}),(0,l.jsx)(g.ZP,{item:!0,xs:12,children:(0,l.jsx)(I.Z,{datasetId:T.v.TIME_CODE,name:"timeCode",label:t.timeCode,valueField:"key",displayField:"value",required:!0,readOnly:!0,values:A.values,maxAccess:n,onChange:(e,a)=>A.setFieldValue("timeCode",(null==a?void 0:a.key)||null),error:A.touched.timeCode&&!!A.errors.timeCode})}),(0,l.jsx)(g.ZP,{item:!0,xs:12,children:(0,l.jsx)(I.Z,{endpointId:M.K.BranchFilters.qry,name:"branchId",label:t.branch,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],required:!0,maxAccess:n,values:A.values,onChange:(e,a)=>A.setFieldValue("branchId",(null==a?void 0:a.recordId)||null),error:A.touched.branchId&&!!A.errors.branchId})}),(0,l.jsx)(g.ZP,{item:!0,xs:12,children:(0,l.jsx)(I.Z,{endpointId:f.f.BiometricDevices.qry,name:"udId",label:t.biometricDevice,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],required:!0,maxAccess:n,values:A.values,onChange:(e,a)=>A.setFieldValue("udId",(null==a?void 0:a.recordId)||null),error:A.touched.udId&&!!A.errors.udId})}),(0,l.jsx)(g.ZP,{item:!0,xs:12,children:(0,l.jsx)(I.Z,{datasetId:T.v.CHECK_IN_OUT,name:"inOut",label:t.checkType,valueField:"key",displayField:"value",values:A.values,maxAccess:n,required:!0,onChange:(e,a)=>{let{dtFrom:t,dtTo:l}=A.values;A.setFieldValue("clockStamp",(null==a?void 0:a.key)==1?t:(null==a?void 0:a.key)==2?l:null),A.setFieldValue("inOut",(null==a?void 0:a.key)||null)},error:A.touched.inOut&&!!A.errors.inOut})}),(0,l.jsx)(g.ZP,{item:!0,xs:12,children:(0,l.jsx)(q.Z,{name:"clockStamp",label:t.clockStamp,value:A.values.clockStamp,onChange:A.setFieldValue,maxAccess:n,formatTime:"HH:mm",required:!0,onClear:()=>A.setFieldValue("clockStamp",null),error:A.touched.clockStamp&&!!A.errors.clockStamp})})]})})})})}var P=t(86557);function E(){let{getRequest:e}=(0,i.useContext)(r.$),{stack:a}=(0,u.zY)(),{platformLabels:t}=(0,i.useContext)(C.l),{query:{data:x},labels:g,filterBy:I,paginationParameters:k,access:F,refetch:V}=(0,o.J)({queryFn:S,endpointId:f.f.TimeVariation.page,datasetId:d.i.TimeVariation,filter:{filterFn:D}});async function D(e){let{filters:a,pagination:t}=e;return S({_startAt:t._startAt||0,params:null==a?void 0:a.params})}async function S(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:l=50,params:i}=a,n=await e({extension:f.f.TimeVariation.page,parameters:"_startAt=".concat(t,"&_size=").concat(l,"&_sortBy=recordId&_params=").concat(i||"")});return n.list=((null==n?void 0:n.list)||[]).map(e=>({...e,clockDuration:function(e){if(0==e)return"00:00";let a=Math.abs(e),t=String(Math.floor(a/60)).padStart(2,"0"),l=String(a%60).padStart(2,"0");return(e<0?"-":"")+"".concat(t,":").concat(l)}(null==e?void 0:e.duration)})),{...n,_startAt:t}}let j=[{field:"reference",headerName:g.reference,flex:1},{field:"date",headerName:g.date,flex:1,type:"date"},{field:"employeeName",headerName:g.name,flex:1},{field:"timeName",headerName:g.timeCode,flex:1},{field:"clockDuration",headerName:g.clockDuration,flex:1},{field:"duration",headerName:g.duration,flex:1,type:"number"},{field:"damageLevelName",headerName:g.damage,flex:1},{field:"statusName",headerName:g.status,flex:1},{field:"rsName",headerName:g.releaseStatus,flex:1},{field:"wipName",headerName:g.wip,flex:1},{field:"",flex:.6,cellRenderer:e=>{var i,n;return(0,l.jsx)(h.Z,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:(0,l.jsx)(p.Z,{size:"small",onClick:()=>{var t;a({Component:Y,props:{recordId:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.recordId,labels:g,maxAccess:F},height:550,width:500,title:g.overrideTimeVariations})},children:[20,21,41].includes(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.timeCode)&&(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.status)!=-1&&(0,l.jsx)(A(),{src:y,alt:t.History,width:18,height:18})})})}}];function w(e){a({Component:P.Z,props:{recordId:e}})}return(0,l.jsxs)(s.R,{children:[(0,l.jsx)(c.g,{children:(0,l.jsx)(v.Z,{onAdd:()=>{w()},maxAccess:F,reportName:"TATV",filterBy:I,hasSearch:!1})}),(0,l.jsx)(m.Q,{children:(0,l.jsx)(n.Z,{name:"table",columns:j,gridData:x,rowId:["recordId"],paginationParameters:k,paginationType:"api",refetch:V,onEdit:e=>{w(null==e?void 0:e.recordId)},pageSize:50,maxAccess:F})})]})}},86557:function(e,a,t){"use strict";t.d(a,{Z:function(){return N}});var l=t(52322),i=t(60218),n=t(5088),r=t(8661),d=t(82737),o=t(26612),u=t(65950),s=t(2784),c=t(48601),m=t(62202),v=t(71987),f=t(80983),h=t(19473),p=t(21581),x=t(6035),A=t(50023),y=t(21326),C=t(62362),g=t(31389),I=t(27423),k=t(92407),F=t(89330),V=t(84100),D=t(91406),S=t(39812),j=t(28879),w=t.n(j),T=t(10264),Z=t.n(T),b=t(3191),O=t(7121);function N(e){var a,t,j,T,N,$;let{recordId:_,window:R}=e,{getRequest:M,postRequest:q}=(0,s.useContext)(u.$),{platformLabels:Y}=(0,s.useContext)(h.l),P=(0,s.useRef)([]);w().extend(Z());let{labels:E,access:U}=(0,A.Z)({datasetId:o.i.TimeVariation,editMode:!!_});(0,y.Z)({title:null==E?void 0:E.timeVariation,window:R});let H=(0,v.E)({endpointId:x.f.TimeVariation.page}),{formik:L}=(0,f.c)({maxAccess:U,initialValues:{recordId:_,reference:"",date:new Date,employeeId:null,dataSource:2,timeCode:20,clockDuration:X(0),duration:0,damageLevel:null,justification:"",releaseStatus:null,wip:1,status:1},validationSchema:c.Ry({employeeId:c.Rx().required(),date:c.hT().required(),timeCode:c.Rx().required(),damageLevel:c.Rx().required()}),onSubmit:async e=>{await q({extension:x.f.TimeVariation.gen,record:JSON.stringify({...e,clockDuration:0,date:(0,S.ku)(e.date)})}),m.ZP.success(e.recordId?Y.Edited:Y.Added),H(),R.close()}}),B=!!L.values.recordId,J=2==L.values.wip,K=-1==L.values.status,z=[{key:"Approval",condition:!0,onClick:"onApproval",disabled:!J},{key:"Close",condition:!J,onClick:"onCloseConfirmation",action:Q,disabled:K||J||!B},{key:"Reopen",condition:J,onClick:"onOpenConfirmation",action:G,disabled:K||!J||!B},{key:"Cancel",condition:!0,onClick:W,disabled:!B||J||K}];async function Q(){var e;let a=await q({extension:x.f.TimeVariation.close,record:JSON.stringify({...L.values,date:(0,S.ku)(null===(e=L.values)||void 0===e?void 0:e.date),clockDuration:0})});m.ZP.success(Y.Closed),H(),en(a.recordId)}async function G(){var e;let a=await q({extension:x.f.TimeVariation.reopen,record:JSON.stringify({...L.values,date:(0,S.ku)(null===(e=L.values)||void 0===e?void 0:e.date),clockDuration:0})});m.ZP.success(Y.Reopened),H(),en(a.recordId)}async function W(){var e;let a=await q({extension:x.f.TimeVariation.cancel,record:JSON.stringify({...L.values,date:(0,S.ku)(null===(e=L.values)||void 0===e?void 0:e.date),clockDuration:0})});m.ZP.success(Y.Cancelled),H(),en(a.recordId)}function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0==e)return"00:00";let a=Math.abs(e),t=String(Math.floor(a/60)).padStart(2,"0"),l=String(a%60).padStart(2,"0");return(e<0?"-":"")+"".concat(t,":").concat(l)}async function ee(e,a){let{list:t}=await M({extension:x.f.FlatSchedule.qry,parameters:"_params=1|"+e+"^2|"+w()(a).format("YYYYMMDD")+"^3|"+w()(a).format("YYYYMMDD")}),l=null==t?void 0:t.map(e=>{let a=w().utc((0,S.a1)(e.dtFrom)).format("hh:mm A"),t=w().utc((0,S.a1)(e.dtTo)).format("hh:mm A");return{...e,dtRange:"".concat(a," - ").concat(t)}});return P.current=l||[],l||[]}async function ea(e,a,t){if(!e){el();return}let l=await ee(e,a);if(!(null==l?void 0:l.length)){el();return}let{recordId:i,duration:n}=l[0];20!=t&&(L.setFieldValue("shiftId",i),L.setFieldValue("duration",n),L.setFieldValue("clockDuration",X(n)))}async function et(e){var a;if(!e){L.setFieldValue("terminationDate",null);return}let t=await M({extension:k.y.QuickView.get,parameters:"_recordId=".concat(e,"&_asOfDate=").concat((0,S.uQ)(new Date))});L.setFieldValue("terminationDate",(null==t?void 0:null===(a=t.record)||void 0===a?void 0:a.terminationDate)||null)}function el(){L.setFieldValue("shiftId",null),L.setFieldValue("duration",0),L.setFieldValue("clockDuration",X(0))}async function ei(e){if(e)return await M({extension:x.f.TimeVariation.get,parameters:"_recordId=".concat(e)})}async function en(e){var a,t;let l=await ei(e);L.setValues({...l.record,date:(0,S.a1)(null==l?void 0:null===(a=l.record)||void 0===a?void 0:a.date),clockDuration:X(null==l?void 0:null===(t=l.record)||void 0===t?void 0:t.duration)})}return(0,s.useEffect)(()=>{!async function(){if(_){var e,a,t,l;let i=await ei(_);await ee(null==i?void 0:null===(e=i.record)||void 0===e?void 0:e.employeeId,(0,S.a1)(null==i?void 0:null===(a=i.record)||void 0===a?void 0:a.date)),L.setValues({...i.record,date:(0,S.a1)(null==i?void 0:null===(t=i.record)||void 0===t?void 0:t.date),clockDuration:X(null==i?void 0:null===(l=i.record)||void 0===l?void 0:l.duration)})}}()},[]),(0,l.jsx)(d.Z,{form:L,resourceId:o.i.TimeVariation,maxAccess:U,editMode:B,actions:z,isCleared:!1,functionId:O.J.TimeVariation,disabledSubmit:K||J,children:(0,l.jsx)(g.R,{children:(0,l.jsx)(C.Q,{children:(0,l.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{name:"reference",label:null==E?void 0:E.reference,value:null===(a=L.values)||void 0===a?void 0:a.reference,readOnly:!0,maxAccess:U,onChange:L.handleChange,onClear:()=>L.setFieldValue("reference",""),error:L.touched.reference&&!!L.errors.reference})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsx)(I.U,{endpointId:k.y.Employee.snapshot,parameters:{_branchId:0},valueField:"reference",displayField:"fullName",name:"employeeId",required:!0,readOnly:K||J,label:E.employee,form:L,displayFieldWidth:2,valueShow:"employeeRef",secondValueShow:"employeeName",columnsInDropDown:[{key:"reference",value:"Reference"},{key:"fullName",value:"Name"}],maxAccess:U,onChange:async(e,a)=>{await ea(null==a?void 0:a.recordId,L.values.date,L.values.timeCode),await et(null==a?void 0:a.recordId),L.setFieldValue("employeeRef",(null==a?void 0:a.reference)||""),L.setFieldValue("employeeName",(null==a?void 0:a.fullName)||""),L.setFieldValue("employeeId",(null==a?void 0:a.recordId)||null)},errorCheck:"employeeId"})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsx)(F.Z,{name:"date",required:!0,label:E.date,value:null===(t=L.values)||void 0===t?void 0:t.date,onChange:async(e,a)=>{var t,l;await ea(null===(t=L.values)||void 0===t?void 0:t.employeeId,a,null===(l=L.values)||void 0===l?void 0:l.timeCode),L.setFieldValue("date",a)},onClear:()=>{el(),L.setFieldValue("date",null)},error:L.touched.date&&!!L.errors.date,maxAccess:U,readOnly:K||J})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsx)(r.Z,{datasetId:V.v.TIME_CODE,name:"timeCode",readOnly:K||B,label:E.timeCode,valueField:"key",displayField:"value",required:!0,values:L.values,maxAccess:U,onChange:async(e,a)=>{var t,l;a&&(null==a?void 0:a.key)!=20||el(),await ea(null===(t=L.values)||void 0===t?void 0:t.employeeId,null===(l=L.values)||void 0===l?void 0:l.date,null==a?void 0:a.key),L.setFieldValue("timeCode",(null==a?void 0:a.key)||null)},error:L.touched.timeCode&&!!L.errors.timeCode})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsx)(b.Z,{name:"shiftId",label:E.shift,valueField:"recordId",displayField:"dtRange",store:null==P?void 0:P.current,value:L.values.shiftId,readOnly:K||J||(null===(j=L.values)||void 0===j?void 0:j.timeCode)==20,onChange:(e,a)=>L.setFieldValue("shiftId",(null==a?void 0:a.recordId)||null),error:L.touched.shiftId&&!!L.errors.shiftId,maxAccess:U})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{name:"clockDuration",label:null==E?void 0:E.clockDuration,value:null===(T=L.values)||void 0===T?void 0:T.clockDuration,readOnly:!0,onChange:L.handleChange,onClear:()=>L.setFieldValue("clockDuration",X(0)),error:L.touched.clockDuration&&!!L.errors.clockDuration,maxAccess:U})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsx)(D.Z,{name:"duration",label:E.duration,value:L.values.duration,maxAccess:U,readOnly:K||J||(null===(N=L.values)||void 0===N?void 0:N.timeCode)==20||(null===($=L.values)||void 0===$?void 0:$.timeCode)==21,min:20==L.values.timeCode||21==L.values.timeCode?0:1,onChange:L.handleChange,onClear:()=>L.setFieldValue("duration",null),error:L.touched.duration&&!!L.errors.duration})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsx)(r.Z,{name:"damageLevel",label:E.damage,datasetId:V.v.DAMAGE_LEVEL,values:L.values,valueField:"key",displayField:"value",required:!0,readOnly:K||J,maxAccess:U,onChange:(e,a)=>L.setFieldValue("damageLevel",(null==a?void 0:a.key)||null),error:L.touched.damageLevel&&!!L.errors.damageLevel})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsx)(p.Z,{name:"justification",label:E.justification,value:L.values.justification,rows:2,readOnly:K||J,maxAccess:U,onChange:L.handleChange,onClear:()=>L.setFieldValue("justification",""),error:L.touched.justification&&!!L.errors.justification})})]})})})})}N.width=550,N.height=550}},function(e){e.O(0,[92515,2494,36908,49774,92888,40179],function(){return e(e.s=14370)}),_N_E=e.O()}]);