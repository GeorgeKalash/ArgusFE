(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43194],{68897:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ta-biometric-devices",function(){return n(74886)}])},74886:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return F}});var i=n(52322),t=n(2784),a=n(62202),s=n(69387),c=n(65950),d=n(71987),l=n(33625),o=n(62362),u=n(31389),m=n(26612),y=n(19473),g=n(61802),h=n(6035),p=n(60218),f=n(48601),q=n(82737),v=n(8661),x=n(5088),I=n(70104),P=n(80983);function D(e){let{labels:r,maxAccess:n,recordId:s}=e,{platformLabels:l}=(0,t.useContext)(y.l),{getRequest:g,postRequest:D}=(0,t.useContext)(c.$),T=(0,d.E)({endpointId:h.f.BiometricDevices.page}),{formik:F}=(0,P.c)({initialValues:{recordId:null,reference:"",name:"",divisionId:null,branchId:null},validateOnChange:!0,validationSchema:f.Ry({reference:f.Z_().required(),name:f.Z_().required(),branchId:f.Rx().required()}),onSubmit:async e=>{let r=await D({extension:h.f.BiometricDevices.set,record:JSON.stringify(e)});a.ZP.success(e.recordId?l.Edited:l.Added),F.setFieldValue("recordId",null==r?void 0:r.recordId),T()}}),S=!!F.values.recordId;return(0,t.useEffect)(()=>{!async function(){if(s){let e=await g({extension:h.f.BiometricDevices.get,parameters:"_recordId=".concat(s)});F.setValues({...e.record})}}()},[]),(0,i.jsx)(q.Z,{resourceId:m.i.BiometricDevices,form:F,maxAccess:n,editMode:S,children:(0,i.jsx)(u.R,{children:(0,i.jsx)(o.Q,{children:(0,i.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(p.ZP,{item:!0,xs:12,children:(0,i.jsx)(x.Z,{name:"reference",label:r.reference,value:F.values.reference,required:!0,maxAccess:n,maxLength:"20",onChange:F.handleChange,onClear:()=>F.setFieldValue("reference",""),error:F.touched.reference&&!!F.errors.reference})}),(0,i.jsx)(p.ZP,{item:!0,xs:12,children:(0,i.jsx)(x.Z,{name:"name",label:r.name,value:F.values.name,maxLength:"30",required:!0,maxAccess:n,onChange:F.handleChange,onClear:()=>F.setFieldValue("name",""),error:F.touched.name&&!!F.errors.name})}),(0,i.jsx)(p.ZP,{item:!0,xs:12,children:(0,i.jsx)(v.Z,{endpointId:I.K.DivisionFilters.qry,name:"divisionId",label:r.division,valueField:"recordId",displayField:"name",maxAccess:n,values:F.values,onChange:(e,r)=>{F.setFieldValue("divisionId",(null==r?void 0:r.recordId)||null)},error:F.touched.divisionId&&!!F.errors.divisionId})}),(0,i.jsx)(p.ZP,{item:!0,xs:12,children:(0,i.jsx)(v.Z,{endpointId:I.K.BranchFilters.qry,name:"branchId",label:r.branch,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],values:F.values,maxAccess:n,onChange:(e,r)=>{F.setFieldValue("branchId",(null==r?void 0:r.recordId)||null)},required:!0,error:F.touched.branchId&&!!F.errors.branchId})})]})})})})}var T=n(27723);n(38449);var F=()=>{let{getRequest:e,postRequest:r}=(0,t.useContext)(c.$),{platformLabels:n}=(0,t.useContext)(y.l),{stack:p}=(0,g.zY)();async function f(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:n=0,_pageSize:i=50,params:t=[]}=r;return{...await e({extension:h.f.BiometricDevices.page,parameters:"_startAt=".concat(n,"&_pageSize=").concat(i,"&_filter=&_params=").concat(t||"")}),_startAt:n}}let{query:{data:q},labels:v,access:x,paginationParameters:I,refetch:P,invalidate:F}=(0,d.J)({queryFn:f,endpointId:h.f.BiometricDevices.page,datasetId:m.i.BiometricDevices}),S=[{field:"reference",headerName:v.reference,flex:1},{field:"name",headerName:v.name,flex:1}];function C(e){p({Component:D,props:{labels:v,recordId:e,maxAccess:x},width:600,height:400,title:v.BiometricDevice})}let V=async e=>{await r({extension:h.f.BiometricDevices.del,record:JSON.stringify(e)}),F(),a.ZP.success(n.Deleted)};return(0,i.jsxs)(u.R,{children:[(0,i.jsx)(l.g,{children:(0,i.jsx)(T.Z,{onAdd:()=>{C()},maxAccess:x})}),(0,i.jsx)(o.Q,{children:(0,i.jsx)(s.Z,{columns:S,gridData:q,rowId:["recordId"],paginationParameters:I,paginationType:"api",refetch:P,onEdit:e=>{C(null==e?void 0:e.recordId)},onDelete:V,pageSize:50,maxAccess:x})})]})}},6035:function(e,r,n){"use strict";n.d(r,{f:function(){return t}});let i="TA.asmx/",t={AttendanceScheduleFilters:{qry:i+"qrySD"},ProcessedShiftPunches:{retry:i+"retryPSP"},OvertimeProfiles:{page:i+"pageOTP",set:i+"setOTP",get:i+"getOTP",del:i+"delOTP",qry:i+"qryOTP"},PendingPunches:{page:i+"pagePP",del:i+"delPP",qry:i+"qryPP"},BiometricDevices:{page:i+"pageBM",qry:i+"qryBM",del:i+"delBM",set:i+"setBM",get:i+"getBM"},DSLReasons:{page:i+"pageLR",set:i+"setLR",get:i+"getLR",del:i+"delLR"},TimeVariation:{reset:i+"resetTV",qry:i+"qryTV",qry2:i+"qryTV2",snapshot:i+"snapshotTV",page:i+"pageTV",get:i+"getTV",set:i+"setTV",del:i+"delTV",gen:i+"genTV",close:i+"closeTV",reopen:i+"reopenTV",cancel:i+"cancelTV",override:i+"overrideTV"},ShitLeave:{page:i+"pageLQ",set:i+"setLQ",get:i+"getLQ",del:i+"delLQ",close:i+"closeLQ",reopen:i+"reopenLQ"},FlatSchedule:{qry:i+"qryFS",qry2:i+"qryFS2",copyRange:i+"copyRangeFS",range:i+"rangeFS",del:i+"delRangeFS"},DSLReason:{qry:i+"qryLR"},Calendar:{qry:i+"qryCA"},DayTypes:{page:i+"pageDT",qry:i+"qryDT",set:i+"setDT",get:i+"getDT",del:i+"delDT"},AttendanceDay:{qry:i+"qryAD"},Schedule:{qry:i+"qrySC"},FlatPunch:{qry:i+"qryFP"}}},70104:function(e,r,n){"use strict";n.d(r,{K:function(){return t}});let i="CS.asmx/",t={DivisionFilters:{qry:i+"qryDI"},BranchFilters:{qry:i+"qryBR"},CompanyPositions:{qry:i+"qryPO"},DepartmentFilters:{qry:i+"qryDE"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=68897)}),_N_E=e.O()}]);