(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33071],{87910:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fi-dimensions",function(){return i(54107)}])},54107:function(n,e,i){"use strict";i.r(e),i.d(e,{default:function(){return f}});var t=i(52322),a=i(2784),s=i(60218),o=i(62202),r=i(5088),l=i(65950),u=i(38449),m=i(26612),c=i(71987),p=i(48601),D=i(80983),d=i(31389),h=i(62362),x=i(54074),C=i(93542),f=()=>{let{getRequest:n,postRequest:e}=(0,a.useContext)(l.$),[i,f]=(0,a.useState)(null),{formik:v}=(0,D.c)({initialValues:{DimCount:"",tpaDimension1:"",tpaDimension2:"",tpaDimension3:"",tpaDimension4:"",tpaDimension5:"",tpaDimension6:"",tpaDimension7:"",tpaDimension8:"",tpaDimension9:"",tpaDimension10:"",tpaDimension11:"",tpaDimension12:"",tpaDimension13:"",tpaDimension14:"",tpaDimension15:"",tpaDimension16:"",tpaDimension17:"",tpaDimension18:"",tpaDimension19:"",tpaDimension20:""},validateOnChange:!0,validationSchema:p.Ry({DimCount:p.Rx().nullable().required("Dim Count is required").min(1).max(20),...Object.fromEntries(Array.from({length:20},(n,e)=>e+1).map(n=>["tpaDimension".concat(n),p.Z_().nullable().test("is-tpaDimension".concat(n,"-required"),"Dimension ".concat(n," is required"),function(e){let{DimCount:i}=this.parent;return!(i>=n)||!!e})]))}),onSubmit:async n=>{await _(n)}});(0,a.useEffect)(()=>{y()},[]);let y=()=>{let e={};n({extension:u.r.Defaults.qry,parameters:"_filter="}).then(n=>{n.list.filter(n=>Object.keys(v.values).includes(n.key)).forEach(n=>{n.value&&!isNaN(n.value)&&""!==n.value.trim()?e[n.key]=parseInt(n.value):e[n.key]=n.value}),v.setValues(e)})},{labels:g,access:j}=(0,c.J)({datasetId:m.i.FI_dimensions}),_=async n=>{var i=[{key:"DimCount",value:n.DimCount}];for(let e=1;e<=20;e++){let t="tpaDimension".concat(e);void 0!==n[t]&&i.push({key:t,value:n[t]})}await e({extension:u.r.Defaults.set,record:JSON.stringify({sysDefaults:i})}).then(()=>{o.ZP.success("Record Successfully Updated")})};return(0,t.jsx)(x.Z,{onSave:v.handleSubmit,maxAccess:j,children:(0,t.jsx)(d.R,{children:(0,t.jsx)(h.Q,{children:(0,t.jsxs)(s.ZP,{container:!0,spacing:2,xs:6,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,children:(0,t.jsx)(r.Z,{name:"DimCount",label:g.DimCount,value:null===i?v.values.DimCount:i,onChange:n=>{f(n.target.value)},onBlur:()=>{null!==i&&(v.setFieldValue("DimCount",i),C.nextTick(()=>{!function(n){for(let e=1;e<=20;e++){let i="tpaDimension".concat(e);e>n&&v.setFieldValue(i,"")}}(i)}))},numberField:!0,clearable:!0,type:"number",error:v.touched.DimCount&&!!v.errors.DimCount,inputProps:{min:1,max:20,maxLength:2,inputMode:"numeric",pattern:"[1-20]*"},helperText:v.touched.DimCount&&v.errors.DimCount})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:6,sx:{marginTop:"0.3rem"},children:(0,t.jsx)(s.ZP,{container:!0,spacing:2,children:Array.from({length:10}).map((n,e)=>(0,t.jsx)(s.ZP,{item:!0,xs:12,children:(0,t.jsx)(r.Z,{name:"tpaDimension".concat(e+1),label:"".concat(g.Dim," ").concat(e+1),value:v.values["tpaDimension".concat(e+1)],onClear:()=>v.setFieldValue("tpaDimension".concat(e+1),""),onChange:v.handleChange,error:v.values.DimCount>e&&!!v.errors["tpaDimension".concat(e+1)],inputProps:{readOnly:v.values.DimCount<=e||"null"===v.values.DimCount}},e)},e))})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:6,sx:{marginTop:"0.3rem"},children:(0,t.jsx)(s.ZP,{container:!0,spacing:2,children:Array.from({length:10}).map((n,e)=>(0,t.jsx)(s.ZP,{item:!0,xs:12,children:(0,t.jsx)(r.Z,{name:"tpaDimension".concat(e+11),label:"".concat(g.Dim," ").concat(e+11),value:v.values["tpaDimension".concat(e+11)],onClear:()=>v.setFieldValue("tpaDimension".concat(e+11),""),onChange:v.handleChange,error:v.errors["tpaDimension".concat(e+11)],inputProps:{readOnly:v.values.DimCount<=e+10||"null"===v.values.DimCount}},e+10)},1))})})]})})})})}}},function(n){n.O(0,[49774,92888,40179],function(){return n(n.s=87910)}),_N_E=n.O()}]);