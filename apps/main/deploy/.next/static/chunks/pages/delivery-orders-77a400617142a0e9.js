(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85899],{98977:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/delivery-orders",function(){return r(6101)}])},6101:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var a=r(52322),i=r(2784),n=r(62202),s=r(69387),l=r(65950),d=r(71987),c=r(26612),o=r(31389),f=r(33625),u=r(62362),m=r(61802),h=r(19473),p=r(30043),x=r(36908),N=r(10005),_=()=>{let{getRequest:e,postRequest:t}=(0,i.useContext)(l.$),{platformLabels:r}=(0,i.useContext)(h.l),{stack:_}=(0,m.zY)();async function v(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:a=50,params:i}=t;return{...await e({extension:p.U.DeliveriesOrders.qry,parameters:"_startAt=".concat(r,"&_pageSize=").concat(a,"&_params=").concat(i||"","&_sortBy=recordId desc")}),_startAt:r}}async function y(t){let{filters:r,pagination:a}=t;return(null==r?void 0:r.qry)?await e({extension:p.U.DeliveriesOrders.snapshot,parameters:"_filter=".concat(r.qry)}):v({_startAt:a._startAt||0,params:null==r?void 0:r.params})}let{query:{data:w},labels:g,filterBy:D,paginationParameters:O,refetch:A,access:E,invalidate:q}=(0,d.J)({queryFn:v,endpointId:p.U.DeliveriesOrders.qry,datasetId:c.i.DeliveriesOrders,filter:{filterFn:y}}),C=[{field:"reference",headerName:g.reference,flex:1},{field:"date",headerName:g.date,flex:1,type:"date"},{field:"statusName",headerName:g.status,flex:1},{field:"clientRef",headerName:g.clientRef,flex:1},{field:"clientName",headerName:g.client,flex:1},{field:"driverName",headerName:g.driver,flex:1},{field:"vehicleName",headerName:g.vehicle,flex:1},{field:"saleZone",headerName:g.saleZone,flex:1},{field:"printStatusName",headerName:g.printStatus,flex:1},{field:"notes",headerName:g.notes,flex:1},{field:"invoiceStatus",headerName:g.invoice,flex:1}];async function I(e){_({Component:N.Z,props:{labels:g,recordId:e,maxAccess:E},width:1300,height:700,title:g.deliveryOrder})}let S=async e=>{await t({extension:p.U.DeliveriesOrders.del,record:JSON.stringify(e)}),q(),n.ZP.success(r.Deleted)};return(0,a.jsxs)(o.R,{children:[(0,a.jsx)(f.g,{children:(0,a.jsx)(x.Z,{onAdd:()=>{I()},maxAccess:E,reportName:"DEORD",filterBy:D})}),(0,a.jsx)(u.Q,{children:(0,a.jsx)(s.Z,{name:"table",columns:C,gridData:w,rowId:["recordId"],onEdit:e=>{I(null==e?void 0:e.recordId)},onDelete:S,deleteConfirmationType:"strict",isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:O,refetch:A,maxAccess:E})})]})}}},function(e){e.O(0,[92515,2494,36908,10005,49774,92888,40179],function(){return e(e.s=98977)}),_N_E=e.O()}]);