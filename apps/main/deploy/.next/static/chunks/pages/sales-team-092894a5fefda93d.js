(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49321],{66159:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sales-team",function(){return r(35435)}])},35435:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return j}});var a=r(52322),s=r(2784),t=r(62202),c=r(69387),i=r(27723),d=r(65950),l=r(61802),o=r(71987),u=r(26612),m=r(31389),f=r(33625),h=r(62362),x=r(19473),_=r(22341),g=r(60218),p=r(48601),y=r(82737),P=r(5088),C=r(80983);function S(e){let{labels:n,maxAccess:r,recordId:c}=e,{getRequest:i,postRequest:l}=(0,s.useContext)(d.$),{platformLabels:f}=(0,s.useContext)(x.l),S=(0,o.E)({endpointId:_.P.SalesTeam.qry}),{formik:j}=(0,C.c)({initialValues:{recordId:null,name:"",reference:""},validateOnChange:!0,validationSchema:p.Ry({name:p.Z_().required(),reference:p.Z_().required()}),onSubmit:async e=>{let n=await l({extension:_.P.SalesTeam.set,record:JSON.stringify(e)});e.recordId?t.ZP.success(f.Edited):(t.ZP.success(f.Added),j.setFieldValue("recordId",n.recordId)),S()}}),I=!!j.values.recordId;return(0,s.useEffect)(()=>{!async function(){if(c){let e=await i({extension:_.P.SalesTeam.get,parameters:"_recordId=".concat(c)});j.setValues(e.record)}}()},[]),(0,a.jsx)(y.Z,{resourceId:u.i.SalesTeam,form:j,maxAccess:r,editMode:I,children:(0,a.jsx)(m.R,{children:(0,a.jsx)(h.Q,{children:(0,a.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(g.ZP,{item:!0,xs:12,children:(0,a.jsx)(P.Z,{name:"reference",label:n.reference,value:j.values.reference,required:!0,maxAccess:r,onChange:j.handleChange,onClear:()=>j.setFieldValue("reference",""),error:j.touched.reference&&!!j.errors.reference})}),(0,a.jsx)(g.ZP,{item:!0,xs:12,children:(0,a.jsx)(P.Z,{name:"name",label:n.name,value:j.values.name,required:!0,maxAccess:r,maxLength:"30",onChange:j.handleChange,onClear:()=>j.setFieldValue("name",""),error:j.touched.name&&!!j.errors.name})})]})})})})}var j=()=>{let{getRequest:e,postRequest:n}=(0,s.useContext)(d.$),{platformLabels:r}=(0,s.useContext)(x.l),{stack:g}=(0,l.zY)();async function p(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:a=50}=n;try{return{...await e({extension:_.P.SalesTeam.qry,parameters:"_startAt=".concat(r,"&_pageSize=").concat(a,"&_filter=&_sortField=")}),_startAt:r}}catch(e){}}let{query:{data:y},labels:P,invalidate:C,paginationParameters:j,refetch:I,access:Z}=(0,o.J)({queryFn:p,endpointId:_.P.SalesTeam.qry,datasetId:u.i.SalesTeam}),w=[{field:"reference",headerName:P.reference,flex:1},{field:"name",headerName:P.name,flex:1}],T=async e=>{try{await n({extension:_.P.SalesTeam.del,record:JSON.stringify(e)}),C(),t.ZP.success(r.Deleted)}catch(e){}};function v(e){g({Component:S,props:{labels:P,recordId:e,maxAccess:Z},width:600,height:350,title:P.saleTeams})}return(0,a.jsxs)(m.R,{children:[(0,a.jsx)(f.g,{children:(0,a.jsx)(i.Z,{onAdd:()=>{v()},maxAccess:Z})}),(0,a.jsx)(h.Q,{children:(0,a.jsx)(c.Z,{columns:w,gridData:y,rowId:["recordId"],onEdit:e=>{v(null==e?void 0:e.recordId)},onDelete:T,isLoading:!1,pageSize:50,refetch:I,paginationParameters:j,paginationType:"api",maxAccess:Z})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=66159)}),_N_E=e.O()}]);