(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15786],{41348:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/geographic-regions",function(){return r(44115)}])},44115:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Z}});var a=r(52322),i=r(2784),c=r(62202),s=r(69387),t=r(27723),o=r(65950),l=r(38449),d=r(71987),u=r(26612),h=r(31389),g=r(33625),m=r(62362),f=r(60218),x=r(48601),p=r(82737),v=r(5088),I=r(80983),N=r(19473),C=r(19689);function _(e){var n;let{labels:r,maxAccess:s,recordId:t}=e,{platformLabels:g}=(0,i.useContext)(N.l),{getRequest:_,postRequest:j}=(0,i.useContext)(o.$),Z=(0,d.E)({endpointId:l.r.GeographicRegion.page}),{formik:R}=(0,I.c)({initialValues:{recordId:null,reference:"",name:"",flName:"",isInactive:!1},maxAccess:s,validateOnChange:!0,validationSchema:x.Ry({reference:x.Z_().required(),name:x.Z_().required()}),onSubmit:async e=>{let n=await j({extension:l.r.GeographicRegion.set,record:JSON.stringify(e)});e.recordId||R.setValues({...e,recordId:n.recordId}),c.ZP.success(e.recordId?g.Edited:g.Added),Z()}}),w=!!R.values.recordId;return(0,i.useEffect)(()=>{!async function(){if(t){let e=await _({extension:l.r.GeographicRegion.get,parameters:"_recordId=".concat(t)});R.setValues({...e.record,isInactive:!!e.record.isInactive})}}()},[]),(0,a.jsx)(p.Z,{resourceId:u.i.GeographicRegions,form:R,maxAccess:s,editMode:w,children:(0,a.jsx)(h.R,{children:(0,a.jsx)(m.Q,{children:(0,a.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(f.ZP,{item:!0,xs:12,children:(0,a.jsx)(v.Z,{name:"reference",label:r.reference,value:R.values.reference,required:!0,maxAccess:s,maxLength:"30",onChange:R.handleChange,onClear:()=>R.setFieldValue("reference",""),error:R.touched.reference&&!!R.errors.reference})}),(0,a.jsx)(f.ZP,{item:!0,xs:12,children:(0,a.jsx)(v.Z,{name:"name",label:r.name,value:R.values.name,required:!0,maxAccess:s,onChange:R.handleChange,onClear:()=>R.setFieldValue("name",""),error:R.touched.name&&!!R.errors.name})}),(0,a.jsx)(f.ZP,{item:!0,xs:12,children:(0,a.jsx)(v.Z,{name:"flName",label:r.flName,value:R.values.flName,maxAccess:s,maxLength:"40",onChange:R.handleChange,onClear:()=>R.setFieldValue("flName",""),error:R.touched.flName&&!!R.errors.flName})}),(0,a.jsx)(f.ZP,{item:!0,xs:12,children:(0,a.jsx)(C.Z,{name:"isInactive",value:null===(n=R.values)||void 0===n?void 0:n.isInactive,onChange:e=>R.setFieldValue("isInactive",e.target.checked),label:r.isInactive,maxAccess:s})})]})})})})}var j=r(61802),Z=()=>{let{getRequest:e,postRequest:n}=(0,i.useContext)(o.$),{platformLabels:r}=(0,i.useContext)(N.l);async function f(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:a=50}=n;return{...await e({extension:l.r.GeographicRegion.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(a,"&filter=")}),_startAt:r}}let{stack:x}=(0,j.zY)(),{query:{data:p},labels:v,refetch:I,paginationParameters:C,access:Z}=(0,d.J)({queryFn:f,endpointId:l.r.GeographicRegion.page,datasetId:u.i.GeographicRegions}),R=(0,d.E)({endpointId:l.r.GeographicRegion.page}),w=[{field:"reference",headerName:v.reference,flex:1},{field:"name",headerName:v.name,flex:1},{field:"flName",headerName:v.flName,flex:1}];function A(e){x({Component:_,props:{labels:v,recordId:e,maxAccess:Z},width:500,height:350,title:v.GeographicRegions})}let y=async e=>{await n({extension:l.r.GeographicRegion.del,record:JSON.stringify(e)}),R(),c.ZP.success(r.Deleted)};return(0,a.jsxs)(h.R,{children:[(0,a.jsx)(g.g,{children:(0,a.jsx)(t.Z,{onAdd:()=>{A()},maxAccess:Z})}),(0,a.jsx)(m.Q,{children:(0,a.jsx)(s.Z,{columns:w,gridData:p,rowId:["recordId"],onEdit:e=>{A(null==e?void 0:e.recordId)},onDelete:y,isLoading:!1,refetch:I,pageSize:50,paginationParameters:C,maxAccess:Z,paginationType:"api"})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=41348)}),_N_E=e.O()}]);