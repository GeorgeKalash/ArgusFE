(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73765],{97905:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bp-role-categories",function(){return r(89760)}])},89760:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var a=r(52322),s=r(2784),n=r(62202),l=r(69387),o=r(27723),d=r(65950),g=r(253),c=r(71987),i=r(26612),u=r(31389),p=r(33625),R=r(62362),y=r(61802),x=r(60218),h=r(48601),m=r(82737),C=r(5088),f=r(80983),q=r(19473),I=r(19689);function N(e){let{labels:t,maxAccess:r,recordId:l}=e,{getRequest:o,postRequest:p}=(0,s.useContext)(d.$),{platformLabels:y}=(0,s.useContext)(q.l),N=(0,c.E)({endpointId:g.F.RoleCategory.page}),{formik:A}=(0,f.c)({initialValues:{recordId:null,reference:"",name:"",org:!1,person:!1,group:!1},maxAccess:r,validateOnChange:!0,validationSchema:h.Ry({name:h.Z_().required(),reference:h.Z_().required()}),onSubmit:async e=>{let t=await p({extension:g.F.RoleCategory.set,record:JSON.stringify(e)});e.recordId||A.setValues({...e,recordId:t.recordId}),n.ZP.success(e.recordId?y.Edited:y.Added),N()}}),L=!!A.values.recordId;return(0,s.useEffect)(()=>{!async function(){if(l){let e=await o({extension:g.F.RoleCategory.get,parameters:"_recordId=".concat(l)});A.setValues(e.record)}}()},[]),(0,a.jsx)(m.Z,{resourceId:i.i.RoleCategories,form:A,maxAccess:r,editMode:L,children:(0,a.jsx)(u.R,{children:(0,a.jsx)(R.Q,{children:(0,a.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(x.ZP,{item:!0,xs:12,children:(0,a.jsx)(C.Z,{name:"reference",label:t.reference,value:A.values.reference,required:!0,maxAccess:r,onChange:A.handleChange,onClear:()=>A.setFieldValue("reference",""),error:A.touched.reference&&!!A.errors.reference})}),(0,a.jsx)(x.ZP,{item:!0,xs:12,children:(0,a.jsx)(C.Z,{name:"name",label:t.name,value:A.values.name,required:!0,maxAccess:r,onChange:A.handleChange,onClear:()=>A.setFieldValue("name",""),error:A.touched.name&&!!A.errors.name})}),(0,a.jsx)(x.ZP,{item:!0,xs:12,children:(0,a.jsx)(I.Z,{name:"org",value:A.values.org,onChange:e=>A.setFieldValue("org",e.target.checked),label:t.organization,maxAccess:r})}),(0,a.jsx)(x.ZP,{item:!0,xs:12,children:(0,a.jsx)(I.Z,{name:"person",value:A.values.person,onChange:e=>A.setFieldValue("person",e.target.checked),label:t.person,maxAccess:r})}),(0,a.jsx)(x.ZP,{item:!0,xs:12,children:(0,a.jsx)(I.Z,{name:"group",value:A.values.group,onChange:e=>A.setFieldValue("group",e.target.checked),label:t.group,maxAccess:r})})]})})})})}var A=()=>{let{getRequest:e,postRequest:t}=(0,s.useContext)(d.$),{platformLabels:r}=(0,s.useContext)(q.l),{stack:x}=(0,y.zY)();async function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:a=50}=t;return{...await e({extension:g.F.RoleCategory.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(a,"&filter=")}),_startAt:r}}let{query:{data:m},labels:C,paginationParameters:f,refetch:I,access:A}=(0,c.J)({queryFn:h,endpointId:g.F.RoleCategory.page,datasetId:i.i.RoleCategories}),L=(0,c.E)({endpointId:g.F.RoleCategory.page}),P=[{field:"reference",headerName:C.reference,flex:1},{field:"name",headerName:C.name,flex:1}];function G(e){x({Component:N,props:{labels:C,recordId:e,maxAccess:A},width:600,height:400,title:C.roleCategories})}let M=async e=>{await t({extension:g.F.RoleCategory.del,record:JSON.stringify(e)}),L(),n.ZP.success(r.Deleted)};return(0,a.jsxs)(u.R,{children:[(0,a.jsx)(p.g,{children:(0,a.jsx)(o.Z,{onAdd:()=>{G()},maxAccess:A})}),(0,a.jsx)(R.Q,{children:(0,a.jsx)(l.Z,{columns:P,gridData:m,rowId:["recordId"],onEdit:e=>{G(null==e?void 0:e.recordId)},onDelete:M,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:f,refetch:I,maxAccess:A})})," "]})}},253:function(e,t,r){"use strict";r.d(t,{F:function(){return s}});let a="BP.asmx/",s={LegalStatus:{qry:a+"qryLGS",page:a+"pageLGS",get:a+"getLGS",set:a+"setLGS",del:a+"delLGS"},GroupLegalDocument:{qry:a+"qryGIN",page:a+"pageGIN",get:a+"getGIN",set:a+"setGIN",del:a+"delGIN"},CategoryID:{qry:a+"qryINC",get:a+"getINC",page:a+"pageINC",set:a+"setINC",del:a+"delINC"},Group:{qry:a+"qryGRP",get:a+"getGRP",set:a+"setGRP",del:a+"delGRP"},MasterData:{qry:a+"qryMAS",qry2:a+"qryMAS2",get:a+"getMAS",set:a+"setMAS",del:a+"delMAS",snapshot:a+"snapshotMAS"},RelationTypes:{qry:a+"qryRLT",page:a+"pageRLT",get:a+"getRLT",set:a+"setRLT",del:a+"delRLT"},Groups:{qry:a+"qryGRP",page:a+"pageGRP",get:a+"getGRP",set:a+"setGRP",del:a+"delGRP"},MasterIDNum:{qry:a+"qryMIN",page:a+"pageMIN",get:a+"getMIN",set:a+"setMIN",del:a+"delMIN"},Relation:{qry:a+"qryREL",page:a+"pageREL",get:a+"getREL",set:a+"setREL",del:a+"delREL"},BPAddress:{qry:a+"qryADD",page:a+"pageADD",get:a+"getADD",set:a+"setADD",del:a+"delADD"},RoleCategory:{qry:a+"qryROC",get:a+"getROC",page:a+"pageROC",set:a+"setROC",del:a+"delROC"},Role:{qry:a+"qryROL",page:a+"pageROL",get:a+"getROL",set:a+"setROL",del:a+"delROL"},MasterDataRole:{qry:a+"qryMRO",del:a+"delMRO",get:a+"getMRO",set:a+"setMRO"},MasterSales:{get:a+"getSAL",set:a+"setSAL"},MasterPurchase:{get:a+"getPUR",set:a+"setPUR"},Bank:{qry:a+"qryBNK",get:a+"getBNK",set:a+"setBNK",del:a+"delBNK"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=97905)}),_N_E=e.O()}]);