(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97041],{47184:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mf-job-in-process",function(){return s(62545)}])},62545:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return O}});var a=s(52322),r=s(2784),o=s(69387),n=s(65950),p=s(71987),l=s(26612),d=s(31389),g=s(33625),i=s(62362),c=s(61802),y=s(19473),D=s(60218),u=s(27423),S=s(90587),h=s(69627),q=s(50023),C=s(41872),M=s(80983),R=s(48601),m=s(58276),T=s(78618),O=()=>{var e,t;let{getRequest:s}=(0,r.useContext)(n.$),{platformLabels:O,userDefaultsData:I}=(0,r.useContext)(y.l),{addLockedScreen:P}=(0,r.useContext)(m.Z),{stack:f,lockRecord:B}=(0,c.zY)(),J=parseInt(null==I?void 0:null===(t=I.list)||void 0===t?void 0:null===(e=t.find(e=>"workCenterId"===e.key))||void 0===e?void 0:e.value)||null,{query:{data:L},refetch:A,labels:w,access:k,invalidate:b,paginationParameters:N}=(0,p.J)({queryFn:v,endpointId:S.u.MFJobOrder.wip,datasetId:l.i.JobsInProcess}),{labels:F,access:x}=(0,q.Z)({datasetId:l.i.MFJobOrders}),{formik:W}=(0,M.c)({initialValues:{workCenterId:null,workCenterName:"",workCenterRef:""},maxAccess:x,validateOnChange:!0,validationSchema:R.Ry({workCenterId:R.Rx().required()}),onSubmit:()=>{A()}});async function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:a=50}=e;if(W.values.workCenterId)return{...await s({extension:S.u.MFJobOrder.wip,parameters:"_startAt=".concat(t,"&_pageSize=").concat(a,"&_workCenterId=").concat(W.values.workCenterId,"&_params=")}),_startAt:t}}(0,r.useEffect)(()=>{!async function(){if(J){let{record:e}=await s({extension:S.u.WorkCenter.get,parameters:"_recordId=".concat(J)});W.setValues({workCenterId:J,workCenterName:e.name,workCenterRef:e.reference})}}()},[J]);let G=[{field:"reference",headerName:w.jobRef,flex:1},{field:"sku",headerName:w.sku,flex:1},{field:"itemName",headerName:w.itemName,flex:1},{field:"routingName",headerName:w.routing,flex:1},{field:"designRef",headerName:w.design,flex:1},{field:"wcName",headerName:w.workCenter,flex:1},{field:"qty",headerName:w.qty,flex:1,type:"number"},{field:"pcs",headerName:w.pcs,flex:1,type:"number"},{field:"statusName",headerName:w.status,flex:1}];function H(e,t){f({Component:C.Z,props:{labels:F,access:x,jobReference:t,recordId:e,lockRecord:B,invalidate:b},width:1150,height:700,title:F.jobOrder})}async function j(e,t,s){console.log(e,t,s),e&&3!==s?await B({recordId:e,reference:t,resourceId:l.i.MFJobOrders,onSuccess:()=>{P({resourceId:l.i.MFJobOrders,recordId:e,reference:t}),H(e,t)},isAlreadyLocked:e=>{f({Component:T.Z,props:{DialogText:"".concat(O.RecordLocked," ").concat(e),width:600,height:200,title:O.Dialog}})}}):H(e,t)}return(0,a.jsxs)(d.R,{children:[(0,a.jsx)(g.g,{children:(0,a.jsxs)(D.ZP,{container:!0,spacing:2,padding:2,children:[(0,a.jsx)(D.ZP,{item:!0,xs:4,children:(0,a.jsx)(u.U,{endpointId:S.u.WorkCenter.snapshot,valueField:"name",displayField:"reference",name:"workCenterId",label:w.workCenter,valueShow:"workCenterRef",secondValueShow:"workCenterName",maxAccess:k,formObject:W.values,displayFieldWidth:1.5,required:!0,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],onChange:(e,t)=>{W.setValues({workCenterId:(null==t?void 0:t.recordId)||null,workCenterRef:(null==t?void 0:t.reference)||"",workCenterName:(null==t?void 0:t.name)||""})},error:W.touched.workCenterId&&!!W.errors.workCenterId})}),(0,a.jsx)(D.ZP,{item:!0,xs:2,children:(0,a.jsx)(h.Z,{variant:"contained",label:O.Preview,onClick:()=>W.handleSubmit(),color:"#231f20"})})]})}),(0,a.jsx)(i.Q,{children:(0,a.jsx)(o.Z,{columns:G,gridData:L,rowId:["recordId"],onEdit:e=>{j(null==e?void 0:e.recordId,null==e?void 0:e.reference,null==e?void 0:e.status)},isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:N,refetch:A,maxAccess:k})})]})}},90587:function(e,t,s){"use strict";s.d(t,{u:function(){return r}});let a="MF.asmx/",r={DesignRawMaterial:{qry2:a+"qryDRM2",qry:a+"qryDRM",set2:a+"set2DRM"},JobOrdersItem:{qry:a+"qryJIT",set2:a+"set2JIT"},IssueOfMaterialsItems:{qry:a+"qryIMI",qry2:a+"qryIMI2"},LaborGroup:{snapshot:a+"snapshotLBG",page:a+"pageLBG",qry:a+"qryLBG",set:a+"setLBG",get:a+"getLBG",del:a+"delLBG"},ProductionLine:{page:a+"pageLIN",qry:a+"qryLIN",qry2:a+"qry2LIN",qry3:a+"qry3LIN",set:a+"setLIN",get:a+"getLIN",del:a+"delLIN"},CostGroup:{page:a+"pageCG",set:a+"setCG",get:a+"getCG",del:a+"delCG",qry:a+"qryCG"},WorkCenter:{page:a+"pageWCT",qry:a+"qryWCT",qry3:a+"qryWCT3",set:a+"setWCT",get:a+"getWCT",del:a+"delWCT",snapshot:a+"snapshotWCT"},Routing:{page:a+"pageRTN",qry:a+"qryRTN",set:a+"setRTN",get:a+"getRTN",del:a+"delRTN",snapshot2:a+"snapshot2RTN",snapshot:a+"snapshotRTN"},Operation:{snapshot:a+"snapshotOPR",qry:a+"qryOPR",page:a+"pageOPR",set:a+"setOPR",get:a+"getOPR",del:a+"delOPR"},Labor:{page:a+"pageLBR",qry:a+"qryLBR",qry2:a+"qry2LBR",set:a+"setLBR",get:a+"getLBR",del:a+"delLBR",snapshot:a+"snapshotLBR"},Machine:{page:a+"pageMAC",qry:a+"qryMAC",set:a+"setMAC",get:a+"getMAC",del:a+"delMAC",snapshot:a+"snapshotMAC"},MachineSpecification:{page:a+"pageMAS",qry:a+"qryMAS",set:a+"setMAS",get:a+"getMAS",del:a+"delMAS"},LeanProductionPlanning:{preview:a+"previewPQ",update:a+"updatePQ",snapshot:a+"snapshotPQ",del:a+"delPQ",cancel:a+"cancelPQ"},MaterialsAdjustment:{generate:a+"generateADJ"},ProductionClass:{page:a+"pageCLS",qry:a+"qryCLS",set:a+"setCLS",get:a+"getCLS",del:a+"delCLS",snapshot:a+"qryCLS"},ProductionStandard:{qry:a+"qrySTD",page:a+"pageSTD",set:a+"setSTD",get:a+"getSTD",del:a+"delSTD"},ProductionClassSemiFinished:{qry:a+"qryCSF",set:a+"setCSF",get:a+"getCSF",del:a+"delCSF",set2:a+"set2CSF"},RoutingSequence:{set2:a+"set2RTS",qry:a+"qryRTS"},Overhead:{qry:a+"qryOVH",set:a+"setOVH",get:a+"getOVH",del:a+"delOVH",page:a+"pageOVH",snapshot:a+"snapshotOVH"},Design:{qry:a+"qryDES",set:a+"setDES",get:a+"getDES",del:a+"delDES",snapshot:a+"snapshotDES",page:a+"pageDES"},MFJobOrder:{pack:a+"packJOB",qry:a+"qryJOB",qry2:a+"qryJOB2",set:a+"setJOB",get:a+"getJOB",get2:a+"get2JOB",del:a+"delJOB",snapshot:a+"snapshotJOB",snapshot2:a+"snapshotJOB2",snapshot3:a+"snapshotJOB3",cancel:a+"cancelJOB",post:a+"postJOB",start:a+"startJOB",stop:a+"stopJOB",wip:a+"wipJOB",sync:a+"syncJOB"},ProductionSheet:{page:a+"pagePST",qry:a+"qryPST",get:a+"getPST",set2:a+"set2PST",get2:a+"get2PST",del:a+"delPST",post:a+"postPST",unpost:a+"unpostPST",snapshot:a+"snapshotPST"},ProductionSheetItem:{qry:a+"qryPSI",set:a+"setPSI",get:a+"getPSI",del:a+"delPSI"},DocumentTypeDefault:{qry:a+"qryDTD",get:a+"getDTD",set:a+"setDTD",del:a+"delDTD",page:a+"pageDTD"},RawMaterialCategory:{qry:a+"qryRMC",get:a+"getRMC",set:a+"setRMC",del:a+"delRMC",page:a+"pageRMC"},WorksheetMaterials:{qry:a+"qryIMA",get:a+"getIMA",pack:a+"get2IMA",set:a+"setIMA",set2:a+"set2IMA",del:a+"delIMA",post:a+"postIMA"},ProductionSheetQueue:{qry:a+"qryPSQ"},Damage:{qry:a+"qryDMG",get:a+"getDMG",set:a+"setDMG",del:a+"delDMG",page:a+"pageDMG",snapshot:a+"snapshotDMG",post:a+"postDMG",get2:a+"get2DMG",set2:a+"set2DMG",preview:a+"previewDMG"},JobCategory:{qry:a+"qryJCA"},JobRouting:{qry:a+"qryJRO",get:a+"getJRO",set:a+"setJRO",set2:a+"set2JRO",del:a+"delJRO",sync:a+"syncJRO",close:a+"closeJRO",reopen:a+"reopenJRO"},Worksheet:{snapshot:a+"snapshotWST",get:a+"getWST",pack:a+"getPackWST",set:a+"setWST",del:a+"delWST",page:a+"pageWST",summary:a+"summaryWST",post:a+"postWST",qry2:a+"qryWST2",draft:a+"draftWST"},JobOverhead:{qry:a+"qryJOH",set2:a+"set2JOH",generate:a+"generateJOH"},JobMaterial:{qry:a+"qryJMA"},JobItemSize:{qry:a+"qryJSZ",set2:a+"set2JSZ"},MFSerial:{qry:a+"qrySRL",qry2:a+"qrySRL2",set2:a+"set2SRL",generate:a+"generateSRL"},SamplePack:{qry:a+"qrySPL",set2:a+"set2SPL"},DamageReturn:{get:a+"getDMR",set:a+"setDMR",del:a+"delDMR",page:a+"pageDMR",snapshot:a+"snapshotDMR",post:a+"postDMR"},ProductionOrder:{get2:a+"get2PO",set2:a+"set2PO",del:a+"delPO",page:a+"pagePO",snapshot:a+"snapshotPO",post:a+"postPO",gen:a+"genPO",close:a+"closePO"},BillOfMaterials:{get:a+"getBMA",qry2:a+"qry2BMA",set:a+"setBMA",del:a+"delBMA",page:a+"pageBMA",snapshot:a+"snapshotBMA"},Component:{get:a+"getBMI",qry:a+"qryBMI",del:a+"delBMI",set:a+"setBMI",set2:a+"set2BMI"},Assembly:{get:a+"getASM",set2:a+"set2ASM",del:a+"delASM",page:a+"pageASM",snapshot:a+"snapshotASM",post:a+"postASM",unpost:a+"unpostASM",generate:a+"genASM"},AssemblyItems:{qry:a+"qryASC"},AssemblyLot:{get:a+"getASL",set:a+"setASL"},AssemblyOverhead:{qry:a+"qryAOH",set2:a+"set2AOH"},MeasurementScheduleMap:{qry:a+"qryMSM",set:a+"setMSM",set2:a+"set2MSM",del:a+"delMSM"},JobCategory:{set:a+"setJCA",get:a+"getJCA",del:a+"delJCA",page:a+"pageJCA",qry:a+"qryJCA"},DesignGroup:{qry:a+"qryDEG",set:a+"setDEG",get:a+"getDEG",del:a+"delDEG",page:a+"pageDEG"},Components:{qry:a+"qryDEM",set2:a+"set2DEM"},DesignFamily:{qry:a+"qryDEF",set:a+"setDEF",get:a+"getDEF",del:a+"delDEF",page:a+"pageDEF"},ProductionShifts:{qry:a+"qrySHI",set:a+"setSHI",get:a+"getSHI",del:a+"delSHI",page:a+"pageSHI"},JobOrderWizard:{set2:a+"set2JOZ",get2:a+"get2JOZ",del:a+"delJOZ",page:a+"pageJOZ",snapshot:a+"snapshotJOZ",post:a+"postJOZ"},JobTransfer:{get2:a+"get2TFR",set2:a+"set2TFR",del:a+"delTFR",page:a+"pageTFR",snapshot:a+"snapshotTFR",post:a+"postTFR",close:a+"closeTFR",reopen:a+"reopenTFR",qry:a+"qryTFR"},JobWorkCenter:{qry:a+"qryJWC",close:a+"closeJWC",reopen:a+"reopenJWC",get:a+"getJWC",snapshot:a+"snapshotJWC",verify:a+"verifyJWC"},WorkCenterConsumption:{page:a+"pageCON",snapshot:a+"snapshotCON",del:a+"delCON",set2:a+"set2CON",get:a+"getCON",post:a+"postCON",unpost:a+"unpostCON",close:a+"closeCON",reopen:a+"reopenCON"},ConsumptionItemView:{qry:a+"qryCOI"},LineItemCapacity:{set2:a+"set2LIT",del:a+"delLIT",qry:a+"qryLIT",page:a+"pageLIT"},CostGroupOverhead:{set2:a+"set2CGV",qry:a+"qryCGV"},IssueOfMaterialDimension:{set:a+"setIMD",qry:a+"qryIMD"},JobOrder:{gen:a+"genORD"},RefreshPoItem:{refresh:a+"refreshPOI"},WorkCenterTransferMap:{qry:a+"qryWCTM",set2:a+"set2WCTM"},BatchWorksheet:{get2:a+"get2BWST",set2:a+"set2BWST",del:a+"delBWST",page:a+"pageBWST",snapshot:a+"snapshotBWST",post:a+"postBWST",gen:a+"genBWST",close:a+"closeBWST",reopen:a+"reopenBWST"},ProductionOrderFromSaleOrder:{gen:a+"generatePOFromSO"},BatchTransfer:{page:a+"pageBTFR",set2:a+"set2BTFR",del:a+"delBTFR",snapshot:a+"snapshotBTFR",get:a+"getBTFR",post:a+"postBTFR",unpost:a+"unpostBTFR"},BatchTransferJob:{qry:a+"qryBTFJ"},Disposal:{page:a+"pageDIS",snapshot:a+"snapshotDIS",get:a+"getDIS",set2:a+"set2DIS",del:a+"delDIS"},DisposalItem:{qry:a+"qryDII"},DisposalSerial:{qry:a+"qryDISRL"},MetalSetting:{page:a+"pageMTS",set:a+"setMTS",get:a+"getMTS",del:a+"delMTS"},DamageReason:{qry:a+"qryDRS",page:a+"pageDRS",set:a+"setDRS",get:a+"getDRS",del:a+"delDRS",snapshot:a+"snapshotDRS"},DamageCategory:{qry:a+"qryDCA",page:a+"pageDCA",set:a+"setDCA",get:a+"getDCA",del:a+"delDCA",snapshot:a+"snapshotDCA"}}},63518:function(e,t,s){"use strict";s.d(t,{z:function(){return r}});let a="PM.asmx/",r={Designer:{page:a+"pageDSR",get:a+"getDSR",set:a+"setDSR",del:a+"delDSR",snapshot:a+"snapshotDSR",qry:a+"qryDSR"},ThreeDDesign:{page:a+"page3DD",get:a+"get3DD",set:a+"set3DD",del:a+"del3DD",post:a+"post3DD",close:a+"close3DD",reopen:a+"reopen3DD",snapshot:a+"snapshot3DD"},Sketch:{page:a+"pageSKH",get:a+"getSKH",set:a+"setSKH",del:a+"delSKH",close:a+"closeSKH",reopen:a+"reopenSKH",snapshot:a+"snapshotSKH",snapshot2:a+"snapshot2SKH",snapshot3:a+"snapshot3SKH",post:a+"postSKH"},ModelMaker:{snapshot:a+"snapshotMDL",snapshot2:a+"snapshot2MDL",page:a+"pageMDL",get:a+"getMDL",set:a+"setMDL",del:a+"delMDL",post:a+"postMDL",close:a+"closeMDL",reopen:a+"reopenMDL"},ModellingMaterial:{qry:a+"qryMDLM",set2:a+"set2MDLM"},Printing:{page:a+"page3DP",get:a+"get3DP",set:a+"set3DP",del:a+"del3DP",start:a+"start3DP",snapshot:a+"snapshot3DP",snapshot2:a+"snapshot3DP2",post:a+"post3DP",qry:a+"qry3DP"},ThreeDDrawing:{snapshot:a+"snapshot3DD",snapshot2:a+"snapshot23DD",get:a+"get3DD",snapshot3DD2:a+"snapshot3DD2"},Rubber:{page:a+"pageRBR",get:a+"getRBR",set:a+"setRBR",del:a+"delRBR",snapshot:a+"snapshotRBR",post:a+"postRBR",start:a+"startRBR"},Modeling:{qry:a+"qryMDL"},Casting:{page:a+"pageCAS",get:a+"getCAS",set:a+"setCAS",del:a+"delCAS",snapshot:a+"snapshotCAS",post:a+"postCAS"},DocumentTypeDefault:{page:a+"pageDTD",get:a+"getDTD",set:a+"setDTD",del:a+"delDTD"},Samples:{page:a+"pageSPL",get2:a+"get2SPL",set:a+"setSPL",del:a+"delSPL",snapshot:a+"snapshotSPL",set2:a+"set2SPL",close:a+"closeSPL",reopen:a+"reopenSPL",post:a+"postSPL"}}},93883:function(e,t,s){"use strict";var a=s(52322),r=s(2784),o=s(74143),n=s(44258),p=s(41633),l=s(45297),d=s(73980),g=s(11886),i=s(26698),c=s(32827),y=s(2494),D=s(81576),u=s(7087),S=s.n(u);t.Z=e=>{let{name:t,label:s,value:u,onChange:h,error:q,disabledRangeDate:C={},max:M=null,min:R=null,variant:m="outlined",size:T="small",views:O=["year","month","day","hours","minutes"],fullWidth:I=!0,required:P=!1,autoFocus:f=!1,disabled:B=!1,disabledDate:J=null,readOnly:L=!1,editMode:A=!1,hasBorder:w=!0,hidden:k=!1,formatTime:b="hh:mm aa",defaultValue:N,...F}=e,x="".concat(window.localStorage.getItem("default")&&JSON.parse(window.localStorage.getItem("default")).dateFormat," ").concat(b),[W,v]=(0,r.useState)(!1),{_readOnly:G,_required:H,_hidden:j}=(0,D.W)(t,F.maxAccess,P,L,k),E=new Date(C.date);E.setDate(E.getDate()+C.day);let Z=void 0===u?(()=>{let e;switch(N){case"today":e=new Date;break;case"yesterday":(e=new Date).setDate(e.getDate()-1);break;case"boy":e=new Date(new Date().getFullYear(),0,1);break;default:e=null}return e})():u;return j?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(p._,{dateAdapter:g.H,children:(0,a.jsx)(y.x,{variant:m,size:T,value:Z,label:s,views:O,minDate:R||C.date,maxDate:M||E,fullWidth:I,autoFocus:f,format:x,onChange:e=>h(t,e),onClose:()=>v(!1),open:W,disabled:B,readOnly:G,clearable:!0,shouldDisableDate:J&&(e=>{let t=new Date(e),s=new Date;return(s.setDate(s.getDate()),t.setDate(t.getDate()),">="===J)?t>=s:"<"===J?t<s:">"===J&&t>s}),slotProps:{popper:{disablePortal:!0},textField:{required:H,size:T,fullWidth:I,error:q,inputProps:{tabIndex:G?-1:0},InputProps:{classes:{root:S().outlinedRoot,notchedOutline:w?S().outlinedFieldset:S().outlinedNoBorder,input:S().inputBase},endAdornment:!(G||B)&&(0,a.jsxs)(o.Z,{position:"end",className:S().inputAdornment,children:[Z&&(0,a.jsx)(n.Z,{tabIndex:-1,edge:"start",onClick:()=>h(t,null),className:S().iconButton,children:(0,a.jsx)(l.Z,{className:S().icon})}),(0,a.jsx)(n.Z,{tabIndex:-1,onClick:()=>v(!0),className:S().iconButton,children:(0,a.jsx)(d.Z,{className:S().icon})})]})},InputLabelProps:{classes:{root:S().inputLabel,shrink:S().inputLabelShrink}}},actionBar:{actions:["accept","today"]}},slots:{actionBar:e=>(0,a.jsx)(i.Z,{...e,actions:["accept","today"]}),popper:e=>(0,a.jsx)(c.Z,{isDateTimePicker:!0,...e})}})})}}},function(e){e.O(0,[92515,2494,74550,98434,41872,49774,92888,40179],function(){return e(e.s=47184)}),_N_E=e.O()}]);