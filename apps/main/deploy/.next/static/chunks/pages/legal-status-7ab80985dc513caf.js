(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26099],{19795:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/legal-status",function(){return a(29880)}])},29880:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var r=a(52322),s=a(2784),n=a(69387),l=a(27723),d=a(65950),g=a(253),c=a(71987),i=a(26612),o=a(31389),u=a(33625),p=a(62362),y=a(60218),R=a(48601),f=a(82737),q=a(62202),h=a(5088),m=a(80983),L=a(19473);function x(e){let{labels:t,maxAccess:a,recordId:n}=e,{platformLabels:l}=(0,s.useContext)(L.l),{getRequest:u,postRequest:x}=(0,s.useContext)(d.$),I=(0,c.E)({endpointId:g.F.LegalStatus.page}),{formik:S}=(0,m.c)({initialValues:{recordId:null,reference:"",name:""},maxAccess:a,validateOnChange:!0,validationSchema:R.Ry({reference:R.Z_().required(),name:R.Z_().required()}),onSubmit:async e=>{let t=await x({extension:g.F.LegalStatus.set,record:JSON.stringify(e)});e.recordId||S.setFieldValue("recordId",t.recordId),q.ZP.success(e.recordId?l.Edited:l.Added),I()}}),N=!!S.values.recordId;return(0,s.useEffect)(()=>{!async function(){if(n){let e=await u({extension:g.F.LegalStatus.get,parameters:"_recordId=".concat(n)});S.setValues(e.record)}}()},[]),(0,r.jsx)(f.Z,{resourceId:i.i.LegalStatus,form:S,maxAccess:a,editMode:N,children:(0,r.jsx)(o.R,{children:(0,r.jsx)(p.Q,{children:(0,r.jsxs)(y.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(y.ZP,{item:!0,xs:12,children:(0,r.jsx)(h.Z,{name:"reference",label:t.reference,value:S.values.reference,required:!0,maxAccess:a,maxLength:"30",onChange:S.handleChange,onClear:()=>S.setFieldValue("reference",""),error:S.touched.reference&&!!S.errors.reference})}),(0,r.jsx)(y.ZP,{item:!0,xs:12,children:(0,r.jsx)(h.Z,{name:"name",label:t.name,value:S.values.name,required:!0,maxAccess:a,onChange:S.handleChange,onClear:()=>S.setFieldValue("name",""),error:S.touched.name&&!!S.errors.name})})]})})})})}var I=a(61802),S=()=>{let{getRequest:e,postRequest:t}=(0,s.useContext)(d.$),{platformLabels:a}=(0,s.useContext)(L.l),{stack:y}=(0,I.zY)();async function R(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:r=50}=t;return{...await e({extension:g.F.LegalStatus.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(r,"&filter=")}),_startAt:a}}let{query:{data:f},labels:q,paginationParameters:h,refetch:m,access:S,invalidate:N}=(0,c.J)({queryFn:R,endpointId:g.F.LegalStatus.page,datasetId:i.i.LegalStatus}),C=[{field:"reference",headerName:q.reference,flex:1},{field:"name",headerName:q.name,flex:1}];function A(e){y({Component:x,props:{labels:q,recordId:e,maxAccess:S},width:500,height:300,title:q.legalStatus})}let G=async e=>{await t({extension:g.F.LegalStatus.del,record:JSON.stringify(e)}),N(),toast.success(a.Deleted)};return(0,r.jsxs)(o.R,{children:[(0,r.jsx)(u.g,{children:(0,r.jsx)(l.Z,{onAdd:()=>{A()},maxAccess:S})}),(0,r.jsx)(p.Q,{children:(0,r.jsx)(n.Z,{columns:C,gridData:f,rowId:["recordId"],isLoading:!1,onEdit:e=>{A(null==e?void 0:e.recordId)},onDelete:G,pageSize:50,paginationType:"api",paginationParameters:h,refetch:m,maxAccess:S})})]})}},253:function(e,t,a){"use strict";a.d(t,{F:function(){return s}});let r="BP.asmx/",s={LegalStatus:{qry:r+"qryLGS",page:r+"pageLGS",get:r+"getLGS",set:r+"setLGS",del:r+"delLGS"},GroupLegalDocument:{qry:r+"qryGIN",page:r+"pageGIN",get:r+"getGIN",set:r+"setGIN",del:r+"delGIN"},CategoryID:{qry:r+"qryINC",get:r+"getINC",page:r+"pageINC",set:r+"setINC",del:r+"delINC"},Group:{qry:r+"qryGRP",get:r+"getGRP",set:r+"setGRP",del:r+"delGRP"},MasterData:{qry:r+"qryMAS",qry2:r+"qryMAS2",get:r+"getMAS",set:r+"setMAS",del:r+"delMAS",snapshot:r+"snapshotMAS"},RelationTypes:{qry:r+"qryRLT",page:r+"pageRLT",get:r+"getRLT",set:r+"setRLT",del:r+"delRLT"},Groups:{qry:r+"qryGRP",page:r+"pageGRP",get:r+"getGRP",set:r+"setGRP",del:r+"delGRP"},MasterIDNum:{qry:r+"qryMIN",page:r+"pageMIN",get:r+"getMIN",set:r+"setMIN",del:r+"delMIN"},Relation:{qry:r+"qryREL",page:r+"pageREL",get:r+"getREL",set:r+"setREL",del:r+"delREL"},BPAddress:{qry:r+"qryADD",page:r+"pageADD",get:r+"getADD",set:r+"setADD",del:r+"delADD"},RoleCategory:{qry:r+"qryROC",get:r+"getROC",page:r+"pageROC",set:r+"setROC",del:r+"delROC"},Role:{qry:r+"qryROL",page:r+"pageROL",get:r+"getROL",set:r+"setROL",del:r+"delROL"},MasterDataRole:{qry:r+"qryMRO",del:r+"delMRO",get:r+"getMRO",set:r+"setMRO"},MasterSales:{get:r+"getSAL",set:r+"setSAL"},MasterPurchase:{get:r+"getPUR",set:r+"setPUR"},Bank:{qry:r+"qryBNK",get:r+"getBNK",set:r+"setBNK",del:r+"delBNK"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=19795)}),_N_E=e.O()}]);