(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71992],{52859:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ir-repl-dtd",function(){return n(18388)}])},18388:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var a=n(52322),s=n(2784),r=n(62202),d=n(69387),l=n(27723),i=n(65950),o=n(61802),c=n(71987),u=n(26612),p=n(31389),g=n(33625),m=n(62362),I=n(19473),f=n(58912),y=n(60218),R=n(48601),D=n(82737),h=n(80983),x=n(38449),P=n(8661),v=n(19689),T=n(7121),q=n(65215);function E(e){var t;let{labels:n,maxAccess:d,recordId:l,window:o}=e,{platformLabels:g}=(0,s.useContext)(I.l),{getRequest:E,postRequest:M}=(0,s.useContext)(i.$),_=(0,c.E)({endpointId:f.I.DocumentTypeDefault.page}),{formik:w}=(0,h.c)({initialValues:{recordId:l,functionId:T.J.MaterialRequest,dtId:null,siteId:null,disableSKULookup:!1},maxAccess:d,validationSchema:R.Ry({dtId:R.Z_().required()}),onSubmit:async e=>{await M({extension:f.I.DocumentTypeDefault.set,record:JSON.stringify(e)}),w.setFieldValue("recordId",w.values.dtId),r.ZP.success(l?g.Edited:g.Added),_(),o.close()}}),L=!!w.values.recordId;return(0,s.useEffect)(()=>{!async function(){if(l){let e=await E({extension:f.I.DocumentTypeDefault.get,parameters:"_dtId=".concat(l)});w.setValues({...e.record,recordId:e.record.dtId})}}()},[]),(0,a.jsx)(D.Z,{resourceId:u.i.IRMaterialDocTypeDefaults,form:w,maxAccess:d,editMode:L,children:(0,a.jsx)(p.R,{children:(0,a.jsx)(m.Q,{children:(0,a.jsxs)(y.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(y.ZP,{item:!0,xs:12,children:(0,a.jsx)(P.Z,{endpointId:x.r.DocumentType.qry,parameters:"_startAt=0&_pageSize=1000&_dgId=".concat(T.J.MaterialRequest),name:"dtId",required:!0,label:n.documentType,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],readOnly:L,values:w.values,maxAccess:d,onChange:(e,t)=>{w.setFieldValue("dtId",(null==t?void 0:t.recordId)||null)},error:w.touched.dtId&&!!w.errors.dtId})}),(0,a.jsx)(y.ZP,{item:!0,xs:12,children:(0,a.jsx)(P.Z,{endpointId:q.$.Site.qry,name:"siteId",label:n.site,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],values:w.values,maxAccess:d,onChange:(e,t)=>{w.setFieldValue("siteId",(null==t?void 0:t.recordId)||null)},error:w.touched.siteId&&!!w.errors.siteId})}),(0,a.jsx)(y.ZP,{item:!0,xs:12,children:(0,a.jsx)(v.Z,{name:"disableSKULookup",value:null===(t=w.values)||void 0===t?void 0:t.disableSKULookup,onChange:e=>w.setFieldValue("disableSKULookup",e.target.checked),label:n.dsl,maxAccess:d})})]})})})})}var M=()=>{let{getRequest:e,postRequest:t}=(0,s.useContext)(i.$),{platformLabels:n}=(0,s.useContext)(I.l),{stack:y}=(0,o.zY)();async function R(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:n=0,_pageSize:a=50}=t;return{...await e({extension:f.I.DocumentTypeDefault.page,parameters:"_startAt=".concat(n,"&_pageSize=").concat(a)}),_startAt:n}}let{query:{data:D},labels:h,invalidate:x,refetch:P,access:v,paginationParameters:T}=(0,c.J)({queryFn:R,endpointId:f.I.DocumentTypeDefault.page,datasetId:u.i.IRMaterialDocTypeDefaults}),q=[{field:"dtName",headerName:h.documentType,flex:1},{field:"siteName",headerName:h.site,flex:1}],M=async e=>{await t({extension:f.I.DocumentTypeDefault.del,record:JSON.stringify(e)}),x(),r.ZP.success(n.Deleted)};function _(e){y({Component:E,props:{labels:h,recordId:null==e?void 0:e.dtId,maxAccess:v},width:600,height:500,title:h.DocumentTypeDefault})}return(0,a.jsxs)(p.R,{children:[(0,a.jsx)(g.g,{children:(0,a.jsx)(l.Z,{onAdd:()=>{_()},maxAccess:v})}),(0,a.jsx)(m.Q,{children:(0,a.jsx)(d.Z,{columns:q,gridData:D,rowId:["dtId"],onEdit:e=>{_(e)},onDelete:M,pageSize:50,refetch:P,paginationType:"api",paginationParameters:T,maxAccess:v})})]})}},58912:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});let a="IR.asmx/",s={ReplenishmentGroups:{qry:a+"qryGRP",page:a+"pageGRP",get:a+"getGRP",set:a+"setGRP",del:a+"delGRP"},IvReplenishements:{qry:a+"qryHDR",page:a+"pageHDR",get:a+"getHDR",set:a+"setHDR"},IvReplenishementsList:{qry:a+"qryTRX"},GenerateIvReplenishements:{generate:a+"generateTFR"},MaterialReplenishment:{page:a+"pageREQ",del:a+"delREQ",get:a+"getREQ",set2:a+"set2REQ",snapshot:a+"snapshotREQ",close:a+"closeREQ",reopen:a+"reopenREQ",cancel:a+"cancelREQ",print:a+"printREQ"},OrderItem:{qry:a+"qryREI",open:a+"openREI"},MatPlanning:{page:a+"pageMPL",del:a+"delMPL",get:a+"getMPL",set2:a+"set2MPL",reopen:a+"reopenMPL",close:a+"closeMPL",qry:a+"qryMPL",snapshot:a+"snapshotMPL"},MatPlanningItem:{qry:a+"qryMPI",append:a+"appendMPI"},PurchaseRequest:{generate:a+"generatePR"},PlantSettings:{get:a+"getPLT",set:a+"setPLT",del:a+"delPLT"},DocumentTypeDefault:{get:a+"getDTD",set:a+"setDTD",del:a+"delDTD",page:a+"pageDTD"},materialPlaning:{preview:a+"previewMRP"},Transfer:{generate2:a+"generate2TFR"},ConsumptionOfTools:{generate:a+"generateMFCON"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=52859)}),_N_E=e.O()}]);