(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62638],{50670:function(e,r,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr-day-types",function(){return o(7686)}])},7686:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return j}});var n=o(52322),a=o(2784),t=o(62202),s=o(69387),l=o(27723),c=o(65950),d=o(61802),i=o(71987),u=o(26612),p=o(31389),y=o(33625),g=o(62362),x=o(19473),F=o(6035),C=o(60218),m=o(48601),f=o(82737),h=o(5088),T=o(80983),q=o(23925),_=o(8661),P=o(82958),D=o.n(P);function v(e){let{colors:r,...o}=e;return(0,n.jsx)(_.Z,{...o,filterOptions:e=>e,isOptionEqualToValue:(e,r)=>e===r,options:r||["#000000","#993300","#333300","#003300","#003366","#000080","#333399","#333333","#800000","#FF6600","#808000","#008000","#008080","#0000FF","#666699","#808080","#FF0000","#FF9900","#99CC00","#339966","#33CCCC","#3366FF","#800080","#969696","#FF00FF","#FFCC00","#FFFF00","#00FF00","#00FFFF","#00CCFF","#993366","#C0C0C0","#FF99CC","#FFCC99","#FFFF99","#CCFFCC","#CCFFFF","#99CCFF","#CC99FF","#FFFFFF"],getOptionLabel:e=>e.replace("#","").toUpperCase(),renderOption:(e,r,o)=>{let{selected:a}=o;return(0,n.jsx)("li",{...e,style:{padding:0,margin:0},children:(0,n.jsx)(q.Z,{className:"".concat(D().dropdown," ").concat(a?D().dropdownSelected:""),children:(0,n.jsx)(q.Z,{className:D().dropdownBox,sx:{backgroundColor:r}})})})},ListboxProps:{className:D().listbox},startAdornment:(null==o?void 0:o.value)?(0,n.jsx)(q.Z,{className:D().colorBox,style:{"--box-color":null==o?void 0:o.value}}):null})}var S=o(19689);function b(e){let{labels:r,maxAccess:o,recordId:s,window:l}=e,{getRequest:d,postRequest:y}=(0,a.useContext)(c.$),{platformLabels:q}=(0,a.useContext)(x.l),_=(0,i.E)({endpointId:F.f.DayTypes.page}),{formik:P}=(0,T.c)({maxAccess:o,initialValues:{recordId:null,reference:"",name:"",color:""},validateOnChange:!0,validationSchema:m.Ry({name:m.Z_().required(),color:m.Z_().required(),reference:m.Z_().required()}),onSubmit:async e=>{let r=await y({extension:F.f.DayTypes.set,record:JSON.stringify(e)});t.ZP.success(e.recordId?q.Edited:q.Added),P.setFieldValue("recordId",r.recordId),_(),l.close()}}),D=!!P.values.recordId;return(0,a.useEffect)(()=>{!async function(){if(s){let e=await d({extension:F.f.DayTypes.get,parameters:"_recordId=".concat(s)});P.setValues(e.record)}}()},[]),(0,n.jsx)(f.Z,{resourceId:u.i.DayTypes,form:P,maxAccess:o,editMode:D,children:(0,n.jsx)(p.R,{children:(0,n.jsx)(g.Q,{children:(0,n.jsxs)(C.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(C.ZP,{item:!0,xs:12,children:(0,n.jsx)(h.Z,{name:"reference",label:r.reference,value:P.values.reference,required:!0,maxAccess:o,maxLength:"10",onChange:P.handleChange,onClear:()=>P.setFieldValue("reference",""),error:P.touched.reference&&!!P.errors.reference})}),(0,n.jsx)(C.ZP,{item:!0,xs:12,children:(0,n.jsx)(h.Z,{name:"name",label:r.name,value:P.values.name,required:!0,maxAccess:o,maxLength:"50",onChange:P.handleChange,onClear:()=>P.setFieldValue("name",""),error:P.touched.name&&!!P.errors.name})}),(0,n.jsx)(C.ZP,{item:!0,xs:6,children:(0,n.jsx)(S.Z,{name:"isWorkingDay",value:P.values.isWorkingDay,onChange:e=>P.setFieldValue("isWorkingDay",e.target.checked),label:r.isWorkingDay,maxAccess:o})}),(0,n.jsx)(C.ZP,{item:!0,xs:12,children:(0,n.jsx)(v,{name:"color",label:r.color,value:P.values.color,onChange:(e,r)=>{P.setFieldValue("color",r||"")},required:!0,maxAccess:o,error:P.touched.color&&!!P.errors.color})})]})})})})}var j=()=>{let{getRequest:e,postRequest:r}=(0,a.useContext)(c.$),{platformLabels:o}=(0,a.useContext)(x.l),{stack:C}=(0,d.zY)();async function m(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:o=0,_pageSize:n=50}=r;return{...await e({extension:F.f.DayTypes.page,parameters:"_startAt=".concat(o,"&_pageSize=").concat(n,"&_filter=")}),_startAt:o}}let{query:{data:f},labels:h,invalidate:T,paginationParameters:q,refetch:_,access:P}=(0,i.J)({queryFn:m,endpointId:F.f.DayTypes.page,datasetId:u.i.DayTypes}),D=[{field:"reference",headerName:h.reference,flex:1},{field:"name",headerName:h.name,flex:1},{field:"color",headerName:h.color,flex:1,type:"colorCombo"},{field:"isWorkingDay",headerName:h.isWorkingDay,flex:1,type:"checkbox"}],v=async e=>{await r({extension:F.f.DayTypes.del,record:JSON.stringify(e)}),T(),t.ZP.success(o.Deleted)};function S(e){C({Component:b,props:{labels:h,recordId:e,maxAccess:P},width:600,height:300,title:h.dayType})}return(0,n.jsxs)(p.R,{children:[(0,n.jsx)(y.g,{children:(0,n.jsx)(l.Z,{maxAccess:P,onAdd:()=>{S()}})}),(0,n.jsx)(g.Q,{children:(0,n.jsx)(s.Z,{name:"table",columns:D,gridData:f,rowId:["recordId"],onEdit:e=>{S(null==e?void 0:e.recordId)},onDelete:v,pageSize:50,refetch:_,paginationParameters:q,paginationType:"api",maxAccess:P})})]})}},6035:function(e,r,o){"use strict";o.d(r,{f:function(){return a}});let n="TA.asmx/",a={AttendanceScheduleFilters:{qry:n+"qrySD"},ProcessedShiftPunches:{retry:n+"retryPSP"},OvertimeProfiles:{page:n+"pageOTP",set:n+"setOTP",get:n+"getOTP",del:n+"delOTP",qry:n+"qryOTP"},PendingPunches:{page:n+"pagePP",del:n+"delPP",qry:n+"qryPP"},BiometricDevices:{page:n+"pageBM",qry:n+"qryBM",del:n+"delBM",set:n+"setBM",get:n+"getBM"},DSLReasons:{page:n+"pageLR",set:n+"setLR",get:n+"getLR",del:n+"delLR"},TimeVariation:{reset:n+"resetTV",qry:n+"qryTV",qry2:n+"qryTV2",snapshot:n+"snapshotTV",page:n+"pageTV",get:n+"getTV",set:n+"setTV",del:n+"delTV",gen:n+"genTV",close:n+"closeTV",reopen:n+"reopenTV",cancel:n+"cancelTV",override:n+"overrideTV"},ShitLeave:{page:n+"pageLQ",set:n+"setLQ",get:n+"getLQ",del:n+"delLQ",close:n+"closeLQ",reopen:n+"reopenLQ"},FlatSchedule:{qry:n+"qryFS",qry2:n+"qryFS2",copyRange:n+"copyRangeFS",range:n+"rangeFS",del:n+"delRangeFS"},DSLReason:{qry:n+"qryLR"},Calendar:{qry:n+"qryCA"},DayTypes:{page:n+"pageDT",qry:n+"qryDT",set:n+"setDT",get:n+"getDT",del:n+"delDT"},AttendanceDay:{qry:n+"qryAD"},Schedule:{qry:n+"qrySC"},FlatPunch:{qry:n+"qryFP"}}},82958:function(e){e.exports={dropdown:"ColorComboBox_dropdown__wfHHr",listbox:"ColorComboBox_listbox__d9zKe",colorBox:"ColorComboBox_colorBox__8n7U5",dropdownBox:"ColorComboBox_dropdownBox__I_4LR",dropdownSelected:"ColorComboBox_dropdownSelected__R72bE"}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=50670)}),_N_E=e.O()}]);