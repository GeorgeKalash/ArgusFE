(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72218],{15648:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/assign-out-corr",function(){return s(75010)}])},75010:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var r=s(52322),a=s(60218),n=s(2784),o=s(71987),l=s(65950),d=s(26612),u=s(8661),c=s(48601),i=s(31389),y=s(33625),p=s(62362),g=s(88469),C=s(69387),O=s(61802),q=s(62202),I=s(19473),h=s(27423),m=s(53621),S=s(80983),f=s(54074);function R(e){let{maxAccess:t,labels:s,outwardsList:a,refetch:o,window:d}=e,{postRequest:u}=(0,n.useContext)(l.$),{platformLabels:y}=(0,n.useContext)(I.l),{formik:p}=(0,S.c)({maxAccess:t,initialValues:{corId:""},validateOnChange:!0,validationSchema:c.Ry({corId:c.Z_().required()}),onSubmit:async e=>{let t={corId:e.corId,outwards:a};await u({extension:g.N.CorrespondentOutwards.set,record:JSON.stringify(t)}),o(),q.ZP.success(y.Updated),d.close()}});return(0,r.jsx)(f.Z,{onSave:p.handleSubmit,maxAccess:t,children:(0,r.jsx)(i.R,{children:(0,r.jsx)(h.U,{endpointId:m.d.Correspondent.snapshot,valueField:"reference",displayField:"name",name:"corId",label:s.correspondent,form:p,required:!0,displayFieldWidth:2,valueShow:"corRef",secondValueShow:"corName",maxAccess:t,onChange:(e,t)=>{p.setFieldValue("corId",t?t.recordId:""),p.setFieldValue("corName",t?t.name:""),p.setFieldValue("corRef",t?t.reference:"")},error:p.touched.corId&&!!p.errors.corId})})})}var F=s(91406),v=s(89330),P=()=>{var e,t;let{getRequest:s}=(0,n.useContext)(l.$),{stack:q}=(0,O.zY)(),[I,h]=(0,n.useState)([]),{labels:m,maxAccess:P,refetch:x}=(0,o.J)({queryFn:E,endpointId:g.N.OutwardsTransfer.qry2,datasetId:d.i.CorrespondentOutwards}),A=[{field:"reference",headerName:m.reference},{field:"date",headerName:m.date,type:"date"},{field:"countryRef",headerName:m.country,flex:1},{field:"currencyRef",headerName:m.currency,flex:1},{field:"dispersalName",headerName:m.dispersalType,flex:1},{field:"clientName",headerName:m.client},{field:"fcAmount",headerName:m.fcAmount,type:"number"},{field:"amount",headerName:m.amount,type:"number"}],{formik:W}=(0,S.c)({initialValues:{countryId:0,currencyId:"",fromAmount:"",dispersalType:"",totalFc:"",totalAm:"",fromDate:"",toDate:""},maxAccess:P,validateOnChange:!0,validationSchema:c.Ry({countryId:c.Z_().required()})}),D=e=>{if(!e)return"1-1-1970";let t=new Date(e),s=t.getMonth()+1,r=t.getDate(),a=t.getFullYear();return"".concat(s,"-").concat(r,"-").concat(a)};async function E(){let e=D(W.values.fromDate),t="1-1-1970"===D(W.values.toDate)?"1-1-2050":D(W.values.toDate),r=await s({extension:g.N.OutwardsTransfer.qry2,parameters:"_countryId=".concat(W.values.countryId||0,"&_currencyId=").concat(W.values.currencyId||0,"&_corId=").concat(W.values.corId||0,"&_dispersalType=").concat(W.values.dispersalType||0,"&_fromAmount=").concat(W.values.fromAmount||0,"&_toAmount=").concat(W.values.toAmount||0,"&_fromDate=").concat(e,"&_todate=").concat(t)});h(null!=r?r:{list:[]})}let T=()=>{var e;q({Component:R,props:{maxAccess:P,labels:m,outwardsList:null==I?void 0:null===(e=I.list)||void 0===e?void 0:e.filter(e=>e.checked),refetch:E},width:500,height:250,title:m.correspondent})},N=[{key:"Correspondent",condition:!0,onClick:T}];return(0,n.useEffect)(()=>{E(),W.setFieldValue("totalAm",0),W.setFieldValue("totalFc",0)},[W.values.countryId,W.values.currencyId,W.values.dispersalType,W.values.fromDate,W.values.toDate,W.values.fromAmount,W.values.toAmount]),(0,r.jsx)(f.Z,{actions:N,onSave:T,maxAccess:P,isSaved:!1,fullSize:!0,children:(0,r.jsxs)(i.R,{children:[(0,r.jsx)(y.g,{children:(0,r.jsx)(a.ZP,{container:!0,spacing:2,p:2,children:(0,r.jsx)(a.ZP,{item:!0,xs:12,children:(0,r.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(a.ZP,{item:!0,xs:4,children:(0,r.jsx)(u.Z,{endpointId:g.N.UnassignedCountry.unassigned,name:"countryId",label:m.country,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],values:W.values,valueField:"recordId",displayField:["reference","name","flName"],maxAccess:P,onChange:(e,t)=>{t?W.setFieldValue("countryId",t.recordId):W.setFieldValue("countryId",0),W.setFieldValue("currencyId",""),W.setFieldValue("dispersalType","")},error:W.touched.countryId&&!!W.errors.countryId})}),(0,r.jsx)(a.ZP,{item:!0,xs:4,children:(0,r.jsx)(u.Z,{endpointId:g.N.UnassignedCurrency.unassigned,parameters:W.values.countryId&&"_countryId=".concat(W.values.countryId||0),name:"currencyId",label:m.currency,readOnly:!W.values.countryId,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],values:W.values,maxAccess:P,onChange:(e,t)=>{W.setFieldValue("currencyId",(null==t?void 0:t.recordId)||null),W.setFieldValue("dispersalType","")},error:W.touched.currencyId&&!!W.errors.currencyId})}),(0,r.jsx)(a.ZP,{item:!0,xs:4,children:(0,r.jsx)(u.Z,{endpointId:g.N.UnassignedDispersalType.unassigned,parameters:W.values.currencyId&&"_countryId=".concat(W.values.countryId||0,"&_currencyId=").concat(W.values.currencyId||0),name:"dispersalType",label:m.dispersalType,readOnly:!W.values.currencyId,valueField:"key",displayField:"value",values:W.values,onChange:(e,t)=>{W.setFieldValue("dispersalType",null==t?void 0:t.key)}})}),(0,r.jsx)(a.ZP,{item:!0,xs:3,children:(0,r.jsx)(F.Z,{name:"fromAmount",label:m.fromAmount,value:W.values.fromAmount,onBlur:W.handleChange,onClear:()=>W.setFieldValue("fromAmount",""),decimalScale:2})}),(0,r.jsx)(a.ZP,{item:!0,xs:3,children:(0,r.jsx)(F.Z,{name:"toAmount",label:m.toAmount,value:W.values.toAmount,onBlur:W.handleChange,onClear:()=>W.setFieldValue("toAmount",""),decimalScale:2})}),(0,r.jsx)(a.ZP,{item:!0,xs:3,children:(0,r.jsx)(v.Z,{name:"fromDate",max:W.values.toDate,label:m.fromDate,value:null==W?void 0:null===(e=W.values)||void 0===e?void 0:e.fromDate,onChange:W.setFieldValue,onClear:()=>W.setFieldValue("fromDate",""),error:!1})}),(0,r.jsx)(a.ZP,{item:!0,xs:3,children:(0,r.jsx)(v.Z,{name:"toDate",min:W.values.fromDate,label:m.toDate,value:null==W?void 0:null===(t=W.values)||void 0===t?void 0:t.toDate,onChange:W.setFieldValue,onClear:()=>W.setFieldValue("toDate",""),error:!1})})]})})})}),(0,r.jsx)(p.Q,{children:(0,r.jsx)(C.Z,{columns:A,gridData:I,rowId:["recordId"],isLoading:!1,refetch:x,maxAccess:P,pageSize:50,paginationType:"client",showCheckboxColumn:!0,handleCheckboxChange:function(){var e,t;let s=W.values.countryId&&W.values.currencyId?null===(e=I.list)||void 0===e?void 0:e.reduce((e,t)=>{let s=0;return t.checked&&(s=parseFloat(t.fcAmount.toString().replace(/,/g,""))||0),e+s},0):0,r=null===(t=I.list)||void 0===t?void 0:t.reduce((e,t)=>{let s=0;return t.checked&&(s=parseFloat(t.amount.toString().replace(/,/g,""))||0),e+s},0);W.setFieldValue("totalFc",s),W.setFieldValue("totalAm",r)}})}),(0,r.jsx)(y.g,{children:(0,r.jsxs)(a.ZP,{container:!0,justifyContent:"flex-end",spacing:2,sx:{p:2},children:[(0,r.jsx)(a.ZP,{item:!0,xs:1.2,children:(0,r.jsx)(F.Z,{name:"totalFc",label:m.totalFc,value:W.values.totalFc,readOnly:!0,hidden:!(W.values.countryId&&W.values.currencyId)})}),(0,r.jsx)(a.ZP,{item:!0,xs:1.2,children:(0,r.jsx)(F.Z,{name:"totalAm",label:m.totalAm,value:W.values.totalAm,readOnly:!0})})]})})]})})}},88469:function(e,t,s){"use strict";s.d(t,{N:function(){return a}});let r="RTOW.asmx/",a={Country:{qry:r+"qryPCO2"},DispersalType:{qry:r+"qryPMO2"},Currency:{qry:r+"qryPMO3"},Agent:{qry:r+"qryPDA2"},ProductDispersalEngine:{qry:r+"qryPDE"},OutwardsCash:{qry:r+"qryOWC"},OutwardsOrder:{qry:r+"qryOWO",qry2:r+"qryOWO2",page:r+"pageOWO",get:r+"getOWO",get2:r+"get2OWO",set:r+"setOWO",set2:r+"set2OWO",del:r+"delOWO",close:r+"closeOWO",reopen:r+"reopenOWO",post:r+"postOWO",snapshot:r+"snapshotOWO"},OutwardsRequest:{get:r+"getOWX"},InwardSettlement:{qry:r+"qryIWS",page:r+"pageIWS",get:r+"getIWS",set:r+"setIWS",del:r+"delIWS",close:r+"closeIWS",reopen:r+"reopenIWS",post:r+"postIWS",snapshot:r+"snapshotIWS"},InwardsTransfer:{get:r+"getIW",set:r+"setIW",del:r+"delIW",snapshot:r+"snapshotIW",snapshot2:r+"snapshotIW2",close:r+"closeIW",reopen:r+"reopenIW",post:r+"postIW",open:r+"openIW"},InwardGLInformation:{get:r+"getIWI"},Beneficiary:{qry:r+"qryBEN",qry2:r+"qryBEN2",qry3:r+"qryBEN3",get:r+"getBEN",del:r+"delBEN",snapshot:r+"snapshotBEN",snapshot2:r+"snapshotBEN2 "},BeneficiaryBank:{qry:r+"qryBEB",get:r+"getBEB",set:r+"set2BEB",del:r+"delBEB"},BeneficiaryCash:{qry:r+"qryBEC",get:r+"getBEC",set:r+"set2BEC",del:r+"delBEC"},FeeSchedule:{qry:r+"qryFSC",page:r+"pageFSC",snapshot:r+"snapshotFSC",get:r+"getFSC",set:r+"setFSC",del:r+"delFSC"},FeeScheduleDetail:{qry:r+"qryFSD",get:r+"getFSD",set2:r+"set2FSD",del:r+"delFSD"},FeeScheduleOutwards:{qry:r+"qryFSO",page:r+"pageFSO",get:r+"getFSO",set:r+"setFSO",del:r+"delFSO"},FeeScheduleInwards:{qry:r+"qryFSI",page:r+"pageFSI",get:r+"getFSI",set:r+"setFSI",del:r+"delFSI"},OutwardGLInformation:{get:r+"getOWI"},AutoPostExclusion:{qry:r+"qryAPX",get:r+"getAPX",set:r+"setAPX",del:r+"delAPX",get2:r+"get2APX",set2:r+"set2APX"},OutwardsModification:{qry:r+"qryOWM",page:r+"pageOWM",snapshot:r+"snapshotOWM",get:r+"getOWM",set2:r+"set2OWM",del:r+"delOWM",post:r+"postOWM",reopen:r+"reopenOWM",close:r+"closeOWM"},Postoutwards:{qry:r+"qryOWT3",post2:r+"post2OWT"},OutwardsReturn:{page:r+"pageOWR",qry2:r+"qryOWR2",get:r+"getOWR",set:r+"setOWR",close:r+"closeOWR",reopen:r+"reopenOWR",post:r+"postOWR",snapshot:r+"snapshotOWR"},CorrespondentOutwards:{qry:r+"qryACE",set:r+"setACE"},ReceiptVouchers:{qry:r+"qryRV",page:r+"pageRV",get:r+"getRV",set:r+"setRV",set2:r+"set2RV",del:r+"delRV",post:r+"postRV",close:r+"closeRV",reopen:r+"reopenRV",snapshot:r+"snapshotRV"},OutwardsTransfer:{get:r+"getOWT",snapshot:r+"snapshotOWT",qry2:r+"qryOWT2"},UnassignedCountry:{unassigned:r+"unassignedCOU"},UnassignedCurrency:{unassigned:r+"unassignedCU"},UnassignedDispersalType:{unassigned:r+"unassignedDT"},AssignedCountry:{assigned:r+"assignedCOU"},AssignedCurrency:{assigned:r+"assignedCU"},AssignedDispersalType:{assigned:r+"assignedDT"},OutwardReturnSettlement:{qry:r+"qryORS",page:r+"pageORS",get:r+"getORS",get2:r+"get2ORS",set:r+"setORS",set2:r+"set2ORS",del:r+"delORS",post:r+"postORS",close:r+"closeORS",reopen:r+"reopenORS",snapshot:r+"snapshotORS"},OutwardReturnReason:{page:r+"pageOWRR",snapshot:r+"snapshotOWRR",qry:r+"qryOWRR",get:r+"getOWRR",set:r+"setOWRR",del:r+"delOWRR"}}},53621:function(e,t,s){"use strict";s.d(t,{d:function(){return a}});let r="RTSET.asmx/",a={Interface:{qry:r+"qryITF",page:r+"pageITF",get:r+"getITF",set:r+"setITF",del:r+"delITF"},ProductMaster:{qry:r+"qryPRO",page:r+"pagePRO",get:r+"getPRO",set:r+"setPRO",del:r+"delPRO",snapshot:r+"snapshotPRO"},ProductCountries:{qry:r+"qryPCO",set2:r+"set2PCO"},ProductMonetaries:{qry:r+"qryPMO",set2:r+"set2PMO"},ProductDispersal:{qry:r+"qryPDI",get:r+"getPDI",set:r+"setPDI",del:r+"delPDI"},ProductSchedules:{qry:r+"qryPSC",set2:r+"set2PSC"},ProductScheduleRanges:{qry:r+"qryPSR",set2:r+"set2PSR"},ProductScheduleFees:{qry:r+"qryPSF",set2:r+"set2PSF"},ProductDispersalAgents:{qry:r+"qryPDA",set2:r+"set2PDA"},Correspondent:{page:r+"pageCOR",qry:r+"qryCOR",qry2:r+"qry2COR",get:r+"getCOR",set:r+"setCOR",del:r+"delCOR",snapshot:r+"snapshotCOR"},CorrespondentCountry:{qry:r+"qryCCO",get:r+"getCCO",set2:r+"set2CCO",del:r+"delCCO"},CorrespondentCurrency:{qry:r+"qryCCU",get:r+"getCCU",set2:r+"set2CCU",del:r+"delCCU"},CorrespondentAgents:{qry:r+"qryAGT",page:r+"pageAGT",get:r+"getAGT",set:r+"setAGT",del:r+"delAGT"},CorrespondentAgentBranches:{qry:r+"qryABR",page:r+"pageABR",get:r+"getABR",set:r+"setABR",del:r+"delABR"},CorrespondentExchangeMap:{qry:r+"qryEXC",set2:r+"set2EXC"},CurrencyExchangeMap:{qry:r+"qryEXG",set2:r+"set2EXG"},CorrespondentExchangeBuyMap:{qry:r+"qryEXB",set2:r+"set2EXB"},ExchangeRates:{get:r+"getEXB",qry:r+"qryEXG2",set2:r+"set2EXB"},RtDefault:{qry:r+"qryDE",set2:r+"set2DE"},Profession:{qry:r+"qryPFN",page:r+"pagePFN",get:r+"getPFN",set:r+"setPFN",del:r+"delPFN",snapshot:r+"snapshotPFN"},ClientIndividual:{qry:r+"qryCLI"},SalaryRange:{qry:r+"qrySRA",page:r+"pageSRA",get:r+"getSRA",set:r+"setSRA",del:r+"delSRA"},SourceOfIncome:{qry:r+"qrySI",page:r+"pageSI",snapshot:r+"snapshotSI",get:r+"getSI",set:r+"setSI",del:r+"delSI"},CorrespondentControl:{qry:r+"qryCCL",set:r+"set2CCL"},InterfaceMaps:{qry:r+"qryIFM",get:r+"getIFM",set2:r+"set2IFM"},SourceOfIncomeType:{qry:r+"qrySIT",snapshot:r+"snapshotSIT",page:r+"pageSIT",get:r+"getSIT",set:r+"setSIT",del:r+"delSIT"},ProfessionGroups:{qry:r+"qryPFG",page:r+"pagePFG",snapshot:r+"snapshotPFG",get:r+"getPFG",set:r+"setPFG",del:r+"delPFG"},CorrespondentGroup:{qry:r+"qryCGP",page:r+"pageCGP",get:r+"getCGP",set:r+"setCGP",del:r+"delCGP"},ExtraIncome:{qry:r+"qryEI",get:r+"getEI",del:r+"delEI",page:r+"pageEI",snapshot:r+"snapshotEI",set:r+"setEI"},CountryRisk:{page:r+"pageCOU",get:r+"getCOU",set:r+"setCOU",del:r+"delCOU"},CorDispControl:{qry:r+"qryCDC",set2:r+"set2CDC"},CorrespondentDispersal:{qry:r+"qryCDM",get:r+"getCDM",del:r+"delCDM",set2:r+"set2CDM"},CorrespondentDispersalRate:{qry:r+"qryCDR",set2:r+"set2CDR"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=15648)}),_N_E=e.O()}]);