(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89501],{10725:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user-otp-qrcode",function(){return s(82953)}])},82953:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(52322),n=s(2784),i=s(61802),a=s(62202),o=s(65950),d=s(31389),c=s(95982),u=s(38449),l=s(71987),f=s(26612),_=s(19473),v=s(62362),w=s(54074),g=()=>{var e;let[t,s]=(0,n.useState)(""),{getRequest:i,postRequest:g}=(0,n.useContext)(o.$),x=null===(e=JSON.parse(window.sessionStorage.getItem("userData")))||void 0===e?void 0:e.userId,{platformLabels:h}=(0,n.useContext)(_.l),p=async()=>{var e;let t=await i({extension:c.y.UserOTPQrcode.secret});s(null==t?void 0:null===(e=t.record)||void 0===e?void 0:e.imageUrl)},{labels:C}=(0,l.J)({datasetId:f.i.UserSecretOTPQrCode});(0,n.useEffect)(()=>{p()},[]);let S=async()=>{let e=await i({extension:u.r.Users.get,parameters:"_recordId=".concat(x)}),t={...e.record,is2FAEnabled:!0,otpDevice:1,statusId:e.statusId,message:e.message};await g({extension:u.r.Users.set,record:JSON.stringify(t)}),a.ZP.success(h.Enabled)};return(0,r.jsx)(w.Z,{actions:[{key:"generated 2 FA",condition:!0,onClick:()=>S(),disabled:!1}],onSave:S,isSaved:!1,fullSize:!0,children:(0,r.jsx)(d.R,{children:(0,r.jsx)(v.Q,{children:t?(0,r.jsx)("img",{src:t,alt:C.QRCode,style:{width:200,height:200,margin:"auto"}}):(0,r.jsx)("div",{})})})})},x=()=>(0,r.jsx)(i.ut,{labelKey:"userOTPQrcode",datasetId:f.i.UserSecretOTPQrCode,Component:g})}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=10725)}),_N_E=e.O()}]);