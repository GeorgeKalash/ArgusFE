(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46986],{66273:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/group-legal-document",function(){return t(25685)}])},25685:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return N}});var a=t(52322),d=t(2784),n=t(62202),l=t(69387),s=t(27723),o=t(65950),c=t(253),u=t(71987),i=t(26612),g=t(31389),p=t(33625),y=t(62362),I=t(48601),m=t(82737),q=t(60218),R=t(8661),h=t(80983),x=t(19689);function f(e){var r,t;let{labels:l,maxAccess:s,recordId:p,record:f}=e,{getRequest:L,postRequest:N}=(0,d.useContext)(o.$),G=(0,u.E)({endpointId:c.F.GroupLegalDocument.page}),{formik:D}=(0,h.c)({initialValues:{recordId:p||null,groupId:"",incId:"",required:!1,mandatory:!1},maxAccess:s,validateOnChange:!0,validationSchema:I.Ry({groupId:I.Z_().required(),incId:I.Z_().required()}),onSubmit:async e=>{let r=D.values.groupId,t=D.values.incId;await N({extension:c.F.GroupLegalDocument.set,record:JSON.stringify(e)}),r||t?n.ZP.success("Record Edited Successfully"):n.ZP.success("Record Added Successfully"),D.setFieldValue("recordId",1e4*e.groupId+e.incId),G()}}),v=!!D.values.recordId||!!p;return(0,d.useEffect)(()=>{!async function(){try{if(f&&f.incId&&f.groupId&&p){let e=await L({extension:c.F.GroupLegalDocument.get,parameters:"_groupId=".concat(null==f?void 0:f.groupId,"&_incId=").concat(null==f?void 0:f.incId)});D.setValues({...e.record,recordId:1e4*e.record.groupId+e.record.incId})}}catch(e){}}()},[]),(0,a.jsx)(m.Z,{resourceId:i.i.GroupLegalDocument,form:D,height:300,maxAccess:s,editMode:v,children:(0,a.jsx)(g.R,{children:(0,a.jsx)(y.Q,{children:(0,a.jsxs)(q.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(q.ZP,{item:!0,xs:12,children:(0,a.jsx)(R.Z,{readOnly:v,endpointId:c.F.Group.qry,name:"groupId",label:l.group,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:" Ref"},{key:"name",value:"Name"}],values:D.values,required:!0,maxAccess:s,onChange:(e,r)=>{D&&D.setFieldValue("groupId",null==r?void 0:r.recordId)},error:D.touched.groupId&&!!D.errors.groupId})}),(0,a.jsx)(q.ZP,{item:!0,xs:12,children:(0,a.jsx)(R.Z,{readOnly:v,endpointId:c.F.CategoryID.qry,name:"incId",label:l.categoryId,valueField:"recordId",displayField:"name",values:D.values,required:!0,maxAccess:s,onChange:(e,r)=>{D&&D.setFieldValue("incId",null==r?void 0:r.recordId)},error:D.touched.incId&&!!D.errors.incId})}),(0,a.jsx)(q.ZP,{item:!0,xs:12,children:(0,a.jsx)(x.Z,{name:"required",valueField:"recordId",value:null===(r=D.values)||void 0===r?void 0:r.required,onChange:e=>D.setFieldValue("required",e.target.checked),label:l.required,maxAccess:s})}),(0,a.jsx)(q.ZP,{item:!0,xs:12,children:(0,a.jsx)(x.Z,{name:"mandatory",valueField:"recordId",value:null===(t=D.values)||void 0===t?void 0:t.mandatory,onChange:e=>D.setFieldValue("mandatory",e.target.checked),label:l.mandatory,maxAccess:s})})]})})})})}var L=t(61802),N=()=>{let{getRequest:e,postRequest:r}=(0,d.useContext)(o.$),{stack:t}=(0,L.zY)();async function I(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:a=50}=r;return{...await e({extension:c.F.GroupLegalDocument.page,parameters:"_startAt=".concat(t,"&_pageSize=").concat(a,"&filter=")}),_startAt:t}}let{query:{data:m},paginationParameters:q,refetch:R,labels:h,access:x}=(0,u.J)({queryFn:I,endpointId:c.F.GroupLegalDocument.page,datasetId:i.i.GroupLegalDocument}),N=(0,u.E)({endpointId:c.F.GroupLegalDocument.page}),G=[{field:"groupName",headerName:h.group,flex:1},{field:"incName",headerName:h.categoryId,flex:1},{field:"required",headerName:h.required,flex:1,type:"checkbox"},{field:"mandatory",headerName:h.mandatory,flex:1,type:"checkbox"}];function D(e){t({Component:f,props:{labels:h,record:e,maxAccess:x,recordId:e?1e4*e.groupId+e.incId:null},width:600,height:370,title:h.groupLegalDocument})}let v=async e=>{await r({extension:c.F.GroupLegalDocument.del,record:JSON.stringify(e)}),N(),n.ZP.success("Record Deleted Successfully")};return(0,a.jsxs)(g.R,{children:[(0,a.jsxs)(p.g,{children:[(0,a.jsx)(s.Z,{onAdd:()=>{D()},maxAccess:x})," "]}),(0,a.jsx)(y.Q,{children:(0,a.jsx)(l.Z,{columns:G,gridData:m,rowId:["groupId","incId"],onEdit:e=>{D(e)},onDelete:v,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:q,refetch:R,maxAccess:x})})]})};c.F.CategoryID.qry,c.F.Group.qry},253:function(e,r,t){"use strict";t.d(r,{F:function(){return d}});let a="BP.asmx/",d={LegalStatus:{qry:a+"qryLGS",page:a+"pageLGS",get:a+"getLGS",set:a+"setLGS",del:a+"delLGS"},GroupLegalDocument:{qry:a+"qryGIN",page:a+"pageGIN",get:a+"getGIN",set:a+"setGIN",del:a+"delGIN"},CategoryID:{qry:a+"qryINC",get:a+"getINC",page:a+"pageINC",set:a+"setINC",del:a+"delINC"},Group:{qry:a+"qryGRP",get:a+"getGRP",set:a+"setGRP",del:a+"delGRP"},MasterData:{qry:a+"qryMAS",qry2:a+"qryMAS2",get:a+"getMAS",set:a+"setMAS",del:a+"delMAS",snapshot:a+"snapshotMAS"},RelationTypes:{qry:a+"qryRLT",page:a+"pageRLT",get:a+"getRLT",set:a+"setRLT",del:a+"delRLT"},Groups:{qry:a+"qryGRP",page:a+"pageGRP",get:a+"getGRP",set:a+"setGRP",del:a+"delGRP"},MasterIDNum:{qry:a+"qryMIN",page:a+"pageMIN",get:a+"getMIN",set:a+"setMIN",del:a+"delMIN"},Relation:{qry:a+"qryREL",page:a+"pageREL",get:a+"getREL",set:a+"setREL",del:a+"delREL"},BPAddress:{qry:a+"qryADD",page:a+"pageADD",get:a+"getADD",set:a+"setADD",del:a+"delADD"},RoleCategory:{qry:a+"qryROC",get:a+"getROC",page:a+"pageROC",set:a+"setROC",del:a+"delROC"},Role:{qry:a+"qryROL",page:a+"pageROL",get:a+"getROL",set:a+"setROL",del:a+"delROL"},MasterDataRole:{qry:a+"qryMRO",del:a+"delMRO",get:a+"getMRO",set:a+"setMRO"},MasterSales:{get:a+"getSAL",set:a+"setSAL"},MasterPurchase:{get:a+"getPUR",set:a+"setPUR"},Bank:{qry:a+"qryBNK",get:a+"getBNK",set:a+"setBNK",del:a+"delBNK"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=66273)}),_N_E=e.O()}]);