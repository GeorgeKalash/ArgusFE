(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92261],{24493:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr-org-chart",function(){return a(99487)}])},99487:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var n=a(52322),r=a(2784),l=a(27723),o=a(65950),i=a(31389),s=a(33625),d=a(19473),u=a(60218),c=a(80983),g=a(8661),h=a(84100),p=a(26612),m=a(50023),w=a(70104),f=a(69627),v=a(44189),_=()=>{let{getRequest:e}=(0,r.useContext)(o.$),{platformLabels:t}=(0,r.useContext)(d.l),{labels:a,access:_}=(0,m.Z)({datasetId:p.i.OrganizationChart}),{formik:y}=(0,c.c)({initialValues:{type:0,orgData:[]},validateOnChange:!0,onSubmit:async t=>{let a=function(e){let t={},a={};return null==e||e.forEach(e=>{t[e.recordId]=e.name,a[e.recordId]=e}),null==e?void 0:e.map(e=>{let a=String(null==e?void 0:e.recordId),n=null==e?void 0:e.name,r="";return(null==e?void 0:e.parentId)!=null&&t[null==e?void 0:e.parentId]?r=String(e.parentId):e.parentName&&(r=e.parentName),[{v:a,f:n},r]})}((await e({extension:w.K.DepartmentFilters.qry,parameters:"_filter=&_size=1000&_startAt=0&_type=".concat(null==t?void 0:t.type,"&_activeStatus=1&_sortBy=recordId")})).list||[]);y.setFieldValue("orgData",a)}});return(0,n.jsx)(i.R,{children:(0,n.jsxs)(s.g,{children:[(0,n.jsx)(l.Z,{hasSearch:!1,middleSection:(0,n.jsxs)(u.ZP,{container:!0,spacing:2,padding:2,alignItems:"flex-end",children:[(0,n.jsx)(u.ZP,{item:!0,xs:3,children:(0,n.jsx)(g.Z,{datasetId:h.v.ORG_CHART_TYPE,name:"type",label:a.type,valueField:"key",displayField:"value",maxAccess:_,values:y.values,onChange:(e,t)=>{y.setFieldValue("type",(null==t?void 0:t.key)||0)}})}),(0,n.jsx)(u.ZP,{item:!0,children:(0,n.jsx)(f.Z,{onClick:y.handleSubmit,label:t.GO,color:"#231f20"})})]})}),y.values.orgData&&(0,n.jsx)(v.Z,{data:y.values.orgData})]})})}},70104:function(e,t,a){"use strict";a.d(t,{K:function(){return r}});let n="CS.asmx/",r={DivisionFilters:{qry:n+"qryDI"},BranchFilters:{qry:n+"qryBR"},CompanyPositions:{qry:n+"qryPO"},DepartmentFilters:{qry:n+"qryDE"}}},44189:function(e,t,a){"use strict";var n=a(52322),r=a(2784),l=a(90390),o=a.n(l);t.Z=e=>{let{data:t,allowCollapse:a=!1}=e,l=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=()=>{window.google.charts.load("current",{packages:["orgchart"]}),window.google.charts.setOnLoadCallback(()=>{let e=new window.google.visualization.DataTable;e.addColumn("string","Name"),e.addColumn("string","Manager"),e.addRows(t),new window.google.visualization.OrgChart(l.current).draw(e,{allowHtml:!0,allowCollapse:a})})};(()=>{if(window.google)e();else{let t=document.createElement("script");t.src="https://www.gstatic.com/charts/loader.js",t.onload=e,document.head.appendChild(t)}})()},[t]),(0,n.jsx)("div",{ref:l,className:o().orgChartRoot})}},90390:function(e){e.exports={orgChartRoot:"OrgChart_orgChartRoot__2Z5JK"}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=24493)}),_N_E=e.O()}]);