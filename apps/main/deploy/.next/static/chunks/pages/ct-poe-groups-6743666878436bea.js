(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79807],{92639:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ct-poe-groups",function(){return a(12935)}])},12935:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return I}});var r=a(52322),t=a(2784),s=a(62202),o=a(69387),c=a(27723),u=a(65950),i=a(71987),d=a(26612),l=a(31389),h=a(33625),p=a(62362),x=a(61802),m=a(19473),f=a(60218),g=a(48601),E=a(82737),N=a(80983),_=a(5088),P=a(24074);function C(e){let{labels:n,recordId:a,maxAccess:o}=e,{platformLabels:c}=(0,t.useContext)(m.l),{getRequest:h,postRequest:x}=(0,t.useContext)(u.$),C=(0,i.E)({endpointId:P.u.PurposeExchangeGroup.page}),{formik:I}=(0,N.c)({initialValues:{recordId:null,name:"",flName:""},maxAccess:o,validateOnChange:!0,validationSchema:g.Ry({name:g.Z_().required()}),onSubmit:async e=>{let n=await x({extension:P.u.PurposeExchangeGroup.set,record:JSON.stringify(e)});e.recordId||I.setFieldValue("recordId",n.recordId),s.ZP.success(e.recordId?c.Edited:c.Added),C()}}),j=!!I.values.recordId;return(0,t.useEffect)(()=>{!async function(){if(a){let e=await h({extension:P.u.PurposeExchangeGroup.get,parameters:"_recordId=".concat(a)});I.setValues(e.record)}}()},[]),(0,r.jsx)(E.Z,{resourceId:d.i.PurposeExchangeGroup,form:I,maxAccess:o,editMode:j,children:(0,r.jsx)(l.R,{children:(0,r.jsx)(p.Q,{children:(0,r.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(_.Z,{name:"name",label:n.name,value:I.values.name,required:!0,maxLength:"30",maxAccess:o,onChange:I.handleChange,onClear:()=>I.setFieldValue("name",""),error:I.touched.name&&I.errors.name})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,children:(0,r.jsx)(_.Z,{name:"flName",label:n.flName,value:I.values.flName,maxAccess:o,onChange:I.handleChange,onClear:()=>I.setFieldValue("flName",""),error:I.touched.flName&&!!I.errors.flName})})]})})})})}var I=()=>{let{getRequest:e,postRequest:n}=(0,t.useContext)(u.$),{platformLabels:a}=(0,t.useContext)(m.l),{stack:f}=(0,x.zY)();async function g(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:r=50}=n;return{...await e({extension:P.u.PurposeExchangeGroup.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(r)}),_startAt:a}}async function E(n){let{qry:a}=n;return await e({extension:P.u.PurposeExchangeGroup.snapshot,parameters:"_filter=".concat(a)})}let{query:{data:N},search:_,clear:I,labels:j,paginationParameters:w,refetch:v,invalidate:y,access:Z}=(0,i.J)({queryFn:g,endpointId:P.u.PurposeExchangeGroup.page,datasetId:d.i.PurposeExchangeGroup,search:{searchFn:E}}),A=[{field:"name",headerName:j.name,flex:1},{field:"flName",headerName:j.flName,flex:1}];function G(e){f({Component:C,props:{labels:j,recordId:e,maxAccess:Z},width:600,height:300,title:j.purposeOfExchangeGroup})}let S=async e=>{await n({extension:P.u.PurposeExchangeGroup.del,record:JSON.stringify(e)}),y(),s.ZP.success(a.Deleted)};return(0,r.jsxs)(l.R,{children:[(0,r.jsx)(h.g,{children:(0,r.jsx)(c.Z,{onAdd:()=>{G()},maxAccess:Z,onSearch:_,onSearchClear:I,inputSearch:!0})}),(0,r.jsx)(p.Q,{children:(0,r.jsx)(o.Z,{columns:A,gridData:N,rowId:["recordId"],onEdit:e=>{G(null==e?void 0:e.recordId)},onDelete:S,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:w,refetch:v,maxAccess:Z})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=92639)}),_N_E=e.O()}]);