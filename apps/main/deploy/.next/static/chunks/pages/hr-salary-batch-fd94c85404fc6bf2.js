(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19041],{99983:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr-salary-batch",function(){return r(4427)}])},4427:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var a=r(52322),n=r(2784),s=r(62202),l=r(69387),c=r(27723),d=r(65950);r(2119);var i=r(71987),o=r(26612),y=r(31389),g=r(33625),u=r(62362),p=r(61802),h=r(19473),m=r(60218),S=r(48601),f=r(82737),q=r(5088),x=r(80983),P=r(83562);function E(e){let{labels:t,maxAccess:r,recordId:l}=e,{getRequest:c,postRequest:g}=(0,n.useContext)(d.$),{platformLabels:p}=(0,n.useContext)(h.l),E=(0,i.E)({endpointId:P.m.SalaryBatch.page}),{formik:C}=(0,x.c)({initialValues:{recordId:l,reference:"",name:""},maxAccess:r,validateOnChange:!0,validationSchema:S.Ry({reference:S.Z_().required(),name:S.Z_().required()}),onSubmit:async e=>{let t=await g({extension:P.m.SalaryBatch.set,record:JSON.stringify(e)});e.recordId||C.setFieldValue("recordId",t.recordId),s.ZP.success(e.recordId?p.Edited:p.Added),E()}}),I=!!C.values.recordId;return(0,n.useEffect)(()=>{!async function(){if(l){let e=await c({extension:P.m.SalaryBatch.get,parameters:"_recordId=".concat(l)});C.setValues(e.record)}}()},[]),(0,a.jsx)(f.Z,{resourceId:o.i.SalaryBatch,form:C,maxAccess:r,editMode:I,children:(0,a.jsx)(y.R,{children:(0,a.jsx)(u.Q,{children:(0,a.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(m.ZP,{item:!0,xs:12,children:(0,a.jsx)(q.Z,{name:"reference",label:t.reference,value:C.values.reference,required:!0,maxAccess:r,maxLength:"10",onChange:C.handleChange,onClear:()=>C.setFieldValue("reference",""),error:C.touched.reference&&!!C.errors.reference})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,children:(0,a.jsx)(q.Z,{name:"name",label:t.name,value:C.values.name,required:!0,maxLength:"50",maxAccess:r,onChange:C.handleChange,onClear:()=>C.setFieldValue("name",""),error:C.touched.name&&!!C.errors.name})})]})})})})}var C=()=>{let{getRequest:e,postRequest:t}=(0,n.useContext)(d.$),{platformLabels:r}=(0,n.useContext)(h.l),{stack:m}=(0,p.zY)();async function S(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:a=50}=t;return{...await e({extension:P.m.SalaryBatch.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(a,"&filter=")}),_startAt:r}}let{query:{data:f},labels:q,refetch:x,invalidate:C,paginationParameters:I,access:B}=(0,i.J)({queryFn:S,endpointId:P.m.SalaryBatch.page,datasetId:o.i.SalaryBatch}),T=[{field:"reference",headerName:q.reference,flex:1},{field:"name",headerName:q.name,flex:1}],_=async e=>{await t({extension:P.m.SalaryBatch.del,record:JSON.stringify(e)}),C(),s.ZP.success(r.Deleted)};function A(e){m({Component:E,props:{labels:q,recordId:e,maxAccess:B},width:600,height:250,title:q.salaryBatch})}return(0,a.jsxs)(y.R,{children:[(0,a.jsx)(g.g,{children:(0,a.jsx)(c.Z,{onAdd:()=>{A()},maxAccess:B})}),(0,a.jsx)(u.Q,{children:(0,a.jsx)(l.Z,{name:"table",columns:T,gridData:f,rowId:["recordId"],onEdit:e=>{A(null==e?void 0:e.recordId)},onDelete:_,pageSize:50,paginationType:"api",maxAccess:B,refetch:x,paginationParameters:I})})]})}},83562:function(e,t,r){"use strict";r.d(t,{m:function(){return n}});let a="PY.asmx/",n={Payroll:{qry:a+"qryHE",page:a+"pageHE",get:a+"getHE",set:a+"setHE",del:a+"delHE",close:a+"closeHE",reopen:a+"reopenHE",post:a+"postHE",unpost:a+"unpostHE",snapshot:a+"snapshotHE"},BankTransferFilters:{qry:a+"qrySB",page:a+"pageSB",get:a+"getSB",set:a+"setSB",del:a+"delSB"},Paycode:{qry:a+"qryPC",set:a+"setPC",del:a+"delPC",get:a+"getPC"},SecuritySchedule:{qry:a+"qrySS"},IndemnitySchedule:{page:a+"pageIS",qry:a+"qryIS",get:a+"getIS",set:a+"setIS",del:a+"delIS"},LedgerGroup:{qry:a+"qryGLG",get:a+"getGLG",set:a+"setGLG",del:a+"delGLG"},Arguments:{page:a+"pageAR"},SalaryBatch:{page:a+"pageBAT",get:a+"getBAT",set:a+"setBAT",del:a+"delBAT"},TimeCodes:{page:a+"pageTC",qry:a+"qryTC",get:a+"getTC",set:a+"setTC",del:a+"delTC"},FinalSettlement:{page:a+"pageFS",get:a+"getFS",set:a+"setFS",del:a+"delFS",snapshot:a+"snapshotFS"},IndemnityCompany:{qry:a+"qryID",set2:a+"set2ID"},IndemnityResignation:{qry:a+"qryIR",set2:a+"set2IR"},PenaltyType:{page:a+"pagePT",qry:a+"qryPT",get:a+"getPT",set:a+"setPT",del:a+"delPT"},PenaltyDetail:{qry:a+"qryPD",set2:a+"set2PD"},GeneratePayroll:{gen:a+"genEM",page:a+"pageEM"},PayrollDetails:{qry:a+"qryED",set2:a+"set2ED"},SocialSecurity:{qry:a+"qryES"},FiscalYear:{qry:a+"qryYE"},Period:{qry:a+"qryPE"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=99983)}),_N_E=e.O()}]);