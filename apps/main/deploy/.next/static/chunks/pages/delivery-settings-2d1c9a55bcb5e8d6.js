(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4914],{55300:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/delivery-settings",function(){return s(20850)}])},20850:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(52322),l=s(26612),n=s(61802),i=s(2784),r=s(38449),u=s(80983),o=s(19473),c=s(65950),d=s(3191),m=s(62362),p=s(31389),y=s(54074),v=s(60218),f=s(62202);function _(e){let{_labels:t,access:s}=e,{postRequest:n,getRequest:_}=(0,i.useContext)(c.$),{platformLabels:x,defaultsData:h,updateDefaults:N}=(0,i.useContext)(o.l),[E,b]=(0,i.useState)([]),S=["smsInvoiceReportLayout"],{formik:g}=(0,u.c)({maxAccess:s,initialValues:S.reduce((e,t)=>({...e,[t]:null}),{}),onSubmit:async e=>{let t=Object.entries(e).map(e=>{let[t,s]=e;return{key:t,value:s}});await n({extension:r.r.Defaults.set,record:JSON.stringify({sysDefaults:t})}),N(t),f.ZP.success(x.Edited)}});async function w(){let e=await _({extension:r.r.ReportLayout.get,parameters:"_resourceId=".concat(l.i.SalesInvoice)}),t=(null==e?void 0:e.record)||{};b([...((null==t?void 0:t.layouts)||[]).map(e=>({id:e.id,api_url:e.api,reportClass:e.instanceName,parameters:e.parameters,layoutName:e.layoutName,assembly:"ArgusRPT.dll"})),...((null==t?void 0:t.reportTemplates)||[]).map(e=>({id:e.id,api_url:e.wsName,reportClass:e.reportName,parameters:e.parameters,layoutName:e.caption,assembly:e.assembly}))])}return(0,i.useEffect)(()=>{var e;let t={};null===(e=h.list)||void 0===e||e.forEach(e=>{S.includes(e.key)&&(t[e.key]=e.value?parseFloat(e.value):null,g.setFieldValue(e.key,t[e.key]))})},[h]),(0,i.useEffect)(()=>{w()},[]),(0,a.jsx)(y.Z,{onSave:g.handleSubmit,maxAccess:s,children:(0,a.jsx)(p.R,{children:(0,a.jsx)(m.Q,{children:(0,a.jsx)(v.ZP,{container:!0,spacing:2,children:(0,a.jsx)(v.ZP,{item:!0,xs:12,children:(0,a.jsx)(d.Z,{label:t.SMS_INVOICE_REPORT_LAYOUT,valueField:"id",displayField:"layoutName",store:E,value:g.values.smsInvoiceReportLayout,maxAccess:s,onChange:(e,t)=>g.setFieldValue("smsInvoiceReportLayout",(null==t?void 0:t.id)||null)})})})})})})}var x=()=>(0,a.jsx)(n.ut,{datasetId:l.i.DeliverySettings,labelKey:"deliverySettings",Component:_,height:250})}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=55300)}),_N_E=e.O()}]);