(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74411],{21492:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sms-templates",function(){return s(74248)}])},74248:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return I}});var a=s(52322),t=s(2784),r=s(62202),d=s(69387),o=s(27723),i=s(65950),l=s(38449),c=s(71987),m=s(26612),u=s(33625),x=s(62362),h=s(31389),p=s(60218),f=s(48601),g=s(82737),y=s(5088),S=s(21581),_=s(80983),j=s(19473);function w(e){let{labels:n,maxAccess:s,recordId:d}=e,{getRequest:o,postRequest:u}=(0,t.useContext)(i.$),{platformLabels:w}=(0,t.useContext)(j.l),C=(0,c.E)({endpointId:l.r.SMSTemplate.page}),{formik:I}=(0,_.c)({initialValues:{recordId:null,name:"",smsBody:""},maxAccess:s,validationSchema:f.Ry({name:f.Z_().required(),smsBody:f.Z_().required()}),onSubmit:async e=>{let n=await u({extension:l.r.SMSTemplate.set,record:JSON.stringify(e)});e.recordId||I.setFieldValue("recordId",null==n?void 0:n.recordId),r.ZP.success(e.recordId?w.Edited:w.Added),C()}});return(0,t.useEffect)(()=>{!async function(){if(d){let e=await o({extension:l.r.SMSTemplate.get,parameters:"_recordId=".concat(d)});I.setValues(e.record)}}()},[]),(0,a.jsx)(g.Z,{resourceId:m.i.SmsTemplates,form:I,maxAccess:s,editMode:!!d,children:(0,a.jsx)(h.R,{children:(0,a.jsx)(x.Q,{children:(0,a.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(p.ZP,{item:!0,xs:12,children:(0,a.jsx)(y.Z,{name:"name",label:n.name,value:I.values.name,required:!0,maxAccess:s,maxLength:"30",onChange:I.handleChange,onClear:()=>I.setFieldValue("name",""),error:I.touched.name&&!!I.errors.name})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,children:(0,a.jsx)(S.Z,{name:"smsBody",label:n.smsBody,value:I.values.smsBody,required:!0,rows:2,maxLength:30,maxAccess:s,onChange:I.handleChange,onClear:()=>I.setFieldValue("smsBody",""),error:I.touched.smsBody&&!!I.errors.smsBody})})]})})})})}var C=s(61802),I=()=>{let{getRequest:e,postRequest:n}=(0,t.useContext)(i.$),{platformLabels:s}=(0,t.useContext)(j.l),{stack:p}=(0,C.zY)();async function f(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:a=50}=n;return{...await e({extension:l.r.SMSTemplate.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(a)}),_startAt:s}}let{query:{data:g},labels:y,access:S,invalidate:_,refetch:I,paginationParameters:T}=(0,c.J)({queryFn:f,endpointId:l.r.SMSTemplate.page,datasetId:m.i.SmsTemplates}),Z=[{field:"name",headerName:y.name,flex:1},{field:"smsBody",headerName:y.smsBody,flex:1}];function v(e){p({Component:w,props:{labels:y,recordId:e,maxAccess:S},width:500,height:270,title:y.smsTemplate})}let A=async e=>{await n({extension:l.r.SMSTemplate.del,record:JSON.stringify(e)}),_(),r.ZP.success(s.Deleted)};return(0,a.jsxs)(h.R,{children:[(0,a.jsx)(u.g,{children:(0,a.jsx)(o.Z,{onAdd:()=>{v()},maxAccess:S})}),(0,a.jsx)(x.Q,{children:(0,a.jsx)(d.Z,{name:"smsTable",columns:Z,gridData:g,rowId:["recordId"],onEdit:e=>{v(null==e?void 0:e.recordId)},onDelete:A,pageSize:50,refetch:I,paginationParameters:T,paginationType:"api",maxAccess:S})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=21492)}),_N_E=e.O()}]);