(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60504],{54543:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/iv-tfr-dtd",function(){return a(4237)}])},4237:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return j}});var t=a(52322),n=a(2784),d=a(62202),l=a(69387),s=a(27723),i=a(65950),o=a(61802),c=a(71987),u=a(26612),m=a(31389),f=a(33625),p=a(62362),I=a(19473),x=a(65215),v=a(7121),y=a(60218),h=a(48601),g=a(82737),D=a(80983),T=a(38449),C=a(8661),S=a(19689),N=a(51264);function _(e){var r;let{labels:a,maxAccess:l,recordId:s,window:o}=e,{platformLabels:f}=(0,n.useContext)(I.l),{getRequest:_,postRequest:j}=(0,n.useContext)(i.$),A=(0,c.E)({endpointId:x.$.DocumentTypeDefaults.page}),{formik:Z}=(0,D.c)({initialValues:{recordId:s,functionId:v.J.MaterialTransfer,dtId:null,siteId:null,toSiteId:null,carrierId:null,plantId:null,disableSKULookup:!1},maxAccess:l,validationSchema:h.Ry({dtId:h.Z_().required()}),onSubmit:async e=>{await j({extension:x.$.DocumentTypeDefaults.set,record:JSON.stringify(e)}),s?d.ZP.success(f.Edited):(Z.setFieldValue("recordId",Z.values.dtId),d.ZP.success(f.Added)),A(),o.close()}}),k=!!Z.values.recordId;return(0,n.useEffect)(()=>{!async function(){if(s){let e=await _({extension:x.$.DocumentTypeDefaults.get,parameters:"_dtId=".concat(s)});Z.setValues({...e.record,recordId:e.record.dtId})}}()},[]),(0,t.jsx)(g.Z,{resourceId:u.i.MaterialTransferDTD,form:Z,maxAccess:l,editMode:k,functionId:v.J.MaterialTransfer,children:(0,t.jsx)(m.R,{children:(0,t.jsx)(p.Q,{children:(0,t.jsxs)(y.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(y.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{endpointId:T.r.DocumentType.qry,parameters:"_startAt=0&_pageSize=1000&_dgId=".concat(v.J.MaterialTransfer),name:"dtId",required:!0,label:a.documentType,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],readOnly:k,values:Z.values,maxAccess:l,onChange:(e,r)=>{Z.setFieldValue("dtId",null==r?void 0:r.recordId)},error:Z.touched.dtId&&!!Z.errors.dtId})}),(0,t.jsx)(y.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{endpointId:x.$.Site.qry,name:"siteId",label:a.fromSite,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],values:Z.values,maxAccess:l,onChange:(e,r)=>{Z.setFieldValue("siteId",null==r?void 0:r.recordId)},error:Z.touched.siteId&&!!Z.errors.siteId})}),(0,t.jsx)(y.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{endpointId:x.$.Site.qry,name:"toSiteId",label:a.toSite,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],values:Z.values,maxAccess:l,onChange:(e,r)=>{Z.setFieldValue("toSiteId",null==r?void 0:r.recordId)},error:Z.touched.toSiteId&&!!Z.errors.toSiteId})}),(0,t.jsx)(y.ZP,{item:!0,xs:12,children:(0,t.jsx)(S.Z,{name:"disableSKULookup",value:null===(r=Z.values)||void 0===r?void 0:r.disableSKULookup,onChange:e=>Z.setFieldValue("disableSKULookup",e.target.checked),label:a.dsl,maxAccess:l})}),(0,t.jsx)(y.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{endpointId:N.p.LoCarrier.qry,name:"carrierId",label:a.carrier,values:null==Z?void 0:Z.values,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],maxAccess:l,onChange:(e,r)=>{Z.setFieldValue("carrierId",(null==r?void 0:r.recordId)||"")},error:Z.touched.carrierId&&!!Z.errors.carrierId})}),(0,t.jsx)(y.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{endpointId:T.r.Plant.qry,name:"plantId",label:a.plant,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Ref"},{key:"name",value:"Name"}],values:Z.values,maxAccess:l,onChange:(e,r)=>{Z.setFieldValue("plantId",null==r?void 0:r.recordId)},error:Z.touched.plantId&&!!Z.errors.plantId})})]})})})})}var j=()=>{let{getRequest:e,postRequest:r}=(0,n.useContext)(i.$),{platformLabels:a}=(0,n.useContext)(I.l),{stack:y}=(0,o.zY)();async function h(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:t=50}=r;return{...await e({extension:x.$.DocumentTypeDefaults.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(t,"&_filter=&_functionId=").concat(v.J.MaterialTransfer)}),_startAt:a}}let{query:{data:g},labels:D,invalidate:T,refetch:C,access:S,paginationParameters:N}=(0,c.J)({queryFn:h,endpointId:x.$.DocumentTypeDefaults.page,datasetId:u.i.MaterialTransferDTD}),j=[{field:"dtName",headerName:D.documentType,flex:1},{field:"siteName",headerName:D.fromSite,flex:1},{field:"toSiteName",headerName:D.toSite,flex:1},{field:"carrierName",headerName:D.carrier,flex:1},{field:"plantName",headerName:D.plant,flex:1}],A=async e=>{await r({extension:x.$.DocumentTypeDefaults.del,record:JSON.stringify(e)}),T(),d.ZP.success(a.Deleted)};function Z(e){y({Component:_,props:{labels:D,recordId:null==e?void 0:e.dtId,maxAccess:S},width:600,height:500,title:D.MaterialTransferDTD})}return(0,t.jsxs)(m.R,{children:[(0,t.jsx)(f.g,{children:(0,t.jsx)(s.Z,{onAdd:()=>{Z()},maxAccess:S})}),(0,t.jsx)(p.Q,{children:(0,t.jsx)(l.Z,{columns:j,gridData:g,rowId:["dtId"],onEdit:e=>{Z(e)},onDelete:A,isLoading:!1,pageSize:50,refetch:C,paginationType:"api",paginationParameters:N,maxAccess:S})})]})}},51264:function(e,r,a){"use strict";a.d(r,{p:function(){return n}});let t="LO.asmx/",n={LoCollector:{qry:t+"qryCOL",get:t+"getCOL",set:t+"setCOL",page:t+"pageCOL",del:t+"delCOL"},LoCarrier:{qry:t+"qryCAR",get:t+"getCAR",set:t+"setCAR",page:t+"pageCAR",del:t+"delCAR"},Shipment:{get2:t+"get2SHP",set2:t+"set2SHP"},Transportation:{get:t+"getTPT",set:t+"setTPT"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=54543)}),_N_E=e.O()}]);