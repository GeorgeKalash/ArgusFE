(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4701],{1327:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/outwards-modification",function(){return r(45737)}])},45737:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(52322),a=r(2784),s=r(69387),i=r(27723),d=r(65950),o=r(71987),l=r(26612),c=r(61802),u=r(74456),y=r(31389),p=r(33625),f=r(62362),v=r(98345),I=r(7121),g=r(88469),m=()=>{let{getRequest:e}=(0,a.useContext)(d.$),{stack:t}=(0,c.zY)();async function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:n=50}=t;return{...await e({extension:g.N.OutwardsModification.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(n,"&filter=")}),_startAt:r}}async function m(t){let{filters:r}=t;return await e({extension:g.N.OutwardsModification.snapshot,parameters:"_filter=".concat(r.qry)})}let{query:{data:q},labels:O,refetch:h,access:w,filterBy:S,clearFilter:x}=(0,o.J)({queryFn:r,endpointId:g.N.OutwardsModification.page,datasetId:l.i.OutwardsModification,filter:{endpointId:g.N.OutwardsModification.snapshot,filterFn:m}}),N=[{field:"reference",headerName:O.reference,flex:1},{field:"owRef",headerName:O.outwardReference,flex:1},{field:"date",headerName:O.date,flex:1,type:"date"},{field:"rsName",headerName:O.rsName,flex:1},{field:"statusName",headerName:O.status,flex:1},{field:"wipName",headerName:O.wipName,flex:1}];function C(e){t({Component:u.Z,props:{recordId:e}})}let{proxyAction:R}=(0,v.G)({functionId:I.J.OutwardsModification,action:C,hasDT:!1}),B=async()=>{await R()};return(0,n.jsxs)(y.R,{children:[(0,n.jsx)(p.g,{children:(0,n.jsx)(i.Z,{onAdd:B,maxAccess:w,onSearch:e=>{S("qry",e)},onSearchClear:()=>{x("qry")},labels:O,inputSearch:!0})}),(0,n.jsx)(f.Q,{children:(0,n.jsx)(s.Z,{columns:N,gridData:q,rowId:["recordId"],onEdit:e=>{C(e.recordId)},isLoading:!1,pageSize:50,refetch:h,paginationType:"api",maxAccess:w})})]})}},88469:function(e,t,r){"use strict";r.d(t,{N:function(){return a}});let n="RTOW.asmx/",a={Country:{qry:n+"qryPCO2"},DispersalType:{qry:n+"qryPMO2"},Currency:{qry:n+"qryPMO3"},Agent:{qry:n+"qryPDA2"},ProductDispersalEngine:{qry:n+"qryPDE"},OutwardsCash:{qry:n+"qryOWC"},OutwardsOrder:{qry:n+"qryOWO",qry2:n+"qryOWO2",page:n+"pageOWO",get:n+"getOWO",get2:n+"get2OWO",set:n+"setOWO",set2:n+"set2OWO",del:n+"delOWO",close:n+"closeOWO",reopen:n+"reopenOWO",post:n+"postOWO",snapshot:n+"snapshotOWO"},OutwardsRequest:{get:n+"getOWX"},InwardSettlement:{qry:n+"qryIWS",page:n+"pageIWS",get:n+"getIWS",set:n+"setIWS",del:n+"delIWS",close:n+"closeIWS",reopen:n+"reopenIWS",post:n+"postIWS",snapshot:n+"snapshotIWS"},InwardsTransfer:{get:n+"getIW",set:n+"setIW",del:n+"delIW",snapshot:n+"snapshotIW",snapshot2:n+"snapshotIW2",close:n+"closeIW",reopen:n+"reopenIW",post:n+"postIW",open:n+"openIW"},InwardGLInformation:{get:n+"getIWI"},Beneficiary:{qry:n+"qryBEN",qry2:n+"qryBEN2",qry3:n+"qryBEN3",get:n+"getBEN",del:n+"delBEN",snapshot:n+"snapshotBEN",snapshot2:n+"snapshotBEN2 "},BeneficiaryBank:{qry:n+"qryBEB",get:n+"getBEB",set:n+"set2BEB",del:n+"delBEB"},BeneficiaryCash:{qry:n+"qryBEC",get:n+"getBEC",set:n+"set2BEC",del:n+"delBEC"},FeeSchedule:{qry:n+"qryFSC",page:n+"pageFSC",snapshot:n+"snapshotFSC",get:n+"getFSC",set:n+"setFSC",del:n+"delFSC"},FeeScheduleDetail:{qry:n+"qryFSD",get:n+"getFSD",set2:n+"set2FSD",del:n+"delFSD"},FeeScheduleOutwards:{qry:n+"qryFSO",page:n+"pageFSO",get:n+"getFSO",set:n+"setFSO",del:n+"delFSO"},FeeScheduleInwards:{qry:n+"qryFSI",page:n+"pageFSI",get:n+"getFSI",set:n+"setFSI",del:n+"delFSI"},OutwardGLInformation:{get:n+"getOWI"},AutoPostExclusion:{qry:n+"qryAPX",get:n+"getAPX",set:n+"setAPX",del:n+"delAPX",get2:n+"get2APX",set2:n+"set2APX"},OutwardsModification:{qry:n+"qryOWM",page:n+"pageOWM",snapshot:n+"snapshotOWM",get:n+"getOWM",set2:n+"set2OWM",del:n+"delOWM",post:n+"postOWM",reopen:n+"reopenOWM",close:n+"closeOWM"},Postoutwards:{qry:n+"qryOWT3",post2:n+"post2OWT"},OutwardsReturn:{page:n+"pageOWR",qry2:n+"qryOWR2",get:n+"getOWR",set:n+"setOWR",close:n+"closeOWR",reopen:n+"reopenOWR",post:n+"postOWR",snapshot:n+"snapshotOWR"},CorrespondentOutwards:{qry:n+"qryACE",set:n+"setACE"},ReceiptVouchers:{qry:n+"qryRV",page:n+"pageRV",get:n+"getRV",set:n+"setRV",set2:n+"set2RV",del:n+"delRV",post:n+"postRV",close:n+"closeRV",reopen:n+"reopenRV",snapshot:n+"snapshotRV"},OutwardsTransfer:{get:n+"getOWT",snapshot:n+"snapshotOWT",qry2:n+"qryOWT2"},UnassignedCountry:{unassigned:n+"unassignedCOU"},UnassignedCurrency:{unassigned:n+"unassignedCU"},UnassignedDispersalType:{unassigned:n+"unassignedDT"},AssignedCountry:{assigned:n+"assignedCOU"},AssignedCurrency:{assigned:n+"assignedCU"},AssignedDispersalType:{assigned:n+"assignedDT"},OutwardReturnSettlement:{qry:n+"qryORS",page:n+"pageORS",get:n+"getORS",get2:n+"get2ORS",set:n+"setORS",set2:n+"set2ORS",del:n+"delORS",post:n+"postORS",close:n+"closeORS",reopen:n+"reopenORS",snapshot:n+"snapshotORS"},OutwardReturnReason:{page:n+"pageOWRR",snapshot:n+"snapshotOWRR",qry:n+"qryOWRR",get:n+"getOWRR",set:n+"setOWRR",del:n+"delOWRR"}}},53621:function(e,t,r){"use strict";r.d(t,{d:function(){return a}});let n="RTSET.asmx/",a={Interface:{qry:n+"qryITF",page:n+"pageITF",get:n+"getITF",set:n+"setITF",del:n+"delITF"},ProductMaster:{qry:n+"qryPRO",page:n+"pagePRO",get:n+"getPRO",set:n+"setPRO",del:n+"delPRO",snapshot:n+"snapshotPRO"},ProductCountries:{qry:n+"qryPCO",set2:n+"set2PCO"},ProductMonetaries:{qry:n+"qryPMO",set2:n+"set2PMO"},ProductDispersal:{qry:n+"qryPDI",get:n+"getPDI",set:n+"setPDI",del:n+"delPDI"},ProductSchedules:{qry:n+"qryPSC",set2:n+"set2PSC"},ProductScheduleRanges:{qry:n+"qryPSR",set2:n+"set2PSR"},ProductScheduleFees:{qry:n+"qryPSF",set2:n+"set2PSF"},ProductDispersalAgents:{qry:n+"qryPDA",set2:n+"set2PDA"},Correspondent:{page:n+"pageCOR",qry:n+"qryCOR",qry2:n+"qry2COR",get:n+"getCOR",set:n+"setCOR",del:n+"delCOR",snapshot:n+"snapshotCOR"},CorrespondentCountry:{qry:n+"qryCCO",get:n+"getCCO",set2:n+"set2CCO",del:n+"delCCO"},CorrespondentCurrency:{qry:n+"qryCCU",get:n+"getCCU",set2:n+"set2CCU",del:n+"delCCU"},CorrespondentAgents:{qry:n+"qryAGT",page:n+"pageAGT",get:n+"getAGT",set:n+"setAGT",del:n+"delAGT"},CorrespondentAgentBranches:{qry:n+"qryABR",page:n+"pageABR",get:n+"getABR",set:n+"setABR",del:n+"delABR"},CorrespondentExchangeMap:{qry:n+"qryEXC",set2:n+"set2EXC"},CurrencyExchangeMap:{qry:n+"qryEXG",set2:n+"set2EXG"},CorrespondentExchangeBuyMap:{qry:n+"qryEXB",set2:n+"set2EXB"},ExchangeRates:{get:n+"getEXB",qry:n+"qryEXG2",set2:n+"set2EXB"},RtDefault:{qry:n+"qryDE",set2:n+"set2DE"},Profession:{qry:n+"qryPFN",page:n+"pagePFN",get:n+"getPFN",set:n+"setPFN",del:n+"delPFN",snapshot:n+"snapshotPFN"},ClientIndividual:{qry:n+"qryCLI"},SalaryRange:{qry:n+"qrySRA",page:n+"pageSRA",get:n+"getSRA",set:n+"setSRA",del:n+"delSRA"},SourceOfIncome:{qry:n+"qrySI",page:n+"pageSI",snapshot:n+"snapshotSI",get:n+"getSI",set:n+"setSI",del:n+"delSI"},CorrespondentControl:{qry:n+"qryCCL",set:n+"set2CCL"},InterfaceMaps:{qry:n+"qryIFM",get:n+"getIFM",set2:n+"set2IFM"},SourceOfIncomeType:{qry:n+"qrySIT",snapshot:n+"snapshotSIT",page:n+"pageSIT",get:n+"getSIT",set:n+"setSIT",del:n+"delSIT"},ProfessionGroups:{qry:n+"qryPFG",page:n+"pagePFG",snapshot:n+"snapshotPFG",get:n+"getPFG",set:n+"setPFG",del:n+"delPFG"},CorrespondentGroup:{qry:n+"qryCGP",page:n+"pageCGP",get:n+"getCGP",set:n+"setCGP",del:n+"delCGP"},ExtraIncome:{qry:n+"qryEI",get:n+"getEI",del:n+"delEI",page:n+"pageEI",snapshot:n+"snapshotEI",set:n+"setEI"},CountryRisk:{page:n+"pageCOU",get:n+"getCOU",set:n+"setCOU",del:n+"delCOU"},CorDispControl:{qry:n+"qryCDC",set2:n+"set2CDC"},CorrespondentDispersal:{qry:n+"qryCDM",get:n+"getCDM",del:n+"delCDM",set2:n+"set2CDM"},CorrespondentDispersalRate:{qry:n+"qryCDR",set2:n+"set2CDR"}}},1685:function(e,t,r){"use strict";r.d(t,{m:function(){return n}});let n=e=>{let t=window.sessionStorage.getItem(e);return t?JSON.parse(t):null}},98345:function(e,t,r){"use strict";r.d(t,{H:function(){return v},G:function(){return f}});var n=r(45300),a=r(2784),s=r(96026),i=r(38449);r(26612);var d=r(65947),o=r(1685);let l=async(e,t,r)=>{try{let n=await e({extension:t,parameters:r});return t.includes("qry")?n:n.record}catch(e){return null}},c=(e,t,r,n)=>{let a=(e=JSON.parse(JSON.stringify(e))).record.controls,s=a.find(e=>"reference"===e.controlId);return s?s.accessLevel=(null==t?void 0:t.mandatory)?d.$7:d.rr:(null==t?void 0:t.mandatory)?a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","reference"),accessLevel:(null==t?void 0:t.mandatory)?d.$7:d.rr}):(null==t?void 0:t.readOnly)?a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","reference"),accessLevel:(null==t?void 0:t.readOnly)?d.rr:d.$7}):a=e.record.controls.filter(e=>"reference"!=e.controlId),r&&a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","dtId"),accessLevel:d.$7}),{...e,record:{...e.record,controls:a}}},u=async(e,t,r)=>{let n,a;switch(r){case"dtId":let s=(0,o.m)("userData"),d=null==s?void 0:s.userId;a="_userId=".concat(d,"&_functionId=").concat(t),n=i.r.UserFunction.get;break;case"glbSysNumberRange":a="_recordId=".concat(t),n=i.r.SystemFunction.get;break;case"DocumentType":a="_dgId=".concat(t,"&_startAt=",0,"&_pageSize=",50),n=i.r.DocumentType.qry;break;case"DcTypNumberRange":a="_recordId=".concat(t),n=i.r.DocumentType.get;break;case"isExternal":a="_recordId=".concat(t),n=i.r.NumberRange.get;break;default:return null}return await l(e,n,a)},y=async function(e){let t,r,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=!(arguments.length>4)||void 0===arguments[4]||arguments[4],l=arguments.length>5?arguments[5]:void 0,y=void 0===d&&s&&await u(e,s,"dtId"),p=null==y?void 0:y.dtId,f="",v=!0;if(y&&void 0===d||"nraId"===d){if(p){let r=await u(e,p,"DcTypNumberRange");t=null==r?void 0:r.nraId,v=!((null==r?void 0:r.activeStatus)<0),t||(f="Assign the document type to a number range")}if((!p||!v)&&o&&s){var I;let t=await u(e,s,"DocumentType");a=(null==t?void 0:null===(I=t.list)||void 0===I?void 0:I.filter(e=>(null==e?void 0:e.activeStatus)===1).length)>0}}if(("nraId"===d||void 0===d)&&s){if((!p||p)&&!t||t&&!v){let r=await u(e,s,"glbSysNumberRange");(t=null==r?void 0:r.nraId)&&a&&(a=!1),v=!0}f=t||a?"":"Assign the system Function to a number range"}d>0&&!t&&(t=d),t&&v?(r={readOnly:null==(n=await u(e,t,"isExternal"))||!n.external,mandatory:null!=n&&!!n.external},i&&(i=await c(i,r,a,l))):!t&&i&&(i=await c(i,r,a,l));let g=l?"".concat(l,".reference"):"reference";return{dtId:p,resetReference:null==r?void 0:r.readOnly,dcTypeRequired:a,reference:{fieldName:g,isEmpty:(null==n?void 0:n.external)!==void 0&&(null==n||!n.external)},errorMessage:f,maxAccess:i,selectNraId:d}};var p=r(65950);function f(e){let{functionId:t,action:r,hasDT:n}=e,{getRequest:i}=(0,a.useContext)(p.$),{stack:d}=(0,s.V)();return{proxyAction:async()=>{let e=await y(i,t,"",void 0,n);(null==e?void 0:e.errorMessage)?d({message:null==e?void 0:e.errorMessage}):await r()}}}function v(e){var t;let{functionId:r,access:i,hasDT:d,enabled:o=!0,objectName:l=""}=e,{getRequest:c}=(0,a.useContext)(p.$),{stack:u}=(0,s.V)(),[f,v]=(0,a.useState)(),I=async e=>{let t=await y(c,r,i,e,d,l);if(!t.errorMessage)return t;u({message:null==t?void 0:t.errorMessage})},g=(0,n.a)({retry:!1,staleTime:0,enabled:o,queryKey:[r,f,!!i,o],queryFn:f||"nraId"===f?()=>I(f):()=>I()});return{documentType:g.data,maxAccess:(null==g?void 0:null===(t=g.data)||void 0===t?void 0:t.maxAccess)||i,changeDT(e){v((null==e?void 0:e.nraId)||"nraId")}}}},75991:function(e,t,r){"use strict";var n=r(52322),a=r(60218),s=r(76385);t.Z=e=>{let{children:t,title:r,form:i=!1,...d}=e;return(0,n.jsxs)(a.ZP,{container:!0,spacing:{xs:1,sm:1.25,md:1.5},sx:{border:"1px solid",borderColor:"#cdd3d4",position:"relative",ml:0,my:r?{xs:.75,sm:1,md:1.25}:0,p:i?0:"clamp(8px, 0.8vw, 14px)",pt:i?0:r?"clamp(14px, 1.2vw, 22px)":"clamp(8px, 0.8vw, 14px)",...d.sx},children:[!!r&&(0,n.jsx)(s.Z,{variant:"h6",sx:{position:"absolute",top:"clamp(-12px, -0.9vw, -8px)",left:"clamp(10px, 1vw, 14px)",bgcolor:"#F4F5FA",px:"clamp(6px, 0.7vw, 12px)",py:"clamp(1px, 0.2vw, 3px)",fontSize:"clamp(10px, 0.75vw, 14px)",lineHeight:1.2,fontWeight:600,whiteSpace:"nowrap",maxWidth:"calc(100% - 20px)",overflow:"hidden",textOverflow:"ellipsis"},children:r}),t]})}},74456:function(e,t,r){"use strict";var n=r(52322),a=r(60218),s=r(48601),i=r(2784),d=r(5088),o=r(82737),l=r(89330),c=r(88469),u=r(65950),y=r(26612),p=r(80983),f=r(31389),v=r(62362),I=r(91406),g=r(27423),m=r(39812),q=r(75991),O=r(46553),h=r(17720),w=r(62202),S=r(7121),x=r(98345),N=r(84141),C=r(61802),R=r(19473),B=r(71987),P=r(33625),F=r(8661),T=r(84100),b=r(50023),W=r(21326);let A=e=>{var t,r,A,D,E,M,Z,j,_,V,k,G;let{recordId:U,window:X}=e,{getRequest:J,postRequest:L}=(0,i.useContext)(u.$),{stack:$}=(0,C.zY)(),{platformLabels:z}=(0,i.useContext)(R.l),[H,Q]=(0,i.useState)(!1),[Y,K]=(0,i.useState)(!1),[ee,et]=(0,i.useState)(!1),{labels:er,access:en}=(0,b.Z)({datasetId:y.i.OutwardsModification,editMode:!!U});(0,W.Z)({title:er.outwardsModification,window:X});let{maxAccess:ea}=(0,x.H)({functionId:S.J.OutwardsModification,access:en,hasDT:!1}),es=(0,B.E)({endpointId:c.N.OutwardsModification.page}),{formik:ei}=(0,p.c)({maxAccess:ea,initialValues:{recordId:null,reference:"",date:new Date,outwardsDate:null,owoId:"",owRef:"",ttNo:"",productName:"",clientId:"",currencyId:"",clientRef:"",clientName:"",cellPhone:"",dispersalType:"",countryId:"",headerBenId:"",headerBenName:"",headerBenSeqNo:"",newBeneficiaryId:"",newBeneficiarySeqNo:"",corId:"",oldBeneficiaryId:"",oldBeneficiarySeqNo:"",oldBeneficiarySeqName:"",wip:"",releaseStatus:"",status:"",otpVerified:!1,owtId:"",owtRef:"",plantId:"",seqNo:"",modificationType:"",beneficiaryData:{}},validateOnChange:!0,validationSchema:s.Ry({owRef:s.Z_().required(),date:s.Z_().required(),modificationType:s.Z_().required()}),onSubmit:async()=>{K(!0)}}),ed=!!ei.values.recordId,eo=2===ei.values.wip,el=4===ei.values.status,ec=ei.values.dispersalType;async function eu(e){return await J({extension:c.N.OutwardsModification.get,parameters:"_recordId=".concat(e)})}let ey=async e=>{let t=await L({extension:c.N.OutwardsModification.close,record:JSON.stringify({recordId:e})});U&&w.ZP.success(z.Closed),es(),await eq(t.recordId)};function ep(e){ei.setValues({...ei.values,beneficiaryData:e})}function ef(e){for(let[t,r]of Object.entries(e))ei.setFieldValue(t,null!=r?r:"")}async function ev(e){var t,r,n,a;ef(e);let{headerView:s,ttNo:i}=(await J({extension:c.N.OutwardsOrder.get2,parameters:"_recordId=".concat(null==e?void 0:e.owoId)})).record;ef({outwardsDate:(0,m.a1)(s.date),amount:s.amount,productName:s.productName,clientId:s.clientId,currencyId:s.currencyId,clientRef:s.clientRef,clientName:s.clientName,cellPhone:s.cellPhone,ttNo:i,dispersalType:s.dispersalType,countryId:s.countryId,corId:s.corId,modificationType:null==e?void 0:e.modificationType}),eg({headerBenId:null!==(t=e.newBeneficiaryId)&&void 0!==t?t:"",headerBenName:null!==(r=e.newBeneficiaryName)&&void 0!==r?r:"",headerBenSeqNo:null!==(n=e.newBeneficiarySeqNo)&&void 0!==n?n:"",dispersalType:null!==(a=s.dispersalType)&&void 0!==a?a:""})}function eI(){ei.resetForm(),Q(!0)}async function eg(e){ei.setFieldValue("newBeneficiaryId",e.headerBenId),ei.setFieldValue("newBeneficiarySeqNo",e.headerBenSeqNo),ei.setFieldValue("dispersalType",e.dispersalType)}let em=[{key:"Close",condition:!eo,onClick:()=>ey(ei.values.recordId),disabled:eo||!ed},{key:"Reopen",condition:eo,onClick:async()=>{let e=await L({extension:c.N.OutwardsModification.reopen,record:JSON.stringify({recordId:ei.values.recordId})});w.ZP.success(z.Reopened),es(),await eq(e.recordId)},disabled:!eo},{key:"Approval",condition:!0,onClick:"onApproval",disabled:!eo},{key:"Locked",condition:!0,onClick:async()=>{let e=await L({extension:c.N.OutwardsModification.post,record:JSON.stringify({recordId:ei.values.recordId})});w.ZP.success(z.Posted),es(),await eq(e.recordId)},disabled:!el}];async function eq(e){let t=await eu(e);t.record.date=(0,m.a1)(t.record.date),await ev(t.record)}async function eO(e){if(e)return await J({extension:c.N.OutwardsOrder.get,parameters:"_recordId=".concat(e)})}return(0,i.useEffect)(()=>{!async function(){if(ee){var e;K(!1),et(!1);let t={owoId:ei.values.owoId,modificationType:ei.values.modificationType,owtId:ei.values.owtId,beneficiaryCashPack:1===ec?ei.values.beneficiaryData:null,beneficiaryBankPack:2===ec?ei.values.beneficiaryData:null},r=await L({extension:c.N.OutwardsModification.set2,record:JSON.stringify(t)}),n=ed?z.Edited:z.Added;w.ZP.success(n),await eq(r.recordId),es(),U||(e=r.recordId,$({Component:N.Z,props:{values:ei.values,recordId:e,functionId:S.J.OutwardsModification,onSuccess:()=>{ey(e)}}}))}}()},[ee]),(0,i.useEffect)(()=>{!async function(){U&&await eq(U)}()},[]),(0,n.jsx)(o.Z,{resourceId:y.i.OutwardsModification,form:ei,maxAccess:ea,editMode:ed,disabledSubmit:ed,onClose:ey,isClosed:eo,actions:em,functionId:S.J.OutwardsModification,previewReport:ed,children:(0,n.jsx)(f.R,{children:(0,n.jsx)(v.Q,{children:(0,n.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(a.ZP,{item:!0,xs:12,children:(0,n.jsx)(P.g,{children:(0,n.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(a.ZP,{item:!0,xs:4,children:(0,n.jsx)(d.Z,{name:"reference",label:er.reference,value:ei.values.reference,maxAccess:ea,readOnly:!0})}),(0,n.jsx)(a.ZP,{item:!0,xs:4,children:(0,n.jsx)(l.Z,{name:"date",required:!0,readOnly:ed,label:er.date,value:ei.values.date,editMode:ed,maxAccess:ea,onChange:ei.setFieldValue,onClear:()=>ei.setFieldValue("date",""),error:ei.touched.date&&!!ei.errors.date})}),(0,n.jsx)(a.ZP,{item:!0,xs:2,children:(0,n.jsx)(g.U,{endpointId:c.N.OutwardsOrder.snapshot,valueField:"reference",displayField:"reference",name:"owRef",secondDisplayField:!1,required:!0,readOnly:ed||ei.values.owtRef,label:er.outwardOrder,form:ei,onChange:(e,t)=>{(null==t?void 0:t.recordId)?ev({owoId:null==t?void 0:t.recordId,owRef:null==t?void 0:t.reference,oldBeneficiaryId:null==t?void 0:t.beneficiaryId,oldBeneficiarySeqNo:null==t?void 0:t.beneficiarySeqNo,oldBeneficiaryName:null==t?void 0:t.beneficiaryName,newBeneficiaryId:null==t?void 0:t.beneficiaryId,newBeneficiarySeqNo:null==t?void 0:t.beneficiarySeqNo,newBeneficiaryName:null==t?void 0:t.beneficiaryName,dispersalType:null==t?void 0:t.dispersalType}):eI()},error:ei.touched.owRef&&!!ei.errors.owRef,maxAccess:ea})}),(0,n.jsx)(a.ZP,{item:!0,xs:2,children:(0,n.jsx)(g.U,{endpointId:c.N.OutwardsTransfer.snapshot,valueField:"reference",displayField:"reference",name:"owtRef",secondDisplayField:!1,readOnly:ed||ei.values.owRef,label:er.outwardTransfer,form:ei,onChange:async(e,t)=>{var r,n,a,s,i,d,o,l;(null==t?void 0:t.recordId)||eI();let c=await eO(null==t?void 0:t.owoId);await ev({owoId:null==t?void 0:t.owoId,owRef:null==c?void 0:null===(r=c.record)||void 0===r?void 0:r.reference,owtId:null==t?void 0:t.recordId,owtRef:null==t?void 0:t.reference,oldBeneficiaryId:null==c?void 0:null===(n=c.record)||void 0===n?void 0:n.beneficiaryId,oldBeneficiarySeqNo:null==c?void 0:null===(a=c.record)||void 0===a?void 0:a.beneficiarySeqNo,oldBeneficiaryName:null==c?void 0:null===(s=c.record)||void 0===s?void 0:s.beneficiaryName,newBeneficiaryId:null==c?void 0:null===(i=c.record)||void 0===i?void 0:i.beneficiaryId,newBeneficiarySeqNo:null==c?void 0:null===(d=c.record)||void 0===d?void 0:d.beneficiarySeqNo,newBeneficiaryName:null==c?void 0:null===(o=c.record)||void 0===o?void 0:o.beneficiaryName,dispersalType:null==c?void 0:null===(l=c.record)||void 0===l?void 0:l.dispersalType})},error:ei.touched.owtRef&&!!ei.errors.owtRef,maxAccess:ea})}),(0,n.jsx)(a.ZP,{item:!0,xs:4,children:(0,n.jsx)(d.Z,{name:"ttNo",label:er.ttNo,value:ei.values.ttNo,readOnly:!0,error:ei.touched.ttNo&&!!ei.errors.ttNo,maxAccess:ea})}),(0,n.jsx)(a.ZP,{item:!0,xs:4,children:(0,n.jsx)(l.Z,{name:"outwardsDate",label:er.outwardsDate,value:ei.values.outwardsDate,editMode:ed,maxAccess:ea,readOnly:!0,error:ei.touched.outwardsDate&&!!ei.errors.outwardsDate})}),(0,n.jsx)(a.ZP,{item:!0,xs:4,children:(0,n.jsx)(d.Z,{name:"productName",label:er.product,value:ei.values.productName,readOnly:!0,error:ei.touched.ttNo&&!!ei.errors.productName,maxAccess:ea})}),(0,n.jsx)(a.ZP,{item:!0,xs:4,children:(0,n.jsx)(I.Z,{name:"amount",label:er.amount,value:ei.values.amount,maxAccess:ea,readOnly:!0,error:ei.touched.amount&&!!ei.errors.amount})}),(0,n.jsx)(a.ZP,{item:!0,xs:4,children:(0,n.jsx)(F.Z,{datasetId:T.v.OW_MODIFICATION_TYPE,name:"modificationType",label:er.modificationType,values:ei.values,valueField:"key",displayField:"value",required:!0,readOnly:ed,maxAccess:ea,onChange:(e,t)=>{ei.setFieldValue("modificationType",null==t?void 0:t.key),(null==t?void 0:t.key)==3&&(Q(!0),ei.setFieldValue("newBeneficiaryId",""),ei.setFieldValue("newBeneficiarySeqNo",""),ei.setFieldValue("headerBenName",""))},error:ei.touched.modificationType&&!!ei.errors.modificationType})}),(0,n.jsx)(a.ZP,{item:!0,xs:4,children:(0,n.jsx)(g.U,{endpointId:c.N.Beneficiary.snapshot2,parameters:{_clientId:ei.values.clientId,_dispersalType:ei.values.dispersalType,_currencyId:ei.values.currencyId},valueField:"name",displayField:"name",name:"headerBenName",label:er.beneficiary,form:ei,readOnly:!ei.values.clientId||!ei.values.dispersalType||ed||el||2!=ei.values.modificationType,maxAccess:ea,editMode:ed,secondDisplayField:!1,onChange:async(e,t)=>{(null==t?void 0:t.beneficiaryId)?eg({headerBenId:null==t?void 0:t.beneficiaryId,headerBenName:null==t?void 0:t.name,headerBenSeqNo:null==t?void 0:t.seqNo,dispersalType:null==t?void 0:t.dispersalType}):(ei.setFieldValue("headerBenId",""),ei.setFieldValue("headerBenName",""),ei.setFieldValue("headerBenSeqNo",""))},errorCheck:"headerBenId"})})]})})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,children:(0,n.jsx)(v.Q,{children:(0,n.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(a.ZP,{item:!0,xs:6,children:(0,n.jsxs)(q.Z,{title:er.benOld,form:!0,children:[2===ec&&(0,n.jsx)(h.Z,{client:{clientId:ei.values.clientId,clientName:ei.values.clientName,clientRef:ei.values.clientRef},beneficiary:{beneficiaryId:ei.values.oldBeneficiaryId,beneficiarySeqNo:ei.values.oldBeneficiarySeqNo},dispersalType:ei.values.dispersalType,countryId:ei.values.countryId,corId:ei.values.corId,recordId:(null===(t=ei.values)||void 0===t?void 0:t.clientId)&&(null===(r=ei.values)||void 0===r?void 0:r.oldBeneficiaryId)&&(null===(A=ei.values)||void 0===A?void 0:A.oldBeneficiarySeqNo)?(100*ei.values.clientId).toString()+(10*ei.values.oldBeneficiaryId).toString()+ei.values.oldBeneficiarySeqNo:null,viewBtns:!1}),1===ec&&(0,n.jsx)(O.Z,{client:{clientId:ei.values.clientId,clientName:ei.values.clientName,clientRef:ei.values.clientRef},beneficiary:{beneficiaryId:ei.values.oldBeneficiaryId,beneficiarySeqNo:ei.values.oldBeneficiarySeqNo},dispersalType:ei.values.dispersalType,countryId:ei.values.countryId,corId:ei.values.corId,recordId:(null===(D=ei.values)||void 0===D?void 0:D.clientId)&&(null===(E=ei.values)||void 0===E?void 0:E.oldBeneficiaryId)&&(null===(M=ei.values)||void 0===M?void 0:M.oldBeneficiarySeqNo)?(100*ei.values.clientId).toString()+(10*ei.values.oldBeneficiaryId).toString()+ei.values.oldBeneficiarySeqNo:null,viewBtns:!1})]})}),(0,n.jsx)(a.ZP,{item:!0,xs:6,children:(0,n.jsxs)(q.Z,{title:er.benNew,form:!0,children:[2===ec&&(0,n.jsx)(h.Z,{viewBtns:!1,resetForm:H,setResetForm:Q,onChange:ep,submitted:Y,setSubmitted:K,setValidSubmit:et,forceEdit:ed,client:{clientId:ei.values.clientId,clientName:ei.values.clientName,clientRef:ei.values.clientRef},beneficiary:{beneficiaryId:ei.values.newBeneficiaryId,beneficiarySeqNo:ei.values.newBeneficiarySeqNo},dispersalType:ei.values.dispersalType,corId:ei.values.corId,recordId:(null===(Z=ei.values)||void 0===Z?void 0:Z.clientId)&&(null===(j=ei.values)||void 0===j?void 0:j.newBeneficiaryId)&&(null===(_=ei.values)||void 0===_?void 0:_.newBeneficiarySeqNo)?(100*ei.values.clientId).toString()+(10*ei.values.newBeneficiaryId).toString()+ei.values.newBeneficiarySeqNo:null,submitMainForm:!1}),1===ec&&(0,n.jsx)(O.Z,{viewBtns:!1,forceEdit:ed,resetForm:H,setResetForm:Q,onChange:ep,submitted:Y,setSubmitted:K,setValidSubmit:et,client:{clientId:ei.values.clientId,clientName:ei.values.clientName,clientRef:ei.values.clientRef},beneficiary:{beneficiaryId:ei.values.newBeneficiaryId,beneficiarySeqNo:ei.values.newBeneficiarySeqNo},dispersalType:ei.values.dispersalType,countryId:ei.values.countryId,corId:ei.values.corId,recordId:(null===(V=ei.values)||void 0===V?void 0:V.clientId)&&(null===(k=ei.values)||void 0===k?void 0:k.newBeneficiaryId)&&(null===(G=ei.values)||void 0===G?void 0:G.newBeneficiarySeqNo)?(100*ei.values.clientId).toString()+(10*ei.values.newBeneficiaryId).toString()+ei.values.newBeneficiarySeqNo:null,submitMainForm:!1})]})})]})})})]})})})})};A.width=1200,A.height=650,t.Z=A},30390:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(52322),a=r(60218);function s(e){let{hideonempty:t=!1,children:r,...s}=e;return(0,n.jsx)(a.ZP,{...s,className:t?"__hide-on-empty":"",children:r})}}},function(e){e.O(0,[17720,46553,49774,92888,40179],function(){return e(e.s=1327)}),_N_E=e.O()}]);