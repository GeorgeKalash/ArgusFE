(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49341],{16239:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/iv-lot-category",function(){return a(54514)}])},54514:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return I}});var d=a(52322),r=a(2784),t=a(62202),l=a(69387),s=a(27723),i=a(65950),u=a(71987),c=a(26612),o=a(31389),x=a(33625),h=a(62362),m=a(60218),f=a(48601),g=a(82737),C=a(5088),p=a(80983),v=a(19473),j=a(27423),Z=a(38449),y=a(65215);function D(e){let{labels:n,maxAccess:a,recordId:l}=e,{platformLabels:s}=(0,r.useContext)(v.l),{getRequest:x,postRequest:D}=(0,r.useContext)(i.$),N=(0,u.E)({endpointId:y.$.LotCategory.page}),{formik:I}=(0,p.c)({initialValues:{recordId:l,reference:"",name:"",udt1:"",udt2:"",udd1:"",udd2:"",udn1:"",udn2:""},maxAccess:a,validateOnChange:!0,validationSchema:f.Ry({reference:f.Z_().required(),name:f.Z_().required()}),onSubmit:async e=>{let n=await D({extension:y.$.LotCategory.set,record:JSON.stringify(e)});e.recordId||I.setFieldValue("recordId",n.recordId),t.ZP.success(e.recordId?s.Edited:s.Added),N()}}),_=!!I.values.recordId;return(0,r.useEffect)(()=>{!async function(){if(l){let e=await x({extension:y.$.LotCategory.get,parameters:"_recordId=".concat(l)});I.setValues(e.record)}}()},[]),(0,d.jsx)(g.Z,{resourceId:c.i.LotCategories,form:I,maxAccess:a,editMode:_,isCleared:!1,children:(0,d.jsx)(o.R,{children:(0,d.jsx)(h.Q,{children:(0,d.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,d.jsx)(m.ZP,{item:!0,xs:12,children:(0,d.jsx)(C.Z,{name:"reference",label:n.Reference,value:I.values.reference,required:!0,maxAccess:a,maxLength:"10",onChange:I.handleChange,onClear:()=>I.setFieldValue("reference",""),error:I.touched.reference&&!!I.errors.reference})}),(0,d.jsx)(m.ZP,{item:!0,xs:12,children:(0,d.jsx)(C.Z,{name:"name",label:n.name,value:I.values.name,required:!0,maxLength:"30",maxAccess:a,onChange:I.handleChange,onClear:()=>I.setFieldValue("name",""),error:I.touched.name&&!!I.errors.name})}),(0,d.jsx)(m.ZP,{item:!0,xs:12,children:(0,d.jsx)(j.U,{endpointId:Z.r.NumberRange.snapshot,form:I,valueField:"reference",displayField:"description",name:"nraRef",displayFieldWidth:"2",label:n.numberRange,secondDisplayField:!0,secondValue:I.values.nraDescription,onChange:(e,n)=>{I.setFieldValue("nraId",(null==n?void 0:n.recordId)||null),I.setFieldValue("nraRef",(null==n?void 0:n.reference)||""),I.setFieldValue("nraDescription",(null==n?void 0:n.description)||"")}})}),(0,d.jsx)(m.ZP,{item:!0,xs:12,children:(0,d.jsx)(C.Z,{name:"udd1",label:n.userDefinedDate1,value:I.values.udd1,maxAccess:a,maxLength:"20",onChange:I.handleChange,onClear:()=>I.setFieldValue("udd1","")})}),(0,d.jsx)(m.ZP,{item:!0,xs:12,children:(0,d.jsx)(C.Z,{name:"udd2",label:n.userDefinedDate2,value:I.values.udd2,maxAccess:a,maxLength:"20",onChange:I.handleChange,onClear:()=>I.setFieldValue("udd2","")})}),(0,d.jsx)(m.ZP,{item:!0,xs:12,children:(0,d.jsx)(C.Z,{name:"udt1",label:n.userDefinedText1,value:I.values.udt1,maxAccess:a,maxLength:"20",onChange:I.handleChange,onClear:()=>I.setFieldValue("udt1","")})}),(0,d.jsx)(m.ZP,{item:!0,xs:12,children:(0,d.jsx)(C.Z,{name:"udt2",label:n.userDefinedText2,value:I.values.udt2,maxAccess:a,maxLength:"20",onChange:I.handleChange,onClear:()=>I.setFieldValue("udt2","")})}),(0,d.jsx)(m.ZP,{item:!0,xs:12,children:(0,d.jsx)(C.Z,{name:"udn1",label:n.userDefinedNumeric1,value:I.values.udn1,maxAccess:a,maxLength:"20",onChange:I.handleChange,onClear:()=>I.setFieldValue("udn1","")})}),(0,d.jsx)(m.ZP,{item:!0,xs:12,children:(0,d.jsx)(C.Z,{name:"udn2",label:n.userDefinedNumeric2,value:I.values.udn2,maxAccess:a,maxLength:"20",onChange:I.handleChange,onClear:()=>I.setFieldValue("udn2","")})})]})})})})}var N=a(61802),I=()=>{let{getRequest:e,postRequest:n}=(0,r.useContext)(i.$),{stack:a}=(0,N.zY)(),{platformLabels:m}=(0,r.useContext)(v.l);async function f(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:d=50}=n;return{...await e({extension:y.$.LotCategory.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(d,"&filter=")}),_startAt:a}}let{query:{data:g},labels:C,refetch:p,invalidate:j,paginationParameters:Z,access:I}=(0,u.J)({endpointId:y.$.LotCategory.page,queryFn:f,datasetId:c.i.LotCategories}),_=[{field:"reference",headerName:C.reference,flex:1},{field:"name",headerName:C.name,flex:1},{field:"naraRef",headerName:C.numberRange,flex:1},{field:"udd1",headerName:C.userDefinedDate1,flex:1},{field:"udd2",headerName:C.userDefinedDate2,flex:1},{field:"udt1",headerName:C.userDefinedText1,flex:1},{field:"udt2",headerName:C.userDefinedText2,flex:1},{field:"udn1",headerName:C.userDefinedNumeric1,flex:1},{field:"udn2",headerName:C.userDefinedNumeric2,flex:1}],b=async e=>{try{await n({extension:y.$.LotCategory.del,record:JSON.stringify(e)}),j(),t.ZP.success(m.Deleted)}catch(e){}};function F(e){a({Component:D,props:{labels:C,recordId:e,maxAccess:I},width:500,height:650,title:C.lotCategory})}return(0,d.jsxs)(o.R,{children:[(0,d.jsx)(x.g,{children:(0,d.jsx)(s.Z,{onAdd:()=>{F()},maxAccess:I})}),(0,d.jsx)(h.Q,{children:(0,d.jsx)(l.Z,{columns:_,gridData:g,rowId:["recordId"],onEdit:e=>{F(null==e?void 0:e.recordId)},onDelete:b,isLoading:!1,refetch:p,pageSize:50,maxAccess:I,paginationParameters:Z,paginationType:"api"})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=16239)}),_N_E=e.O()}]);