(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36785],{48899:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/price-levels",function(){return n(27114)}])},27114:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return y}});var t=n(52322),a=n(2784),c=n(62202),i=n(69387),s=n(27723),l=n(65950),d=n(22341),o=n(60218),u=n(48601),f=n(82737),x=n(71987),m=n(26612),h=n(80983),p=n(5088),g=n(31389),P=n(62362),v=n(19473);function _(e){let{labels:r,maxAccess:n,recordId:i}=e,[s,_]=(0,a.useState)(!!i),{getRequest:I,postRequest:j}=(0,a.useContext)(l.$),{platformLabels:y}=(0,a.useContext)(v.l),L=(0,x.E)({endpointId:d.P.PriceLevel.page}),{formik:w}=(0,h.c)({initialValues:{recordId:null,reference:null,name:""},maxAccess:n,validateOnChange:!0,validationSchema:u.Ry({reference:u.Z_().required(),name:u.Z_().required()}),onSubmit:async e=>{let r=await j({extension:d.P.PriceLevel.set,record:JSON.stringify(e)});e.recordId||(w.setFieldValue("recordId",r.recordId),_(!0)),c.ZP.success(e.recordId?y.Edited:y.Added),L()}});return(0,a.useEffect)(()=>{!async function(){if(i){let e=await I({extension:d.P.PriceLevel.get,parameters:"_recordId=".concat(i)});w.setValues(e.record)}}()},[]),(0,t.jsx)(f.Z,{resourceId:m.i.PriceLevels,form:w,maxAccess:n,editMode:s,children:(0,t.jsx)(g.R,{children:(0,t.jsx)(P.Q,{children:(0,t.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(o.ZP,{item:!0,xs:12,children:(0,t.jsx)(p.Z,{name:"reference",type:"text",label:r.reference,value:w.values.reference,required:!0,maxAccess:n,onChange:e=>w.setFieldValue("reference",e.target.value),onClear:()=>w.setFieldValue("reference",""),error:w.touched.reference&&!!w.errors.reference,maxLength:10})}),(0,t.jsx)(o.ZP,{item:!0,xs:12,children:(0,t.jsx)(p.Z,{name:"name",type:"text",label:r.name,value:w.values.name,required:!0,maxAccess:n,onChange:e=>w.setFieldValue("name",e.target.value),onClear:()=>w.setFieldValue("name",""),error:w.touched.name&&!!w.errors.name,maxLength:30})})]})})})})}var I=n(61802),j=n(33625),y=()=>{let{getRequest:e,postRequest:r}=(0,a.useContext)(l.$),{stack:n}=(0,I.zY)();async function o(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:n=0,_pageSize:t=50}=r;return{...await e({extension:d.P.PriceLevel.page,parameters:"_startAt=".concat(n,"&_pageSize=").concat(t,"&_filter=")}),_startAt:n}}let u=(0,x.E)({endpointId:d.P.PriceLevel.page}),{query:{data:f},labels:h,paginationParameters:p,refetch:v,access:y}=(0,x.J)({queryFn:o,endpointId:d.P.PriceLevel.page,datasetId:m.i.PriceLevels}),L=[{field:"reference",headerName:h.reference,flex:1},{field:"name",headerName:h.name,flex:1}],w=async e=>{await r({extension:d.P.PriceLevel.del,record:JSON.stringify(e)}),u(),c.ZP.success("Record Deleted Successfully")};function Z(e){n({Component:_,props:{labels:h,recordId:e||null,maxAccess:y},width:500,height:350,title:h.priceLevel})}return(0,t.jsxs)(g.R,{children:[(0,t.jsx)(j.g,{children:(0,t.jsx)(s.Z,{onAdd:()=>{Z()},maxAccess:y})}),(0,t.jsx)(P.Q,{children:(0,t.jsx)(i.Z,{columns:L,gridData:f,rowId:["recordId"],onEdit:e=>{Z(null==e?void 0:e.recordId)},onDelete:w,isLoading:!1,pageSize:50,paginationParameters:p,paginationType:"api",maxAccess:y,refetch:v})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=48899)}),_N_E=e.O()}]);