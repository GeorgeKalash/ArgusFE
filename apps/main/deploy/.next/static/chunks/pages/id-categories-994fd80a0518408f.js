(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18202],{79004:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/id-categories",function(){return a(50089)}])},50089:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var s=a(52322),r=a(2784),n=a(62202),d=a(69387),l=a(27723),o=a(65950),i=a(253),g=a(71987),c=a(26612),u=a(31389),p=a(33625),y=a(62362),x=a(61802),R=a(60218),I=a(48601),m=a(82737),h=a(5088),q=a(80983),C=a(19689),N=a(19473);function A(e){var t,a,d,l;let{labels:p,maxAccess:x,recordId:A}=e,{getRequest:v,postRequest:f}=(0,r.useContext)(o.$),{platformLabels:D}=(0,r.useContext)(N.l),L=(0,g.E)({endpointId:i.F.CategoryID.page}),{formik:P}=(0,q.c)({initialValues:{recordId:null,name:"",org:!1,person:!1,group:!1,isUnique:!1},maxAccess:x,validateOnChange:!0,validationSchema:I.Ry({name:I.Z_().required()}),onSubmit:async e=>{let t=await f({extension:i.F.CategoryID.set,record:JSON.stringify(e)});e.recordId||P.setValues({...e,recordId:t.recordId}),n.ZP.success(e.recordId?D.Edited:D.Added),L()}}),G=!!P.values.recordId;return(0,r.useEffect)(()=>{!async function(){if(A){let e=await v({extension:i.F.CategoryID.get,parameters:"_recordId=".concat(A)});P.setValues(e.record)}}()},[]),(0,s.jsx)(m.Z,{resourceId:c.i.IdCategories,form:P,maxAccess:x,editMode:G,children:(0,s.jsx)(u.R,{children:(0,s.jsx)(y.Q,{children:(0,s.jsxs)(R.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(R.ZP,{item:!0,xs:12,children:(0,s.jsx)(h.Z,{name:"name",label:p.name,value:P.values.name,required:!0,rows:2,maxAccess:x,onChange:P.handleChange,onClear:()=>P.setFieldValue("name",""),error:P.touched.name&&!!P.errors.name})}),(0,s.jsx)(R.ZP,{item:!0,xs:12,children:(0,s.jsx)(C.Z,{name:"org",value:null===(t=P.values)||void 0===t?void 0:t.org,onChange:e=>P.setFieldValue("org",e.target.checked),label:p.organization,maxAccess:x})}),(0,s.jsx)(R.ZP,{item:!0,xs:12,children:(0,s.jsx)(C.Z,{name:"person",value:null===(a=P.values)||void 0===a?void 0:a.person,onChange:e=>P.setFieldValue("person",e.target.checked),label:p.person,maxAccess:x})}),(0,s.jsx)(R.ZP,{item:!0,xs:12,children:(0,s.jsx)(C.Z,{name:"group",value:null===(d=P.values)||void 0===d?void 0:d.group,onChange:e=>P.setFieldValue("group",e.target.checked),label:p.group,maxAccess:x})}),(0,s.jsx)(R.ZP,{item:!0,xs:12,children:(0,s.jsx)(C.Z,{name:"isUnique",value:null===(l=P.values)||void 0===l?void 0:l.isUnique,onChange:e=>P.setFieldValue("isUnique",e.target.checked),label:p.unique,maxAccess:x})})]})})})})}var v=()=>{let{getRequest:e,postRequest:t}=(0,r.useContext)(o.$),{platformLabels:a}=(0,r.useContext)(N.l),{stack:R}=(0,x.zY)();async function I(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:s=50}=t;return{...await e({extension:i.F.CategoryID.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(s,"&filter=")}),_startAt:a}}let{query:{data:m},labels:h,paginationParameters:q,refetch:C,access:v}=(0,g.J)({queryFn:I,endpointId:i.F.CategoryID.page,datasetId:c.i.IdCategories}),f=(0,g.E)({endpointId:i.F.CategoryID.page}),D=[{field:"name",headerName:h.name,flex:1}];function L(e){R({Component:A,props:{labels:h,recordId:e,maxAccess:v},width:600,height:400,title:h.idCategory})}let P=async e=>{await t({extension:i.F.CategoryID.del,record:JSON.stringify(e)}),f(),n.ZP.success(a.Deleted)};return(0,s.jsxs)(u.R,{children:[(0,s.jsx)(p.g,{children:(0,s.jsx)(l.Z,{onAdd:()=>{L()},maxAccess:v})}),(0,s.jsx)(y.Q,{children:(0,s.jsx)(d.Z,{columns:D,gridData:m,rowId:["recordId"],onEdit:e=>{L(null==e?void 0:e.recordId)},onDelete:P,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:q,refetch:C,maxAccess:v})})," "]})}},253:function(e,t,a){"use strict";a.d(t,{F:function(){return r}});let s="BP.asmx/",r={LegalStatus:{qry:s+"qryLGS",page:s+"pageLGS",get:s+"getLGS",set:s+"setLGS",del:s+"delLGS"},GroupLegalDocument:{qry:s+"qryGIN",page:s+"pageGIN",get:s+"getGIN",set:s+"setGIN",del:s+"delGIN"},CategoryID:{qry:s+"qryINC",get:s+"getINC",page:s+"pageINC",set:s+"setINC",del:s+"delINC"},Group:{qry:s+"qryGRP",get:s+"getGRP",set:s+"setGRP",del:s+"delGRP"},MasterData:{qry:s+"qryMAS",qry2:s+"qryMAS2",get:s+"getMAS",set:s+"setMAS",del:s+"delMAS",snapshot:s+"snapshotMAS"},RelationTypes:{qry:s+"qryRLT",page:s+"pageRLT",get:s+"getRLT",set:s+"setRLT",del:s+"delRLT"},Groups:{qry:s+"qryGRP",page:s+"pageGRP",get:s+"getGRP",set:s+"setGRP",del:s+"delGRP"},MasterIDNum:{qry:s+"qryMIN",page:s+"pageMIN",get:s+"getMIN",set:s+"setMIN",del:s+"delMIN"},Relation:{qry:s+"qryREL",page:s+"pageREL",get:s+"getREL",set:s+"setREL",del:s+"delREL"},BPAddress:{qry:s+"qryADD",page:s+"pageADD",get:s+"getADD",set:s+"setADD",del:s+"delADD"},RoleCategory:{qry:s+"qryROC",get:s+"getROC",page:s+"pageROC",set:s+"setROC",del:s+"delROC"},Role:{qry:s+"qryROL",page:s+"pageROL",get:s+"getROL",set:s+"setROL",del:s+"delROL"},MasterDataRole:{qry:s+"qryMRO",del:s+"delMRO",get:s+"getMRO",set:s+"setMRO"},MasterSales:{get:s+"getSAL",set:s+"setSAL"},MasterPurchase:{get:s+"getPUR",set:s+"setPUR"},Bank:{qry:s+"qryBNK",get:s+"getBNK",set:s+"setBNK",del:s+"delBNK"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=79004)}),_N_E=e.O()}]);