(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22579],{44426:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cb-cash-groups",function(){return r(29393)}])},29393:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return y}});var t=r(52322),a=r(2784),s=r(62202),c=r(69387),o=r(27723),i=r(65950),d=r(2119),u=r(71987),l=r(26612),h=r(31389),p=r(33625),C=r(62362),f=r(61802),m=r(60218),x=r(48601),g=r(82737),G=r(5088),A=r(80983),I=r(19473),b=r(74898);function _(e){let{labels:n,maxAccess:r,recordId:c}=e,{getRequest:o,postRequest:p}=(0,a.useContext)(i.$),{platformLabels:f}=(0,a.useContext)(I.l),_=(0,u.E)({endpointId:d.G.CbCashGroup.page}),{formik:y}=(0,A.c)({initialValues:{recordId:c||null,reference:"",name:""},maxAccess:r,validateOnChange:!0,validationSchema:x.Ry({reference:x.Z_().required(),name:x.Z_().required()}),onSubmit:async e=>{let n=await p({extension:d.G.CbCashGroup.set,record:JSON.stringify(e)});e.recordId||y.setValues({...e,recordId:n.recordId}),_(),s.ZP.success(e.recordId?f.Edited:f.Added)}}),j=!!y.values.recordId;(0,a.useEffect)(()=>{!async function(){if(c){let e=await o({extension:d.G.CbCashGroup.get,parameters:"_recordId=".concat(c)});y.setValues(e.record)}}()},[]);let w=[{key:"Integration Account",condition:!0,onClick:"onClickGIA",masterSource:b.N.CashAccountGroup,disabled:!j}];return(0,t.jsx)(g.Z,{resourceId:l.i.CbCashGroups,actions:w,form:y,maxAccess:r,editMode:j,children:(0,t.jsx)(h.R,{children:(0,t.jsx)(C.Q,{children:(0,t.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(m.ZP,{item:!0,xs:12,children:(0,t.jsx)(G.Z,{name:"reference",label:n.reference,value:y.values.reference,required:!0,maxAccess:r,maxLength:"30",onChange:y.handleChange,onClear:()=>y.setFieldValue("reference",""),error:y.touched.reference&&!!y.errors.reference})}),(0,t.jsx)(m.ZP,{item:!0,xs:12,children:(0,t.jsx)(G.Z,{name:"name",label:n.name,value:y.values.name,required:!0,rows:2,maxAccess:r,onChange:y.handleChange,onClear:()=>y.setFieldValue("name",""),error:y.touched.name&&!!y.errors.name})})]})})})})}var y=()=>{let{getRequest:e,postRequest:n}=(0,a.useContext)(i.$),{platformLabels:r}=(0,a.useContext)(I.l),{stack:m}=(0,f.zY)();async function x(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:t=50}=n;return{...await e({extension:d.G.CbCashGroup.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(t,"&filter=")}),_startAt:r}}let{query:{data:g},labels:G,refetch:A,invalidate:b,paginationParameters:y,access:j}=(0,u.J)({queryFn:x,endpointId:d.G.CbCashGroup.page,datasetId:l.i.CbCashGroups}),w=[{field:"reference",headerName:G.reference,flex:1},{field:"name",headerName:G.name,flex:1}],v=async e=>{await n({extension:d.G.CbCashGroup.del,record:JSON.stringify(e)}),b(),s.ZP.success(r.Deleted)};function Z(e){m({Component:_,props:{labels:G,recordId:e,maxAccess:j},width:600,height:250,title:G.accountGroup})}return(0,t.jsxs)(h.R,{children:[(0,t.jsx)(p.g,{children:(0,t.jsx)(o.Z,{onAdd:()=>{Z()},maxAccess:j})}),(0,t.jsx)(C.Q,{children:(0,t.jsx)(c.Z,{columns:w,gridData:g,rowId:["recordId"],onEdit:e=>{Z(null==e?void 0:e.recordId)},onDelete:v,isLoading:!1,pageSize:50,paginationType:"api",maxAccess:j,refetch:A,paginationParameters:y})})]})}},74898:function(e,n,r){"use strict";r.d(n,{N:function(){return t}});let t={Global:0,AccountGroup:10,Account:11,CashAccountGroup:20,CashAccount:21,ItemGroup:30,Item:31,ItemCategory:32,Site:33,ExpenseType:41,CostType:42,ProductionOverhead:51,TaxCode:12,PayrollGLGroup:61,PayrollEntitlementDeduction:62,AssetGroup:71,AssetClass:72}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=44426)}),_N_E=e.O()}]);