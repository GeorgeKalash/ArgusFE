(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68419],{49213:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sa-draft-serials-invoices",function(){return a(65509)}])},65509:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var n=a(52322),r=a(2784),i=a(71987),s=a(65950),l=a(69387),d=a(62202),c=a(61802),f=a(26612),o=a(31389),p=a(33625),u=a(62362),m=a(19473),N=a(22341),h=a(43014),x=a(36908),_=a(98345),y=a(7121),w=()=>{let{postRequest:e,getRequest:t}=(0,r.useContext)(s.$),{platformLabels:a}=(0,r.useContext)(m.l),{stack:w}=(0,c.zY)(),{query:{data:g},filterBy:I,refetch:v,labels:D,access:P,paginationParameters:A,invalidate:S}=(0,i.J)({queryFn:E,endpointId:N.P.DraftInvoice.page,datasetId:f.i.DraftSerialsInvoices,filter:{filterFn:b}}),C=[{field:"plantName",headerName:D.plant,flex:1},{field:"reference",headerName:D.reference,flex:1},{field:"date",headerName:D.date,flex:1,type:"date"},{field:"clientRef",headerName:D.clientRef,flex:1},{field:"clientName",headerName:D.clientName,flex:1},{field:"pcs",headerName:D.pcs,flex:1,type:"number"},{field:"weight",headerName:D.weight,flex:1,type:"number"},{field:"amount",headerName:D.amount,flex:1,type:"number"},{field:"spName",headerName:D.salesPerson,flex:1},{field:"description",headerName:D.description,flex:1},{field:"statusName",headerName:D.status,flex:1},{field:"wipName",headerName:D.wip,flex:1}];async function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:n=50,params:r=[]}=e;return{...await t({extension:N.P.DraftInvoice.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(n,"&_params=").concat(r,"&filter=")}),_startAt:a}}async function b(e){let{filters:a,pagination:n}=e;return a.qry?await t({extension:N.P.DraftInvoice.snapshot,parameters:"_filter=".concat(a.qry,"&_status=0")}):E({_startAt:n._startAt||0,params:null==a?void 0:a.params})}let{proxyAction:j}=(0,_.G)({functionId:y.J.DraftSerialsIn,action:k}),T=async()=>{await j()};async function k(e){w({Component:h.Z,props:{labels:D,access:P,recordId:e,invalidate:S},title:D.draftSerInv})}let q=async t=>{await e({extension:N.P.DraftInvoice.del,record:JSON.stringify(t)}),S(),d.ZP.success(a.Deleted)};return(0,n.jsxs)(o.R,{children:[(0,n.jsx)(p.g,{children:(0,n.jsx)(x.Z,{onAdd:T,maxAccess:P,reportName:"SADFT",filterBy:I})}),(0,n.jsx)(u.Q,{children:(0,n.jsx)(l.Z,{columns:C,gridData:g,rowId:["recordId"],onEdit:e=>{k(e.recordId)},refetch:v,onDelete:q,deleteConfirmationType:"strict",isLoading:!1,pageSize:50,maxAccess:P,paginationParameters:A,paginationType:"api"})})]})}}},function(e){e.O(0,[92515,2494,36908,23352,43014,49774,92888,40179],function(){return e(e.s=49213)}),_N_E=e.O()}]);