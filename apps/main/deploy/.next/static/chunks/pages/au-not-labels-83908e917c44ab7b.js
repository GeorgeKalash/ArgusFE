(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15338],{3680:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/au-not-labels",function(){return a(64588)}])},64588:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var n=a(52322),i=a(2784),l=a(62202),o=a(69387),r=a(27723),s=a(65950),c=a(71987),d=a(26612),u=a(33625),f=a(62362),x=a(31389),b=a(61802),h=a(19473),p=a(95982),g=a(60218),N=a(48601),_=a(82737),m=a(5088),y=a(80983);function I(e){let{labels:t,maxAccess:a,recordId:o}=e,{getRequest:r,postRequest:u}=(0,i.useContext)(s.$),{platformLabels:b}=(0,i.useContext)(h.l),I=(0,c.E)({endpointId:p.y.NotificationLabel.page}),{formik:w}=(0,y.c)({initialValues:{recordId:null,label:""},maxAccess:a,validateOnChange:!0,validationSchema:N.Ry({label:N.Z_().required()}),onSubmit:async e=>{let t=await u({extension:p.y.NotificationLabel.set,record:JSON.stringify(e)});e.recordId?l.ZP.success(b.Edited):l.ZP.success(b.Added),w.setFieldValue("recordId",t.recordId),I()}}),j=!!w.values.recordId;return(0,i.useEffect)(()=>{!async function(){if(o){let e=await r({extension:p.y.NotificationLabel.get,parameters:"_recordId=".concat(o)});w.setValues(e.record)}}()},[]),(0,n.jsx)(_.Z,{resourceId:d.i.NotificationLabels,form:w,maxAccess:a,editMode:j,children:(0,n.jsx)(x.R,{children:(0,n.jsx)(f.Q,{children:(0,n.jsx)(g.ZP,{container:!0,spacing:2,children:(0,n.jsx)(g.ZP,{item:!0,xs:12,children:(0,n.jsx)(m.Z,{name:"label",label:t.label,value:w.values.label,required:!0,maxAccess:a,onChange:w.handleChange,onClear:()=>w.setFieldValue("label",""),error:w.touched.label&&!!w.errors.label})})})})})})}var w=()=>{let{getRequest:e,postRequest:t}=(0,i.useContext)(s.$),{platformLabels:a}=(0,i.useContext)(h.l),{stack:g}=(0,b.zY)();async function N(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:n=50}=t;return{...await e({extension:p.y.NotificationLabel.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(n,"&filter=")}),_startAt:a}}let{query:{data:_},labels:m,refetch:y,invalidate:w,paginationParameters:j,access:C}=(0,c.J)({queryFn:N,endpointId:p.y.NotificationLabel.page,datasetId:d.i.NotificationLabels}),L=[{field:"label",headerName:m.label,flex:1}];function Z(e){g({Component:I,props:{labels:m,recordId:e,maxAccess:C},width:500,height:270,title:m.NotificationLabels})}let v=async e=>{await t({extension:p.y.NotificationLabel.del,record:JSON.stringify(e)}),w(),l.ZP.success(a.Deleted)};return(0,n.jsxs)(x.R,{children:[(0,n.jsx)(u.g,{children:(0,n.jsx)(r.Z,{onAdd:()=>{Z()},maxAccess:C})}),(0,n.jsx)(f.Q,{children:(0,n.jsx)(o.Z,{columns:L,gridData:_,rowId:["recordId"],onEdit:e=>{Z(null==e?void 0:e.recordId)},onDelete:v,isLoading:!1,pageSize:50,refetch:y,paginationParameters:j,paginationType:"api",maxAccess:C})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=3680)}),_N_E=e.O()}]);