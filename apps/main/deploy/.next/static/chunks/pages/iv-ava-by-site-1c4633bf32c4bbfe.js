(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1223],{77720:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/iv-ava-by-site",function(){return a(27180)}])},64581:function(e,t){"use strict";t.Z={src:"/_next/static/media/imgSerials.d1ee59bb.png",height:17,width:23,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAIVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt0UjBAAAAC3RSTlMCZzsmQ6RbWbaSTwNdgTwAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAArSURBVHicY2BiZ2BgYOBiZmBmYmRjZGRhYGBg4eBkZWVDYjAzMbKDpWCKARB/AJwjPQgCAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:6}},4831:function(e,t){"use strict";t.Z={src:"/_next/static/media/lot.bca31410.png",height:19,width:20,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVMaXEREBARDw8TEhIPDw8LCwsPDQ4RDg4SEA8SEBAPDQ0QEBASEBATERJjgqF5AAAADnRSTlMAcEkZIwlago8+NmagwZFCgWsAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA4SURBVHicFcbHEcAgEACxvRzA/bfrQS+By4gDhCK5L3IqKyDd6+vAh1FTw5Ttvga5ekUMrOtoxg8kgwEghNgcNAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},27180:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var i=a(52322),d=a(2784),r=a(69387),A=a(65950),n=a(26612),l=a(61802),s=a(71987),c=a(33625),o=a(31389),u=a(62362),f=a(36908),h=a(65215),m=e=>{let{labels:t,itemId:a,siteId:l}=e,{getRequest:c}=(0,d.useContext)(A.$),[f,m]=(0,d.useState)([]);async function g(){m(await c({extension:h.$.AvailabilitySerial.qry,parameters:"_itemId=".concat(a,"&_siteId=").concat(l,"&_srlNo=&_startAt=0&_pageSize=50")}))}let{refetch:p,access:x,paginationParameters:N}=(0,s.J)({datasetId:n.i.AvailabilitiesBySite,queryFn:g,endpointId:h.$.AvailabilitySerial.qry}),w=[{field:"srlNo",headerName:t.serialNo,flex:1},{field:"weight",headerName:t.weight,flex:1},{field:"siteRef",headerName:t.site,flex:1},{field:"pcs",headerName:t.pieces,flex:1}];return(0,i.jsx)(o.R,{children:(0,i.jsx)(u.Q,{children:(0,i.jsx)(r.Z,{columns:w,gridData:f,rowId:["sku"],isLoading:!1,pageSize:50,paginationType:"api",maxAccess:x,paginationParameters:N,refetch:p})})})},g=a(64581),p=a(4831),x=a(23925),N=a(44258),w=a(96577),I=a.n(w),R=e=>{let{labels:t,maxAccess:a,lotId:n,itemId:l,siteId:s}=e,{getRequest:c}=(0,d.useContext)(A.$),[f,m]=(0,d.useState)([]);async function g(){m(await c({extension:h.$.AvailabilityLot.qry,parameters:"_itemId=".concat(l,"&_siteId=").concat(s)}))}let[p,x]=(0,d.useState)([]);async function N(){let e=await c({extension:h.$.LotCategory.get,parameters:"_recordId=".concat(n)}),a=[{field:"lotRef",headerName:t.lotNumber,flex:1},{field:"onHand",headerName:t.qtyOnHand,flex:1}];e.record.udd1&&a.push({field:"udd1",headerName:e.record.udd1,flex:1,type:"date"}),e.record.udd2&&a.push({field:"udd2",headerName:e.record.udd2,flex:1,type:"date"}),e.record.udn1&&a.push({field:"udn1",headerName:e.record.udn1,flex:1}),e.record.udn2&&a.push({field:"udn2",headerName:e.record.udn2,flex:1}),e.record.udt1&&a.push({field:"udt1",headerName:e.record.udt1,flex:1}),e.record.udt2&&a.push({field:"udt2",headerName:e.record.udt2,flex:1}),a.push({field:"siteRef",headerName:t.site,flex:1}),x(a)}return(0,d.useEffect)(()=>{N(),g()},[]),(0,i.jsx)(o.R,{children:(0,i.jsx)(u.Q,{children:(0,i.jsx)(r.Z,{name:"lot",columns:p,gridData:f,rowId:["lotId"],isLoading:!1,pageSize:50,pagination:!1,maxAccess:a})})})},y=a(55010),_=()=>{let{getRequest:e}=(0,d.useContext)(A.$),{stack:t}=(0,l.zY)();async function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:i=50,params:d}=t;return{...await e({extension:y.P.Report403,parameters:"_startAt=".concat(a,"&_pageSize=").concat(i,"&_params=").concat(d||"","&exId=")}),_startAt:a}}async function h(e){let{filters:t,pagination:i}=e;return a({_startAt:i._startAt||0,params:null==t?void 0:t.params})}let{query:{data:w},labels:_,paginationParameters:S,refetch:C,access:b,filterBy:E}=(0,s.J)({queryFn:a,endpointId:y.P.Report403,datasetId:n.i.AvailabilitiesBySite,filter:{filterFn:h}}),B=[{field:"sku",headerName:_.sku,flex:1},{field:"name",headerName:_.name,flex:1},{field:"siteRef",headerName:_.siteRef,flex:1},{field:"siteName",headerName:_.siteName,flex:1},{field:"unitCost",headerName:_.unitCost,flex:1},{field:"unitPrice",headerName:_.unitPrice,flex:1},{field:"qty",headerName:_.qty,flex:1},{field:"pieces",headerName:_.pieces,flex:1},{field:"committed",headerName:_.committed,flex:1},{field:"netWeight",headerName:_.netWeight,flex:1},{field:"netVolume",headerName:_.netVolume,flex:1},{field:"netCost",headerName:_.netCost,flex:1},{field:"netPrice",headerName:_.netPrice,flex:1},{field:"S/L",flex:1,headerName:"S/L",cellRenderer:e=>{let{trackBy:t}=e.data;return 1===t||2===t?(0,i.jsx)(x.Z,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:(0,i.jsx)(N.Z,{size:"small",onClick:()=>1===t?D(e.data):j(e.data),children:(0,i.jsx)(I(),{src:1===t?g.Z:p.Z,width:1===t?25:18,height:18,alt:1===t?_.serial:_.lot})})}):null}}],D=e=>{t({Component:m,props:{labels:_,itemId:e.itemId,siteId:e.siteId},width:600,height:400,title:_.serialNo})},j=e=>{var a;a=e.lotCategoryId,t({Component:R,props:{labels:_,lotId:a,itemId:e.itemId,siteId:e.siteId,maxAccess:b},width:1150,height:450,title:_.lotAva})};return(0,i.jsxs)(o.R,{children:[(0,i.jsx)(c.g,{children:(0,i.jsx)(f.Z,{hasSearch:!1,maxAccess:b,filterBy:E,reportName:"IV403"})}),(0,i.jsx)(u.Q,{children:(0,i.jsx)(r.Z,{columns:B,gridData:w,rowId:["itemId"],maxAccess:b,refetch:C,pageSize:50,paginationParameters:S,paginationType:"api"})})]})}},55010:function(e,t,a){"use strict";a.d(t,{P:function(){return d}});let i="RG.IV.asmx/",d={Report403:i+"IV403_p",Report408:i+"IV408_p",Report451:i+"IV451",Report415:i+"IV415b"}}},function(e){e.O(0,[92515,2494,36908,49774,92888,40179],function(){return e(e.s=77720)}),_N_E=e.O()}]);