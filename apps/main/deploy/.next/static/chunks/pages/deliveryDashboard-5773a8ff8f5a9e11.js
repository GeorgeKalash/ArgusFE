(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37144],{90589:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/deliveryDashboard",function(){return t(39269)}])},39269:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return r.Z}});var r=t(15755)},15755:function(e,n,t){"use strict";var r=t(73235),s=t(52322),l=t(2784),o=t(3854),a=t(65950),i=t(30043),u=t(13781),d=t(26612),p=t(50023),g=t(54073),c=t.n(g),v=t(19473);function m(){let e=(0,r._)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 100%;\n  height: 100%;\n"]);return m=function(){return e},e}function R(){let e=(0,r._)(["\n  width: 100%;\n  height: auto;\n  padding: 10px;\n  background: rgb(204, 204, 204);\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));\n  gap: 10px;\n"]);return R=function(){return e},e}function T(){let e=(0,r._)(["\n  background: white;\n  border-radius: 10px;\n  padding: 10px;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n"]);return T=function(){return e},e}function f(){let e=(0,r._)(["\n  margin-bottom: 10px;\n  text-align: center;\n"]);return f=function(){return e},e}let h=o.ZP.div(m()),y=o.ZP.div(R()),P=o.ZP.div(T()),D=o.ZP.h2(f());n.Z=()=>{let{getRequest:e,LoadingOverlay:n}=(0,l.useContext)(a.$),{defaultsData:t}=(0,l.useContext)(v.l),[r,o]=(0,l.useState)([]),[g,m]=(0,l.useState)(!0),{labels:R}=(0,p.Z)({datasetId:d.i.UserDashboard}),T=c()(()=>m(!1),200),f=async()=>{var n;m(!0);let r=await e({extension:i.U.GenerateTrip.root}),s=r.list.map(async n=>{var t,r,s;let l=await e({extension:i.U.Volume.vol,parameters:"_parentId=".concat(n.recordId)});return{zoneName:n.zoneName,volumes:null!==(s=null==l?void 0:null===(r=l.record)||void 0===r?void 0:null===(t=r.saleZoneOrderVolumeSummaries)||void 0===t?void 0:t.map(e=>{var n;return{subZone:null!==(n=e.zoneName)&&void 0!==n?n:"",volume:e.volume}}))&&void 0!==s?s:[]}}),l=await Promise.all(s),a=null==t?void 0:null===(n=t.list)||void 0===n?void 0:n.find(e=>"minZoneVolumeDB"===e.key),u=a&&void 0!==a.value&&Number(a.value)||1/0;o(l.map((e,n)=>{var t,s;return{zoneName:null!==(s=null===(t=r.list[n])||void 0===t?void 0:t.name)&&void 0!==s?s:"Unknown Zone",volumes:e.volumes.filter(e=>e.subZone).slice(0,u)}})),T()};return((0,l.useEffect)(()=>{f();let e=setInterval(f,3e5);return()=>clearInterval(e)},[t]),g)?(0,s.jsx)(n,{}):(0,s.jsx)(h,{children:(0,s.jsx)(y,{children:r.map((e,n)=>(0,s.jsxs)(P,{children:[(0,s.jsxs)(D,{children:[R.deliveryVolumes," - ",e.zoneName]}),(0,s.jsx)(u.xe,{labels:e.volumes.map(e=>e.subZone),data:e.volumes.map(e=>e.volume),label:R.deliveryVolumes})]},n))})})}},30043:function(e,n,t){"use strict";t.d(n,{U:function(){return s}});let r="DE.asmx/",s={Driver:{snapshot:r+"snapshotDRV",page:r+"pageDRV",set:r+"setDRV",get:r+"getDRV",qry:r+"qryDRV",del:r+"delDRV"},Vehicle:{page:r+"pageVEH",set:r+"setVEH",get:r+"getVEH",qry:r+"qryVEH",del:r+"delVEH"},Trip:{page:r+"pageTRP",set:r+"setTRP",get:r+"getTRP",qry:r+"qryTRP",del:r+"delTRP",snapshot:r+"snapshotTRP",snapshot2:r+"snapshot2TRP",reopen:r+"reopenTRP",post:r+"postTRP",unpost:r+"unpostTRP",close:r+"closeTRP",generate:r+"generateTRP",setTRP2:r+"setTRP2",assign:r+"assignTRP",unassign:r+"unassignedTRP"},TripOrderPack2:{set2:r+"set2TRO"},TripOrder:{qry:r+"qryTRO"},Reduild:{rebuild:r+"rebuildMW"},TRP:{flag:r+"flagTRP"},ExpenseTypes:{get:r+"getET",set:r+"setET",del:r+"delET",page:r+"pageET"},DeliveriesOrders:{qry:r+"qryORD",get:r+"getORD",snapshot:r+"snapshotORD",unpost:r+"unpostORD",gen:r+"genORD",post:r+"postORD",del:r+"delORD",cancel:r+"cancelORD",flag:r+"flagORD",set2:r+"set2ORD"},Invoice:{generate:r+"generateIVC2",generateInv:r+"generateIVC",preview:r+"previewIVC"},OrderItem:{qry:r+"qryORI",get:r+"getORI"},MW:{qry:r+"qryMW2"},GenerateTrip:{root:r+"rootSZ",firstLevel:r+"firstLevelSZ",undelivered2:r+"undeliveredSO2",previewTRP:r+"previewTRP"},DeliveryLeadTime:{get:r+"getLDT",page:r+"pageLDT",set:r+"setLDT",del:r+"delLDT"},Volume:{vol:r+"volZO"},AllocatedVolume:{qry:r+"qryVEH2"},InboundTransp:{pack:r+"getPackINB",page:r+"pageINB",set2:r+"set2INB",get:r+"getINB",get2:r+"get2INB",del:r+"delINB",snapshot:r+"snapshotINB",post:r+"postINB",unpost:r+"unpostINB"},InboundOrders:{qry:r+"qryINO"}}}},function(e){e.O(0,[96767,3854,86558,13781,49774,92888,40179],function(){return e(e.s=90589)}),_N_E=e.O()}]);