(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71958],{31708:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/iv-barcodes",function(){return n(55408)}])},55408:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return g}});var i=n(52322),t=n(2784),s=n(62202),d=n(48601),r=n(60218),l=n(69387),o=n(27723),c=n(31389),u=n(33625),m=n(62362),p=n(65950),f=n(19473),h=n(61802),x=n(71987),I=n(80983),_=n(26612),y=n(65215),N=n(48290),v=n(27423),w=n(69627),g=()=>{let{getRequest:e,postRequest:a}=(0,t.useContext)(p.$),{platformLabels:n}=(0,t.useContext)(f.l),{stack:g}=(0,h.zY)(),[b,k]=(0,t.useState)(null),{formik:S}=(0,I.c)({initialValues:{itemId:null},validateOnChange:!0,validationSchema:d.Ry({itemId:d.Z_().required()})});async function j(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:n=0,_pageSize:i=50}=a;return{...await e({extension:y.$.Barcodes.qry,parameters:"_startAt=".concat(n,"&_pageSize=").concat(i,"&_params=&filter=&_itemId=").concat(b||0)}),_startAt:n}}async function C(a){let{options:n={},qry:i}=a,{_startAt:t=0,_size:s=50}=n;return e({extension:y.$.Barcodes.snapshot,parameters:"_filter=".concat(i,"&_startAt=").concat(t,"&_size=").concat(s)})}let{query:{data:Z},labels:D,paginationParameters:A,refetch:P,access:B,search:$,clear:E,invalidate:F}=(0,x.J)({queryFn:j,endpointId:y.$.Barcodes.qry,datasetId:_.i.Barcodes,search:{endpointId:y.$.Barcodes.snapshot,searchFn:C}}),q=[{field:"barcode",headerName:D.barcode,flex:1},{field:"sku",headerName:D.sku,flex:1},{field:"itemName",headerName:D.itemName,flex:1},{field:"muName",headerName:D.msUnit,flex:1},{field:"defaultQty",headerName:D.defaultQty,flex:1},{field:"scaleDescription",headerName:D.scaleDescription,flex:1},{field:"posDescription",headerName:D.posDescription,flex:1}],z=e=>{g({Component:N.Z,props:{labels:D,recordId:null==e?void 0:e.recordId,barcode:null==e?void 0:e.barcode,msId:null==e?void 0:e.msId,maxAccess:B},title:D.Barcodes})},O=async e=>{await a({extension:y.$.Barcodes.del,record:JSON.stringify(e)}),F(),s.ZP.success(n.Deleted)};return(0,i.jsxs)(c.R,{children:[(0,i.jsx)(u.g,{children:(0,i.jsx)(o.Z,{onAdd:()=>z(),maxAccess:B,onSearch:$,onSearchClear:E,labels:D,inputSearch:!0,refetch:P,middleSection:(0,i.jsx)(r.ZP,{item:!0,sx:{display:"flex",mr:2},children:(0,i.jsxs)(r.ZP,{container:!0,alignItems:"center",spacing:2,wrap:"nowrap",sx:{mr:2},children:[(0,i.jsx)(r.ZP,{item:!0,sx:{minWidth:280},children:(0,i.jsx)(v.U,{endpointId:y.$.Item.snapshot,name:"itemId",label:null==D?void 0:D.sku,valueField:"recordId",displayField:"sku",valueShow:"itemRef",secondValueShow:"itemName",form:S,columnsInDropDown:[{key:"sku",value:"SKU"},{key:"name",value:"Name"}],onChange:(e,a)=>{S.setFieldValue("itemId",null==a?void 0:a.recordId),k(null==a?void 0:a.recordId)},displayFieldWidth:2,maxAccess:B})}),(0,i.jsx)(r.ZP,{item:!0,children:(0,i.jsx)(w.Z,{label:n.Apply,onClick:P})})]})})})}),(0,i.jsx)(m.Q,{children:(0,i.jsx)(l.Z,{columns:q,gridData:Z,rowId:["recordId"],onEdit:e=>z(e),onDelete:O,deleteConfirmationType:"strict",isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:A,refetch:P,maxAccess:B})})]})}}},function(e){e.O(0,[48290,49774,92888,40179],function(){return e(e.s=31708)}),_N_E=e.O()}]);