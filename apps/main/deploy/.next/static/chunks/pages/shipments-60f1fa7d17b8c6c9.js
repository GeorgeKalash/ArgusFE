(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85999],{27702:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shipments",function(){return n(30818)}])},30818:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(52322),r=n(2784),i=n(62202),s=n(69387),d=n(65950),o=n(71987),c=n(26612),l=n(31389),f=n(33625),p=n(62362),u=n(61802),m=n(19473),h=n(2454),_=n(36908),x=n(61414),y=()=>{let{getRequest:e,postRequest:t}=(0,r.useContext)(d.$),{platformLabels:n}=(0,r.useContext)(m.l),{stack:y}=(0,u.zY)();async function N(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:n=0,_pageSize:a=50,params:r}=t;return{...await e({extension:h.y.Shipment.page,parameters:"_startAt=".concat(n,"&_pageSize=").concat(a,"&_params=").concat(r||"","&_sortBy=recordId desc")}),_startAt:n}}async function g(t){let{filters:n,pagination:a}=t;return(null==n?void 0:n.qry)?await e({extension:h.y.Shipment.snapshot,parameters:"_filter=".concat(n.qry)}):N({_startAt:a._startAt||0,params:null==n?void 0:n.params})}let{query:{data:w},labels:S,filterBy:v,paginationParameters:A,refetch:C,access:E,invalidate:I}=(0,o.J)({queryFn:N,endpointId:h.y.Shipment.page,datasetId:c.i.Shipments,filter:{filterFn:g}}),P=[{field:"reference",headerName:S.reference,flex:1},{field:"date",headerName:S.date,flex:1,type:"date"},{field:"vendorName",headerName:S.vendor,flex:1},{field:"dtName",headerName:S.docType,flex:1},{field:"siteRef",headerName:S.siteRef,flex:1},{field:"siteName",headerName:S.siteName,flex:1},{field:"statusName",headerName:S.status,flex:1}];async function j(e){y({Component:x.Z,props:{recordId:e}})}let T=async e=>{await t({extension:h.y.Shipment.del,record:JSON.stringify(e)}),I(),i.ZP.success(n.Deleted)};return(0,a.jsxs)(l.R,{children:[(0,a.jsx)(f.g,{children:(0,a.jsx)(_.Z,{onAdd:()=>{j()},maxAccess:E,reportName:"PUSHP",filterBy:v})}),(0,a.jsx)(p.Q,{children:(0,a.jsx)(s.Z,{name:"table",columns:P,gridData:w,rowId:["recordId"],onEdit:e=>{j(null==e?void 0:e.recordId)},onDelete:T,deleteConfirmationType:"strict",isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:A,refetch:C,maxAccess:E})})]})}}},function(e){e.O(0,[92515,2494,36908,61414,49774,92888,40179],function(){return e(e.s=27702)}),_N_E=e.O()}]);