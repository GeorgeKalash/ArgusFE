(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95709],{52233:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fo-alloy-metals",function(){return s(9613)}])},9613:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var a=s(52322),n=s(36773),l=s(26612),o=s(19473),r=s(65950),d=s(61802),i=s(33625),u=s(31389),c=s(62362),p=s(69387),g=s(27723),A=s(60218),y=s(2784),m=s(48601),h=s(62202),M=s(71987),S=s(80983),C=s(82737),x=s(27423),f=s(65215);function q(e){let{labels:t,maxAccess:s,recordId:d}=e,{getRequest:i,postRequest:p}=(0,y.useContext)(r.$),{platformLabels:g}=(0,y.useContext)(o.l),q=(0,M.E)({endpointId:n.B.AlloyMetals.page}),{formik:I}=(0,S.c)({maxAccess:s,initialValues:{recordId:null,itemId:null,name:"",sku:""},validationSchema:m.Ry({itemId:m.Z_().required()}),onSubmit:async e=>{await p({extension:n.B.AlloyMetals.set,record:JSON.stringify(e)}),h.ZP.success(g.Added),I.setFieldValue("recordId",e.itemId),q()}}),D=!!I.values.recordId;return(0,y.useEffect)(()=>{!async function(){if(d){let e=await i({extension:n.B.AlloyMetals.get,parameters:"_itemId=".concat(d)});I.setValues({...e.record,recordId:e.record.itemId})}}()},[]),(0,a.jsx)(C.Z,{resourceId:l.i.AlloyMetals,form:I,maxAccess:s,editMode:D,disabledSubmit:D,children:(0,a.jsx)(u.R,{children:(0,a.jsx)(c.Q,{children:(0,a.jsx)(A.ZP,{container:!0,spacing:2,children:(0,a.jsx)(A.ZP,{item:!0,xs:12,children:(0,a.jsx)(x.U,{endpointId:f.$.Item.snapshot,name:"itemId",label:t.sku,valueField:"sku",displayField:"name",required:!0,valueShow:"sku",secondValueShow:"name",form:I,readOnly:D,columnsInDropDown:[{key:"sku",value:"SKU"},{key:"name",value:"Name"}],onChange:(e,t)=>{I.setFieldValue("name",(null==t?void 0:t.name)||""),I.setFieldValue("sku",(null==t?void 0:t.sku)||""),I.setFieldValue("itemId",(null==t?void 0:t.recordId)||null)},displayFieldWidth:2,errorCheck:"itemId",maxAccess:s})})})})})})}var I=()=>{let{getRequest:e,postRequest:t}=(0,y.useContext)(r.$),{platformLabels:s}=(0,y.useContext)(o.l),{stack:A}=(0,d.zY)();async function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:a=50}=t;return{...await e({extension:n.B.AlloyMetals.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(a)}),_startAt:s}}let{query:{data:S},labels:C,invalidate:x,paginationParameters:f,refetch:I,access:D}=(0,M.J)({queryFn:m,endpointId:n.B.AlloyMetals.page,datasetId:l.i.AlloyMetals}),T=[{field:"sku",headerName:C.sku,flex:1},{field:"name",headerName:C.name,flex:1}],W=async e=>{await t({extension:n.B.AlloyMetals.del,record:JSON.stringify(e)}),x(),h.ZP.success(s.Deleted)};function X(e){A({Component:q,props:{labels:C,recordId:e,maxAccess:D},width:500,height:200,title:C.AlloyMetals})}return(0,a.jsxs)(u.R,{children:[(0,a.jsx)(i.g,{children:(0,a.jsx)(g.Z,{onAdd:()=>{X()},maxAccess:D})}),(0,a.jsx)(c.Q,{children:(0,a.jsx)(p.Z,{name:"table",columns:T,gridData:S,rowId:["recordId"],onEdit:e=>{X(null==e?void 0:e.itemId)},onDelete:W,pageSize:50,refetch:I,paginationParameters:f,paginationType:"api",maxAccess:D})})]})}},36773:function(e,t,s){"use strict";s.d(t,{B:function(){return n}});let a="FO.asmx/",n={WorkCenter:{page:a+"pageWCT",qry:a+"qryWCT",set:a+"setWCT",get:a+"getWCT",del:a+"delWCT"},Wax:{page:a+"pageWAX",snapshot:a+"snapshotWAX",set:a+"setWAX",set2:a+"set2WAX",get:a+"getWAX",del:a+"delWAX",post:a+"postWAX",unpost:a+"unpostWAX",close:a+"closeWAX",open:a+"openWAX",reopen:a+"reopenWAX"},WaxJob:{qry:a+"qryWAJ",qry2:a+"qry2WAJ"},Mould:{qry:a+"qryMOU",qry2:a+"qry2MOU",page:a+"pageMOU",set:a+"setMOU",get:a+"getMOU",del:a+"delMOU",snapshot:a+"snapshotMOU"},MetalSettings:{page:a+"pageMTS",set:a+"setMTS",get:a+"getMTS",del:a+"delMTS"},Scrap:{qry:a+"qryMSC",set2:a+"set2MSC"},JobWaxInquiry:{qry2:a+"qry2WAJ"},Casting:{page:a+"pageCAS",get:a+"getCAS",set:a+"setCAS",del:a+"delCAS",cancel:a+"cancelCAS",post:a+"postCAS",snapshot:a+"snapshotCAS"},CastingDisassembly:{qry:a+"qryCDA",set2:a+"set2CDA"},MetalScrap:{qry:a+"qryMSC"},CastingJob:{qry:a+"qryCAJ",set2:a+"set2CAJ"},FoundaryTransaction:{get:a+"getTRX",get2:a+"get2TRX",del:a+"delTRX",set2:a+"set2TRX",page:a+"pageTRX",snapshot:a+"snapshotTRX",post:a+"postTRX",unpost:a+"unpostTRX"},AlloyMetals:{page:a+"pageALM",set:a+"setALM",get:a+"getALM",del:a+"delALM",qry:a+"qryALM"},SmeltingScrapItem:{qry:a+"qrySMSI",set2:a+"set2SMSI"},DocumentTypeDefault:{page:a+"pageDTD",set:a+"setDTD",get:a+"getDTD",del:a+"delDTD"},PurityAdjustment:{combos:a+"getPackPADJ",get2:a+"get2PADJ",del:a+"delPADJ",set2:a+"set2PADJ",page:a+"pagePADJ",snapshot:a+"snapshotPADJ",post:a+"postPADJ",unpost:a+"unpostPADJ"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=52233)}),_N_E=e.O()}]);