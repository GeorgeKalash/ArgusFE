(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44644],{85731:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fi-open-po",function(){return a(60589)}])},60589:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return P}});var t=a(52322),r=a(2784),c=a(62202),o=a(69387),d=a(65950),s=a(71987),l=a(26612),i=a(31389),u=a(33625),f=a(62362),m=a(61802),p=a(19473),h=a(25870),x=a(36908),y=a(39810),N=a(96026),_=a(46671),w=a(40082),g=a(54074),C=a(32304),P=()=>{let{getRequest:e,postRequest:n}=(0,r.useContext)(d.$),{platformLabels:a}=(0,r.useContext)(p.l),{stack:P}=(0,m.zY)(),[k,I]=(0,r.useState)(),{stack:O}=(0,N.V)();async function b(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{params:a}=n;return{...await e({extension:h.H.PaymentOrders.open,parameters:"_params=".concat(a||"","&_filter=")})}}async function Z(n){let{filters:a}=n;return(null==a?void 0:a.qry)?await e({extension:h.H.PaymentOrders.open,parameters:"_filter=".concat(a.qry,"&_params=")}):b({params:null==a?void 0:a.params})}let{query:{data:v},labels:j,filterBy:E,refetch:S,access:A,invalidate:H}=(0,s.J)({queryFn:b,endpointId:h.H.PaymentOrders.page2,datasetId:l.i.OpenPaymentOrder,filter:{filterFn:Z}}),T=[{field:"date",headerName:j.date,flex:1,type:"date"},{field:"reference",headerName:j.reference,flex:1},{field:"plantName",headerName:j.plantName,flex:1},{field:"accountTypeName",headerName:j.accountType,flex:1},{field:"accountRef",headerName:j.account,flex:1},{field:"accountName",headerName:j.accountName,flex:1},{field:"cashAccountName",headerName:j.cashAccount,flex:1},{field:"paymentMethodName",headerName:j.paymentMethod,flex:1},{field:"amount",headerName:j.amount,flex:1,type:"number"},{field:"currencyRef",headerName:j.currency,flex:1},{field:"notes",headerName:j.notes,flex:1}],q=async t=>{if(null==t?void 0:t.checked)n({extension:h.H.PaymentOrders.generate,record:JSON.stringify(t)}).then(async n=>{c.ZP.success(a.Generated),n.recordId&&P({Component:3!==(await e({extension:h.H.PaymentVouchers.get,parameters:"_recordId=".concat(n.recordId)})).record.accountType?_.Z:w.Z,props:{recordId:n.recordId}}),H()});else{O({message:a.selectRow});return}},R=[{key:"PV",condition:!0,onClick:()=>q(k),disabled:!1}];return(0,t.jsx)(g.Z,{actions:R,onSave:()=>q(k),isSaved:!1,maxAccess:A,fullSize:!0,children:(0,t.jsxs)(i.R,{children:[(0,t.jsx)(u.g,{children:(0,t.jsx)(x.Z,{labels:j,maxAccess:A,reportName:"FIPO2",filterBy:E})}),(0,t.jsx)(f.Q,{children:(0,t.jsx)(o.Z,{name:"table",columns:T,gridData:v,showCheckboxColumn:!0,rowId:["recordId"],rowSelection:"single",handleCheckboxChange:(e,n)=>{I(n?e:{})},onEdit:e=>{!function(e){let{recordId:n,accountType:a}=e;P({Component:3!==a?C.Z:y.Z,props:{recordId:n}})}(e)},pagination:!1,refetch:S,maxAccess:A})})]})})}}},function(e){e.O(0,[92515,2494,36908,32304,62482,46671,40082,39810,49774,92888,40179],function(){return e(e.s=85731)}),_N_E=e.O()}]);