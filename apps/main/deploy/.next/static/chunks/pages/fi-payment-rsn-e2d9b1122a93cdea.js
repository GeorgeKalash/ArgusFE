(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31977],{74028:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fi-payment-rsn",function(){return a(86217)}])},86217:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return R}});var r=a(52322),t=a(2784),s=a(62202),c=a(69387),i=a(27723),o=a(65950),d=a(61802),l=a(71987),u=a(26612),m=a(31389),h=a(33625),f=a(62362),x=a(19473),p=a(60218),g=a(48601),y=a(82737),_=a(5088),P=a(80983),C=a(25870);function I(e){let{labels:n,maxAccess:a,recordId:c}=e,{getRequest:i,postRequest:d}=(0,t.useContext)(o.$),{platformLabels:h}=(0,t.useContext)(x.l),I=(0,l.E)({endpointId:C.H.PaymentReasons.page}),{formik:R}=(0,P.c)({initialValues:{recordId:null,name:"",reference:""},validateOnChange:!0,validationSchema:g.Ry({name:g.Z_().required(),reference:g.Z_().required()}),onSubmit:async e=>{let n=await d({extension:C.H.PaymentReasons.set,record:JSON.stringify(e)});s.ZP.success(e.recordId?h.Edited:h.Added),R.setFieldValue("recordId",n.recordId),I()}}),j=!!R.values.recordId;return(0,t.useEffect)(()=>{!async function(){if(c){let e=await i({extension:C.H.PaymentReasons.get,parameters:"_recordId=".concat(c)});R.setValues(e.record)}}()},[]),(0,r.jsx)(y.Z,{resourceId:u.i.PaymentReasons,form:R,maxAccess:a,editMode:j,children:(0,r.jsx)(m.R,{children:(0,r.jsx)(f.Q,{children:(0,r.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(p.ZP,{item:!0,xs:12,children:(0,r.jsx)(_.Z,{name:"reference",label:n.reference,value:R.values.reference,required:!0,maxAccess:a,maxLength:"10",onChange:R.handleChange,onClear:()=>R.setFieldValue("reference",""),error:R.touched.reference&&!!R.errors.reference})}),(0,r.jsx)(p.ZP,{item:!0,xs:12,children:(0,r.jsx)(_.Z,{name:"name",label:n.name,value:R.values.name,required:!0,maxAccess:a,maxLength:"50",onChange:R.handleChange,onClear:()=>R.setFieldValue("name",""),error:R.touched.name&&!!R.errors.name})})]})})})})}var R=()=>{let{getRequest:e,postRequest:n}=(0,t.useContext)(o.$),{platformLabels:a}=(0,t.useContext)(x.l),{stack:p}=(0,d.zY)();async function g(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:r=50}=n;return{...await e({extension:C.H.PaymentReasons.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(r,"&_filter=&_sortField=")}),_startAt:a}}let{query:{data:y},labels:_,invalidate:P,paginationParameters:R,refetch:j,search:w,clear:Z,access:v}=(0,l.J)({queryFn:g,endpointId:C.H.PaymentReasons.page,datasetId:u.i.PaymentReasons,search:{endpointId:C.H.PaymentReasons.snapshot,searchFn:A}});async function A(n){let{qry:a}=n;return await e({extension:C.H.PaymentReasons.snapshot,parameters:"_filter=".concat(a)})}let E=[{field:"reference",headerName:_.reference,flex:1},{field:"name",headerName:_.name,flex:1}],N=async e=>{await n({extension:C.H.PaymentReasons.del,record:JSON.stringify(e)}),P(),s.ZP.success(a.Deleted)};function S(e){p({Component:I,props:{labels:_,recordId:e,maxAccess:v},width:600,height:300,title:_.paymentReasons})}return(0,r.jsxs)(m.R,{children:[(0,r.jsx)(h.g,{children:(0,r.jsx)(i.Z,{maxAccess:v,onAdd:()=>{S()},onSearch:w,onSearchClear:Z,labels:_,inputSearch:!0})}),(0,r.jsx)(f.Q,{children:(0,r.jsx)(c.Z,{columns:E,gridData:y,rowId:["recordId"],onEdit:e=>{S(null==e?void 0:e.recordId)},onDelete:N,isLoading:!1,pageSize:50,refetch:j,paginationParameters:R,paginationType:"api",maxAccess:v})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=74028)}),_N_E=e.O()}]);