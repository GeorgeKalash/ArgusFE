(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8667],{8173:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr-ent-deduction",function(){return s(25470)}])},25470:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var r=s(52322),a=s(2784),n=s(62202),l=s(69387),o=s(27723),d=s(65950),i=s(71987),c=s(26612),p=s(33625),y=s(31389),g=s(62362),u=s(19473),m=s(61802),E=s(92407),q=s(60218),h=s(48601),S=s(82737),x=s(80983),C=s(5088),P=s(8661),T=s(84100),f=s(19689),I=s(83562),R=s(26150),D=s(74898);function v(e){var t;let{labels:s,recordId:l,maxAccess:o,window:p}=e,{platformLabels:m}=(0,a.useContext)(u.l),{getRequest:v,postRequest:A}=(0,a.useContext)(d.$),F=(0,i.E)({endpointId:E.y.EmployeeDeduction.page}),{formik:N}=(0,x.c)({initialValues:{recordId:l,name:"",type:null,reference:"",paycodeRef:"",expressionId:null},maxAccess:o,validateOnChange:!0,validationSchema:h.Ry({name:h.Z_().required(),reference:h.Z_().required(),type:h.Rx().required(),paycodeRef:h.Z_().required()}),onSubmit:async e=>{let t=await A({extension:E.y.EmployeeDeduction.set,record:JSON.stringify(e)});n.ZP.success(e.recordId?m.Edited:m.Added),N.setFieldValue("recordId",t.recordId),F(),p.close()}}),_=!!N.values.recordId;(0,a.useEffect)(()=>{!async function(){if(l){let e=await v({extension:E.y.EmployeeDeduction.get,parameters:"_recordId=".concat(l)});N.setValues(e.record)}}()},[]);let j=[{key:"Integration Account",condition:!0,onClick:"onClickGIA",masterSource:D.N.PayrollEntitlementDeduction,disabled:!_}];return(0,r.jsx)(S.Z,{resourceId:c.i.EntitlementDeduction,actions:j,form:N,maxAccess:o,editMode:_,isCleared:!1,children:(0,r.jsx)(y.R,{children:(0,r.jsx)(g.Q,{children:(0,r.jsxs)(q.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(q.ZP,{item:!0,xs:12,children:(0,r.jsx)(C.Z,{name:"reference",label:s.reference,value:N.values.reference,required:!0,maxLength:"10",maxAccess:o,onChange:N.handleChange,onClear:()=>N.setFieldValue("reference",""),error:N.touched.reference&&N.errors.reference})}),(0,r.jsx)(q.ZP,{item:!0,xs:12,children:(0,r.jsx)(C.Z,{name:"name",label:s.name,value:N.values.name,required:!0,maxLength:"30",maxAccess:o,onChange:N.handleChange,onClear:()=>N.setFieldValue("name",""),error:N.touched.name&&N.errors.name})}),(0,r.jsx)(q.ZP,{item:!0,xs:12,children:(0,r.jsx)(P.Z,{datasetId:T.v.ENTITLEMENT_DEDUCTION_TYPE,name:"type",label:s.type,values:N.values,valueField:"key",displayField:"value",required:!0,maxAccess:o,onChange:(e,t)=>{N.setFieldValue("type",(null==t?void 0:t.key)||null)},error:N.touched.type&&!!N.errors.type})}),(0,r.jsx)(q.ZP,{item:!0,xs:12,children:(0,r.jsx)(P.Z,{endpointId:I.m.Paycode.qry,name:"paycodeRef",label:s.paycodeRef,values:N.values,valueField:"payCode",displayField:"name",required:!0,maxAccess:o,onChange:(e,t)=>{N.setFieldValue("paycodeRef",(null==t?void 0:t.payCode)||"")},error:N.touched.paycodeRef&&!!N.errors.paycodeRef})}),(0,r.jsx)(q.ZP,{item:!0,xs:12,children:(0,r.jsx)(P.Z,{endpointId:R.X.Expression.qry,name:"expressionId",label:s.expression,displayField:"name",valueField:"recordId",values:N.values,onChange:(e,t)=>{N.setFieldValue("expressionId",(null==t?void 0:t.recordId)||null)},maxAccess:o,error:N.touched.expressionId&&!!N.errors.expressionId})}),(0,r.jsx)(q.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{name:"isTaxable",value:null===(t=N.values)||void 0===t?void 0:t.isTaxable,onChange:e=>N.setFieldValue("isTaxable",e.target.checked),label:s.isTaxable,maxAccess:o})})]})})})})}var A=()=>{let{getRequest:e,postRequest:t}=(0,a.useContext)(d.$),{platformLabels:s}=(0,a.useContext)(u.l),{stack:q}=(0,m.zY)();async function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:r=50}=t;return await e({extension:E.y.EmployeeDeduction.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(r,"&_filter=")})}async function S(t){let{qry:s}=t;return await e({extension:E.y.EmployeeDeduction.snapshot,parameters:"_filter=".concat(s)})}let{query:{data:x},search:C,clear:P,labels:T,invalidate:f,refetch:I,paginationParameters:R,access:D}=(0,i.J)({queryFn:h,endpointId:E.y.EmployeeDeduction.page,datasetId:c.i.EntitlementDeduction,search:{searchFn:S}}),A=[{field:"reference",headerName:T.reference,flex:1},{field:"name",headerName:T.name,flex:1},{field:"typeName",headerName:T.type,flex:1}];function F(e){q({Component:v,props:{labels:T,recordId:e,maxAccess:D},width:700,height:500,title:T.entitlementDeduction})}let N=async e=>{await t({extension:E.y.EmployeeDeduction.del,record:JSON.stringify(e)}),f(),n.ZP.success(s.Deleted)};return(0,r.jsxs)(y.R,{children:[(0,r.jsx)(p.g,{children:(0,r.jsx)(o.Z,{onAdd:()=>{F()},maxAccess:D,onSearch:C,onSearchClear:P,labels:T,inputSearch:!0})}),(0,r.jsx)(g.Q,{children:(0,r.jsx)(l.Z,{name:"table",columns:A,gridData:x,rowId:["recordId"],onEdit:e=>{F(null==e?void 0:e.recordId)},onDelete:N,pageSize:50,refetch:I,paginationType:"api",paginationParameters:R,maxAccess:D})})]})}},92407:function(e,t,s){"use strict";s.d(t,{y:function(){return a}});let r="EP.asmx/",a={Employee:{snapshot:r+"snapshotEM",get1:r+"getEM1",set:r+"setEM",del:r+"delEM"},CertificateFilters:{qry:r+"qryCL",get:r+"getCL",set:r+"setCL",del:r+"delCL",page:r+"pageCL"},HRDocTypeFilters:{qry:r+"qryDT"},SalaryChangeReason:{qry:r+"qrySC",get:r+"getSC",set:r+"setSC",del:r+"delSC",page:r+"pageSC"},EmploymentStatusFilters:{qry:r+"qryST",page:r+"pageST",set:r+"setST",get:r+"getST",del:r+"delST"},SponsorFilters:{qry:r+"qrySP",page:r+"pageSP",set:r+"setSP",get:r+"getSP",del:r+"delSP"},RelationshipTypes:{page:r+"pageRT",set:r+"setRT",get:r+"getRT",del:r+"delRT"},BonusTypes:{get:r+"getBT",set:r+"setBT",page:r+"pageBT",del:r+"delBT"},BgCheck:{page:r+"pageCT",set:r+"setCT",get:r+"getCT",del:r+"delCT"},NoticePeriods:{get:r+"getNP",set:r+"setNP",del:r+"delNP",qry:r+"qryNP",page:r+"pageNP"},CustomProperties:{get:r+"getUP",set:r+"setUP",del:r+"delUP",page:r+"pageUP",qry:r+"qryUP"},ResignationRequest:{get:r+"getRR",set:r+"setRR",del:r+"delRR",page:r+"pageRR",close:r+"closeRR",reopen:r+"reopenRR"},TerminationReasons:{qry:r+"qryTR",get:r+"getTR",set:r+"setTR",del:r+"delTR",page:r+"pageTR"},JobInfo:{snapshot:r+"snapshotJI",page:r+"pageJI",close:r+"closeJI",reopen:r+"reopenJI",get:r+"getJI",set:r+"setJI",del:r+"delJI",qry:r+"qryJI"},QuickView:{get:r+"getQV"},EmployeePenalty:{page:r+"pagePE",close:r+"closePE",reopen:r+"reopenPE",get:r+"getPE",set:r+"setPE",del:r+"delPE"},EmployeeDeduction:{qry:r+"qryED",page:r+"pageED",del:r+"delED",get:r+"getED",set:r+"setED",snapshot:r+"snapshotED"},FullName:{sync:r+"syncFullName"},EmployeeChart:{page:r+"pageES",qry:r+"qryES",qry2:r+"qryES2"},EmployeeSalary:{qry:r+"qrySA",get:r+"getSA",set:r+"setSA",del:r+"delSA"},SalaryDetails:{qry:r+"qrySD",get:r+"getSD",set2:r+"set2SD",del:r+"delSD"},TerminationEmployee:{get:r+"getTE"},EmployementHistory:{qry:r+"qryEH",del:r+"delEH",get:r+"getEH",set:r+"setEH"},Hiring:{get:r+"getRE",set:r+"setRE"},Skills:{qry:r+"qryCE",del:r+"delCE",get:r+"getCE",set:r+"setCE"},UserDefined:{qry:r+"qryUV",set2:r+"set2UV"},Leaves:{set:r+"setLS",del:r+"delLS",get:r+"getLS"}}},26150:function(e,t,s){"use strict";s.d(t,{X:function(){return r}});let r={Expression:{qry:"ME.asmx/qryEX"}}},83562:function(e,t,s){"use strict";s.d(t,{m:function(){return a}});let r="PY.asmx/",a={Payroll:{qry:r+"qryHE",page:r+"pageHE",get:r+"getHE",set:r+"setHE",del:r+"delHE",close:r+"closeHE",reopen:r+"reopenHE",post:r+"postHE",unpost:r+"unpostHE",snapshot:r+"snapshotHE"},BankTransferFilters:{qry:r+"qrySB",page:r+"pageSB",get:r+"getSB",set:r+"setSB",del:r+"delSB"},Paycode:{qry:r+"qryPC",set:r+"setPC",del:r+"delPC",get:r+"getPC"},SecuritySchedule:{qry:r+"qrySS"},IndemnitySchedule:{page:r+"pageIS",qry:r+"qryIS",get:r+"getIS",set:r+"setIS",del:r+"delIS"},LedgerGroup:{qry:r+"qryGLG",get:r+"getGLG",set:r+"setGLG",del:r+"delGLG"},Arguments:{page:r+"pageAR"},SalaryBatch:{page:r+"pageBAT",get:r+"getBAT",set:r+"setBAT",del:r+"delBAT"},TimeCodes:{page:r+"pageTC",qry:r+"qryTC",get:r+"getTC",set:r+"setTC",del:r+"delTC"},FinalSettlement:{page:r+"pageFS",get:r+"getFS",set:r+"setFS",del:r+"delFS",snapshot:r+"snapshotFS"},IndemnityCompany:{qry:r+"qryID",set2:r+"set2ID"},IndemnityResignation:{qry:r+"qryIR",set2:r+"set2IR"},PenaltyType:{page:r+"pagePT",qry:r+"qryPT",get:r+"getPT",set:r+"setPT",del:r+"delPT"},PenaltyDetail:{qry:r+"qryPD",set2:r+"set2PD"},GeneratePayroll:{gen:r+"genEM",page:r+"pageEM"},PayrollDetails:{qry:r+"qryED",set2:r+"set2ED"},SocialSecurity:{qry:r+"qryES"},FiscalYear:{qry:r+"qryYE"},Period:{qry:r+"qryPE"}}},74898:function(e,t,s){"use strict";s.d(t,{N:function(){return r}});let r={Global:0,AccountGroup:10,Account:11,CashAccountGroup:20,CashAccount:21,ItemGroup:30,Item:31,ItemCategory:32,Site:33,ExpenseType:41,CostType:42,ProductionOverhead:51,TaxCode:12,PayrollGLGroup:61,PayrollEntitlementDeduction:62,AssetGroup:71,AssetClass:72}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=8173)}),_N_E=e.O()}]);