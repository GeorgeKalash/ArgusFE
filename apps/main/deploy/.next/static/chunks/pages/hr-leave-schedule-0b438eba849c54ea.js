(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13594],{99691:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr-leave-schedule",function(){return t(27748)}])},67205:function(e,a){"use strict";a.Z={src:"/_next/static/media/Aid-Kit.b30962f1.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEV1dXV2dnZ5eXl2dnZzc3N1dXV2dnZ1dXVzc3N9fX2KiorV8tDFAAAACXRSTlOQ+wWnKsrrhGqIbwz9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAM0lEQVR4nDXBtwEAIAwDMJcUzP8HMyFBKqAkqHq3S+gZe6YRZjcMyCMdEqSrTCK59k3wPSR+APkgH8vyAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},30930:function(e,a){"use strict";a.Z={src:"/_next/static/media/Birthday.95f53afc.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEV1dXV0dHR1dXVMaXF7e3t1dXV0dHRVVVV3d3eAgIDv9eaMAAAACXRSTlN9abgA/qhUAy3UKlN4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAANElEQVR4nBXFwREAIAgDwUsCIv037PjZJRP4JNM9CbkAN+RY8glhq5ZwkKSf3bZFb1XV9gMebwDaJpM7nwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},53898:function(e,a){"use strict";a.Z={src:"/_next/static/media/Calendar.85a412d9.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVaWlpaWlpbW1tMaXFaWlpaWlpaWlpaWlpbW1taWlpcXFxgYGBcXFxYWFjyMd79AAAADnRSTlN+bLMAjElYnT1Q3vkWK9a80qUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA3SURBVHicBcGJAcAgDAOxi50P6P7zVmKzNuIzb+7TxSgzczCc7q4y1Dk7UwgiaRERO/0J2y4pfi1JASJN006vAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},53285:function(e,a){"use strict";a.Z={src:"/_next/static/media/Engagement.a09e5ebb.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEV1dXVMaXF0dHR1dXV1dXV1dXV1dXV0dHR1dXVSJ7qXAAAACXRSTlN+ABKNoiteRm2XvBsSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVR4nAXBhwEAMAjDMGcA/f/iSnjfeNdwTuYAmZGA98g5kK7JcH3dInRNkZBm1tIHHpIAznzzWc0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},35102:function(e,a){"use strict";a.Z={src:"/_next/static/media/Graduation.32a2fdd8.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVMaXF3d3dycnJ0dHR0dHRzc3N1dXV1dXV0dHRzc3N1dXV1dXV2dnaxQHymAAAADXRSTlMA/BxxSF7B6aaPyKvYf3XJjgAAAAlwSFlzAAALEwAACxMBAJqcGAAAADBJREFUeJxFyrcRwDAQwDDyk+Sw/7yufEINOCIzgB7VaepZ+l4NOXvfFdDqqjr59wEW7wChDBq6UgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},58692:function(e,a){"use strict";a.Z={src:"/_next/static/media/Home.6e2d191a.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVtbW11dXV1dXV1dXV4eHh2dnZ3d3d2dnZzc3N3d3d0dHR3d3d8fHyWj9tMAAAADHRSTlMElXq72yc5yDXST03ihCrTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANElEQVR4nB3GyRHAMAwDsSVl2TnYf72Z6AUASH0BlBSNtu4xsYrHSeIXVqqy+LP3xKf7mA8gawEPGt+REAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},15266:function(e,a){"use strict";a.Z={src:"/_next/static/media/Injury.58946d38.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEV1dXV1dXV0dHR0dHR0dHR1dXV1dXV2dnZ5eXnTYlo7AAAACHRSTlO6rxGIbulQ0EmM9bsAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAySURBVHicHYtBDgAwCINo1a3/f/HiToQEqGCTIkkzN6xIA250hPFnG0aiNrlDJ1n5+wMeqADZUuFFAQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},18485:function(e,a){"use strict";a.Z={src:"/_next/static/media/Maternity.32d6b63b.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEWAgIB1dXVzc3N0dHR1dXV0dHR1dXV0dHR1dXV2dnZ9fX1XEYy5AAAACnRSTlMB+FVspIeyy9srhSbsuQAAAAlwSFlzAAALEwAACxMBAJqcGAAAADZJREFUeJwdykEOACEMw0AnaYHt/x+8gpOlkQGIfAOZMf7A0qJ30lX9XJp6Prr38lalIKdZxz8ZWADNa+Lm0wAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},23405:function(e,a){"use strict";a.Z={src:"/_next/static/media/Palm-Tree.7cb0c951.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVlZWV1dXV3d3d0dHR1dXVzc3N1dXV2dnZ1dXV+fn7SpEjpAAAACXRSTlMCnf1Pcx3lMLpVaprQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAM0lEQVR4nCXIyQ3AMAzEwL0kW/03bCjha0D4Bsg1ikMOC2lJ6oBx2yGAo8LXkX/U7N+4eByaAJ9yRxVdAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},4392:function(e,a){"use strict";a.Z={src:"/_next/static/media/Plane.128d183f.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEV6enp3d3d4eHh1dXV1dXV0dHR2dnZ2dnZ0dHR7e3sY0RCzAAAACnRSTlMB866Rb8CeFE8KBFJ2hAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC5JREFUeJxNirkRADAIgPDX/RfOaRUaKAAwYxkymUvVU6WIFrgcTvjOHt9DRzQ8EdAAhYVK3DwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},19621:function(e,a){"use strict";a.Z={src:"/_next/static/media/Sport.16b8acfb.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEVMaXF1dXV1dXV3d3d3d3dxcXFpaWl1dXV2dnZxcXGCgoKlvAEPAAAACnRSTlMAdlz46BMO8L4f2gPOnQAAAAlwSFlzAAALEwAACxMBAJqcGAAAADNJREFUeJwdisENACEMw5ykUGD/gU/Xly3ZoGc/AZzk/ORW3RE8AZSMrUi9gF127Vm6DR8WJQCWGAreOQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},27748:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return _}});var r=t(52322),l=t(2784),n=t(62202),i=t(69387),s=t(65950),d=t(71987),A=t(26612),c=t(31389),o=t(33625),u=t(62362),h=t(61802),m=t(19473),g=t(27723),x=t(50496),v=t(29326),p=t(9522),b=t(60218),y=t(48601),R=t(82737),C=t(5088),f=t(8661),Z=t(80983),V=t(84100);let I=[{key:"Aid-kit",value:"Aid-kit",icon:t(67205).Z.src},{key:"Birthday",value:"Birthday",icon:t(30930).Z.src},{key:"Calendar",value:"Calendar",icon:t(53898).Z.src},{key:"Graduation",value:"Graduation",icon:t(35102).Z.src},{key:"Engagement",value:"Engagement",icon:t(53285).Z.src},{key:"Home",value:"Home",icon:t(58692).Z.src},{key:"Injury",value:"Injury",icon:t(15266).Z.src},{key:"Maternity",value:"Maternity",icon:t(18485).Z.src},{key:"Palm-Tree",value:"Palm-Tree",icon:t(23405).Z.src},{key:"Plane",value:"Plane",icon:t(4392).Z.src},{key:"Sport",value:"Sport",icon:t(19621).Z.src}];function E(e){let{labels:a,maxAccess:t,store:i,setStore:o}=e,{recordId:h}=i,{platformLabels:g}=(0,l.useContext)(m.l),{getRequest:v,postRequest:p}=(0,l.useContext)(s.$),E=(0,d.E)({endpointId:x.U.LeaveScheduleFilters.page}),{formik:N}=(0,Z.c)({maxAccess:t,initialValues:{recordId:h,name:"",reference:"",ltId:null,firstAccrual:null,coDate:null,accrualActivation:null,dayType:null,iconName:""},validateOnChange:!0,validationSchema:y.Ry({name:y.Z_().required(),reference:y.Z_().required(),ltId:y.Rx().required(),firstAccrual:y.Rx().required(),coDate:y.Rx().required(),accrualActivation:y.Rx().required(),dayType:y.Rx().required()}),onSubmit:e=>{p({extension:x.U.LeaveScheduleFilters.set,record:JSON.stringify(e)}).then(a=>{N.setFieldValue("recordId",a.recordId),n.ZP.success(e.recordId?g.Edited:g.Added),o(e=>({...e,recordId:a.recordId,lsId:a.recordId})),E()})}}),w=!!N.values.recordId;return(0,l.useEffect)(()=>{!async function(){if(h){let e=(await v({extension:x.U.LeaveScheduleFilters.get,parameters:"_recordId=".concat(h)})).record,a=I.find(a=>a.key===e.iconName)||null;N.setValues({...e,icon:a,iconName:e.iconName||""})}}()},[h]),(0,r.jsx)(R.Z,{resourceId:A.i.LeaveSchedule,form:N,maxAccess:t,editMode:w,children:(0,r.jsx)(c.R,{children:(0,r.jsx)(u.Q,{children:(0,r.jsxs)(b.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(C.Z,{name:"reference",label:a.reference,value:N.values.reference,required:!0,maxAccess:t,maxLength:"10",onChange:N.handleChange,onClear:()=>N.setFieldValue("reference",""),error:N.touched.reference&&!!N.errors.reference})}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(C.Z,{name:"name",label:a.name,value:N.values.name,required:!0,maxAccess:t,maxLength:"30",onChange:N.handleChange,onClear:()=>N.setFieldValue("name",""),error:N.touched.name&&!!N.errors.name})}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{endpointId:x.U.IndemnityAccuralsFilters.qry,filter:e=>e.isPaid,name:"ltId",label:a.ltId,required:!0,valueField:"recordId",displayField:"name",values:N.values,readOnly:w,onChange:(e,a)=>{N.setFieldValue("ltId",(null==a?void 0:a.recordId)||null)},error:N.touched.ltId&&!!N.errors.ltId})}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{datasetId:V.v.FIRST_ACCRUAL,name:"firstAccrual",label:a.firstAccrual,values:N.values,valueField:"key",displayField:"value",required:!0,maxAccess:t,onChange:(e,a)=>{N.setFieldValue("firstAccrual",(null==a?void 0:a.key)||null)},error:N.touched.firstAccrual&&!!N.errors.firstAccrual})}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{datasetId:V.v.CARRY_OVER_DATE,name:"coDate",label:a.coDate,values:N.values,valueField:"key",displayField:"value",required:!0,maxAccess:t,onChange:(e,a)=>{N.setFieldValue("coDate",(null==a?void 0:a.key)||null)},error:N.touched.coDate&&!!N.errors.coDate})}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{datasetId:V.v.ACCRUAL_ACTIVATION,name:"accrualActivation",label:a.accrualActivation,values:N.values,valueField:"key",displayField:"value",required:!0,maxAccess:t,onChange:(e,a)=>{N.setFieldValue("accrualActivation",(null==a?void 0:a.key)||null)},error:N.touched.accrualActivation&&!!N.errors.accrualActivation})}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{datasetId:V.v.WORKING_DAYS,name:"dayType",label:a.dayType,values:N.values,valueField:"key",displayField:"value",required:!0,maxAccess:t,onChange:(e,a)=>{N.setFieldValue("dayType",(null==a?void 0:a.key)||null)},error:N.touched.dayType&&!!N.errors.dayType})}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{name:"icon",label:a.icon,valueField:"key",displayField:"value",values:N.values,onChange:(e,a)=>{N.setFieldValue("icon",a||null),N.setFieldValue("iconName",(null==a?void 0:a.key)||"")},options:I,maxAccess:t,error:N.touched.icon&&!!N.errors.icon})})]})})})})}var N=t(76385),w=t(91406),j=t(54074);function U(e){let{labels:a,maxAccess:t,recordId:i,seqNo:A,window:c}=e,{platformLabels:o}=(0,l.useContext)(m.l),{getRequest:u,postRequest:h}=(0,l.useContext)(s.$),g=(0,d.E)({endpointId:x.U.LeavePeriod.qry}),{formik:v}=(0,Z.c)({maxAccess:t,initialValues:{recordId:i,lsId:i,startAt:"",period:"",amount:null,accumulation:"",maxAmount:0,carryOver:null,carryOverMax:null,accrualActivation:null},validateOnChange:!0,validationSchema:y.Ry({startAt:y.Z_().required(),period:y.Z_().required(),amount:y.Rx().required(),accumulation:y.Rx().required(),carryOver:y.Rx().required(),accrualActivation:y.Rx().required(),carryOverMax:y.Rx().when("carryOver",{is:e=>1!=e,then:e=>e.required(),otherwise:e=>e.nullable()})}),onSubmit:async e=>{let a=e.seqNo;if(e.lsId||e.seqNo)a=e.seqNo;else{var t;let e=await u({extension:x.U.LeavePeriod.qry,parameters:"_lsId=".concat(i)});if(null===(t=e.list)||void 0===t?void 0:t.length){let t=e.list[e.list.length-1].seqNo;a=(t&&t>0?t:0)+1}else a=1}h({extension:x.U.LeavePeriod.set,record:JSON.stringify({...e,lsId:i,seqNo:a})}).then(t=>{v.setFieldValue("recordId",t.recordId),v.setFieldValue("seqNo",a),n.ZP.success(e.recordId?o.Edited:o.Added),g(),c.close()})}}),p=!!v.values.recordId;return(0,l.useEffect)(()=>{!async function(){var e,a,t;let r=await u({extension:x.U.LeavePeriod.qry,parameters:"_lsId=".concat(i)}),l=1;if(null===(e=r.list)||void 0===e?void 0:e.length){let e=r.list[r.list.length-1].seqNo;l=(e&&e>0?e:0)+1}if(i&&A){let e=await u({extension:x.U.LeavePeriod.get,parameters:"_lsId=".concat(i,"&_seqNo=").concat(A)});v.setValues({...e.record,lsId:i,seqNo:null!==(t=null==e?void 0:null===(a=e.record)||void 0===a?void 0:a.seqNo)&&void 0!==t?t:l})}else v.setFieldValue("seqNo",l)}()},[i]),(0,r.jsx)(j.Z,{onSave:v.handleSubmit,maxAccess:t,editMode:p,children:(0,r.jsxs)(b.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(N.Z,{variant:"body2",children:a.start})}),(0,r.jsxs)(b.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,r.jsx)(b.ZP,{item:!0,xs:3,children:(0,r.jsx)(w.Z,{name:"startAt",value:v.values.startAt,required:!0,maxLength:4,decimalScale:0,allowNegative:!1,maxAccess:t,onChange:v.handleChange,onClear:()=>v.setFieldValue("startAt",""),error:v.touched.startAt&&!!v.errors.startAt})}),(0,r.jsx)(b.ZP,{item:!0,xs:4,children:(0,r.jsx)(f.Z,{datasetId:V.v.ACCRUAL_PERIOD,name:"period",values:v.values,valueField:"key",displayField:"value",required:!0,maxAccess:t,onChange:(e,a)=>{v.setFieldValue("period",(null==a?void 0:a.key)||null)},error:v.touched.period&&!!v.errors.period})}),(0,r.jsx)(N.Z,{variant:"body2",pl:2,children:a.afterHireDate})]}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(N.Z,{variant:"body2",children:a.AccruedHours})}),(0,r.jsxs)(b.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,r.jsx)(b.ZP,{item:!0,xs:3,children:(0,r.jsx)(w.Z,{name:"amount",value:v.values.amount,required:!0,maxLength:10,decimalScale:5,allowNegative:!1,maxAccess:t,onChange:v.handleChange,onClear:()=>v.setFieldValue("amount",""),error:v.touched.amount&&!!v.errors.amount})}),(0,r.jsx)(b.ZP,{item:!0,xs:4,children:(0,r.jsx)(f.Z,{datasetId:V.v.ACCRUAL_ACCUMULATION,name:"accumulation",values:v.values,valueField:"key",displayField:"value",required:!0,maxAccess:t,onChange:(e,a)=>{v.setFieldValue("accumulation",(null==a?void 0:a.key)||null)},error:v.touched.accumulation&&!!v.errors.accumulation})})]}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(N.Z,{variant:"body2",children:a.MaxAccrualHours})}),(0,r.jsx)(b.ZP,{container:!0,spacing:2,alignItems:"center",children:(0,r.jsx)(b.ZP,{item:!0,xs:3,children:(0,r.jsx)(w.Z,{name:"maxAmount",value:v.values.maxAmount,required:!0,maxLength:4,decimalScale:0,allowNegative:!1,maxAccess:t,onChange:v.handleChange,onClear:()=>v.setFieldValue("maxAmount",""),error:v.touched.maxAmount&&!!v.errors.maxAmount})})}),(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(N.Z,{variant:"body2",children:a.CarryOver})}),(0,r.jsxs)(b.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,r.jsx)(b.ZP,{item:!0,xs:4,children:(0,r.jsx)(f.Z,{datasetId:V.v.ACCRUAL_CARRY_OVER,name:"carryOver",values:v.values,valueField:"key",displayField:"value",required:!0,maxAccess:t,onChange:(e,a)=>{v.setFieldValue("carryOverMax",null),v.setFieldValue("carryOver",(null==a?void 0:a.key)||null)},error:v.touched.carryOver&&!!v.errors.carryOver})}),(0,r.jsx)(b.ZP,{item:!0,xs:2}),(0,r.jsx)(b.ZP,{item:!0,xs:3,children:(0,r.jsx)(w.Z,{name:"carryOverMax",value:v.values.carryOverMax,maxAccess:t,maxLength:4,allowNegative:!1,decimalScale:0,readOnly:1==v.values.carryOver,onChange:v.handleChange,onClear:()=>v.setFieldValue("carryOverMax",""),error:v.touched.carryOverMax&&!!v.errors.carryOverMax})}),(0,r.jsx)(b.ZP,{item:!0,xs:3,children:(0,r.jsx)(N.Z,{variant:"body2",children:a.hoursPerYear})})]}),(0,r.jsxs)(b.ZP,{container:!0,spacing:2,alignItems:"center",paddingTop:2,children:[(0,r.jsx)(b.ZP,{item:!0,xs:3,children:(0,r.jsx)(N.Z,{variant:"body2",children:a.accrualActivation})}),(0,r.jsx)(b.ZP,{item:!0,xs:6,children:(0,r.jsx)(f.Z,{datasetId:V.v.ACCRUAL_ACTIVATION,name:"accrualActivation",values:v.values,valueField:"key",displayField:"value",required:!0,maxAccess:t,onChange:(e,a)=>{v.setFieldValue("accrualActivation",(null==a?void 0:a.key)||null)},error:v.touched.accrualActivation&&!!v.errors.accrualActivation})})]})]})})}var L=e=>{let{store:a,labels:t,maxAccess:n,window:m}=e,{getRequest:v,postRequest:p}=(0,l.useContext)(s.$),{recordId:b}=a,{stack:y}=(0,h.zY)();async function R(){return await v({extension:x.U.LeavePeriod.qry,parameters:"&_lsId=".concat(b)})}let{query:{data:C},invalidate:f}=(0,d.J)({enabled:!!b,datasetId:A.i.LeaveSchedule,queryFn:R,endpointId:x.U.LeavePeriod.qry}),Z=[{field:"startAt",headerName:t.startAt,flex:1},{field:"activationName",headerName:t.activationName,flex:1},{field:"periodName",headerName:t.period,flex:1},{field:"amount",headerName:t.amount,flex:1,type:"number"},{field:"accumulationName",headerName:t.accumulation,flex:1},{field:"maxAmount",headerName:t.maxAmount,flex:1,type:"number"},{field:"carryOverName",headerName:t.carryOverName,flex:1},{field:"carryOverMax",headerName:t.carryOverMax,flex:1}];function V(e){y({Component:U,props:{labels:t,recordId:b,seqNo:null==e?void 0:e.seqNo,maxAccess:n,window:m},width:500,height:500,title:t.period})}let I=async e=>{await p({extension:x.U.LeavePeriod.del,record:JSON.stringify(e)}),f(),toast.success(platformLabels.Deleted)};return(0,r.jsxs)(c.R,{children:[(0,r.jsx)(o.g,{children:(0,r.jsx)(g.Z,{onAdd:()=>{V()},maxAccess:n})}),(0,r.jsx)(u.Q,{children:(0,r.jsx)(i.Z,{name:"periods",columns:Z,gridData:C,rowId:["recordId"],pageSize:50,onEdit:e=>{V(e)},onDelete:I,pagination:!1,maxAccess:n})})]})};function S(e){let{labels:a,maxAccess:t,recordId:n}=e,[i,s]=(0,l.useState)(0),[d,A]=(0,l.useState)({recordId:n||null}),c=[{label:a.LeaveSchedule},{label:a.Periods,disabled:!d.recordId}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Y,{tabs:c,activeTab:i,setActiveTab:s,maxAccess:t}),(0,r.jsx)(v.Z,{index:0,value:i,maxAccess:t,children:(0,r.jsx)(E,{labels:a,maxAccess:t,setStore:A,store:d})}),(0,r.jsx)(v.Z,{index:1,value:i,maxAccess:t,children:(0,r.jsx)(L,{labels:a,maxAccess:t,store:d})})]})}var _=()=>{let{getRequest:e,postRequest:a}=(0,l.useContext)(s.$),{platformLabels:t}=(0,l.useContext)(m.l),{stack:v}=(0,h.zY)();async function p(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:r=50}=a;return{...await e({extension:x.U.LeaveScheduleFilters.page,parameters:"_startAt=".concat(t,"&_pageSize=").concat(r,"&_filter=")}),_startAt:t}}let{query:{data:b},refetch:y,labels:R,access:C,paginationParameters:f,invalidate:Z}=(0,d.J)({queryFn:p,endpointId:x.U.LeaveScheduleFilters.page,datasetId:A.i.LeaveSchedule}),V=[{field:"reference",headerName:R.reference,flex:1},{field:"name",headerName:R.name,flex:1}];function I(e){v({Component:S,props:{labels:R,recordId:null==e?void 0:e.recordId,maxAccess:C},width:800,height:500,title:R.LeaveSchedule})}let E=async e=>{await a({extension:x.U.LeaveScheduleFilters.del,record:JSON.stringify(e)}),n.ZP.success(t.Deleted),Z()};return(0,r.jsxs)(c.R,{children:[(0,r.jsx)(o.g,{children:(0,r.jsx)(g.Z,{onAdd:()=>{I()},maxAccess:C})}),(0,r.jsx)(u.Q,{children:(0,r.jsx)(i.Z,{name:"table",columns:V,gridData:b,rowId:["recordId"],onEdit:e=>{I(e)},onDelete:E,pageSize:50,paginationType:"api",paginationParameters:f,refetch:y,maxAccess:C})})]})}},50496:function(e,a,t){"use strict";t.d(a,{U:function(){return l}});let r="LM.asmx/",l={IndemnityAccuralsFilters:{qry:r+"qryLT"},LeaveScheduleFilters:{qry:r+"qryLS",page:r+"pageLS",set:r+"setLS",get:r+"getLS",del:r+"delLS"},OpeningBalances:{page:r+"pageOBA",set:r+"setOBA",get:r+"getOBA",del:r+"delOBA",qry:r+"qryOBA"},BalanceAdjustment:{page:r+"pageBA",set:r+"setBA",get:r+"getBA",del:r+"delBA",snapshot:r+"snapshotBA"},EarnedLeave:{page:r+"pageEL",set2:r+"set2EL",get2:r+"get2EL",del:r+"delEL",preview:r+"previewEL",post:r+"postEL"},LeavePeriod:{qry:r+"qryLP",del:r+"delLP",get:r+"getLP",set:r+"setLP"},LeaveRequest:{page:r+"pageLR",qry:r+"qryLR",set:r+"setLR",get:r+"getLR",del:r+"delLR",snapshot:r+"snapshotLR",close:r+"closeLR",reopen:r+"reopenLR",set2:r+"set2LR",get2:r+"get2LR"},LeaveReturn:{page:r+"pageRE",set:r+"setRE",get:r+"getRE",del:r+"delRE",snapshot:r+"snapshotRE",close:r+"closeRE",reopen:r+"reopenRE"},PreviewDays:{preview:r+"previewLD"},Leaves:{qry:r+"qryELB"}}},29326:function(e,a,t){"use strict";var r=t(52322);t(2784);var l=t(23925),n=t(13980),i=t.n(n),s=t(95291),d=t.n(s),A=t(65947);let c=e=>{var a,t,n;let{children:i,value:s,index:c,maxAccess:o,...u}=e,h="".concat(e.name||"tab",".").concat(c),{accessLevel:m}=null!==(n=(null!==(t=null==o?void 0:null===(a=o.record)||void 0===a?void 0:a.controls)&&void 0!==t?t:[]).find(e=>e.controlId===h))&&void 0!==n?n:{accessLevel:0};if(m===A.A1)return null;let g=s===c;return(0,r.jsx)(l.Z,{role:"tabpanel",hidden:!g,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c),className:"".concat(d().tabPanel," ").concat(g?d().active:d().hidden),...u,children:i})};c.propTypes={children:i().node,index:i().number.isRequired,value:i().number.isRequired},a.Z=c},9522:function(e,a,t){"use strict";t.d(a,{Y:function(){return u}});var r=t(52322),l=t(23925),n=t(54582),i=t(68696),s=t(44258),d=t(2784),A=t(99266),c=t(52614),o=t.n(c);let u=e=>{var a,t,c,u,h;let{tabs:m,activeTab:g,setActiveTab:x,maxAccess:v,name:p="tab"}=e,b=(null==v?void 0:null===(t=v.record)||void 0===t?void 0:null===(a=t.controls)||void 0===a?void 0:a.filter(e=>{var a;return 4===e.accessLevel&&(null===(a=e.controlId)||void 0===a?void 0:a.startsWith("".concat(p,".")))}).map(e=>e.controlId.split(".")[1]))||[],y=null==m?void 0:null===(c=m.map((e,a)=>({...e,id:a})))||void 0===c?void 0:c.filter((e,a)=>!b.includes(String(a))),R=null===(u=y[g])||void 0===u?void 0:u.id,C=null===(h=y[g])||void 0===h?void 0:h.disabled;return(0,d.useEffect)(()=>{R>=0&&!C&&g!=R&&x(R)},[]),(0,r.jsx)(l.Z,{className:o().tabsContainer,children:(0,r.jsx)(l.Z,{className:o().tabsWrapper,children:(0,r.jsx)(n.Z,{value:g,onChange:(e,a)=>x(a),variant:"scrollable",scrollButtons:y.length>3?"auto":"off","aria-label":"scrollable tabs",classes:{indicator:o().tabsIndicator},className:o().tabs,children:null==y?void 0:y.map(e=>(0,r.jsx)(i.Z,{value:e.id,disabled:null==e?void 0:e.disabled,className:"".concat(o().tabName," ").concat(e.disabled?o().tabDisabled:""),classes:{root:o().tabRoot,selected:o().selectedTab},label:(0,r.jsxs)(l.Z,{display:"flex",alignItems:"center",children:[(0,r.jsx)("span",{children:e.label}),e.id===g&&(null==e?void 0:e.onRefetch)&&(0,r.jsx)(s.Z,{size:"small",className:o().refreshButton,onClick:a=>{a.stopPropagation(),e.onRefetch()},children:(0,r.jsx)(A.Z,{className:o().refreshIcon})})]})},e.id))})})})}},95291:function(e){e.exports={tabPanel:"CustomTabPanel_tabPanel__80Dfu",active:"CustomTabPanel_active___6Uvb",hidden:"CustomTabPanel_hidden__y9566"}},52614:function(e){e.exports={customTabPanel:"CustomTabs_customTabPanel__Ztocv",hidden:"CustomTabs_hidden__lZpM7",tabsContainer:"CustomTabs_tabsContainer__28Syi",tabsWrapper:"CustomTabs_tabsWrapper__mlxxj",tabs:"CustomTabs_tabs__25pli",tabName:"CustomTabs_tabName__XzMCn",tabRoot:"CustomTabs_tabRoot__WVR1E",tabDisabled:"CustomTabs_tabDisabled__VauYR",selectedTab:"CustomTabs_selectedTab__sZzwF",tabsIndicator:"CustomTabs_tabsIndicator__89Lek",refreshButton:"CustomTabs_refreshButton__P2mzl",refreshIcon:"CustomTabs_refreshIcon__ADVWF"}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=99691)}),_N_E=e.O()}]);