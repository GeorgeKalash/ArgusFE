(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44079],{67885:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr-emp-settings",function(){return r(7195)}])},7195:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var l=r(52322),s=r(60218),a=r(2784),n=r(8661),o=r(50023),d=r(65950),i=r(38449),p=r(26612),m=r(62202),u=r(80983),c=r(31389),g=r(27423),y=r(19473),f=r(92407),E=r(91406),S=r(48601),R=r(84100),C=r(54074),h=()=>{let{getRequest:e,postRequest:t}=(0,a.useContext)(d.$),{platformLabels:r}=(0,a.useContext)(y.l),{labels:h,access:v}=(0,o.Z)({datasetId:p.i.EmpSettings});(0,a.useEffect)(()=>{!async function(){let t=await e({extension:i.r.Defaults.qry,parameters:"_filter="}),r=["nameFormat","passportCombo","idCombo","retirementAge","employeeRefSize","lvEdId","ep_nraId"],l={};for(let{key:n,value:o}of t.list)if(r.includes(n)&&(l[n]=o?parseInt(o):null,"ep_nraId"===n&&parseInt(o))){var s,a;let t=await e({extension:i.r.NumberRange.get,parameters:"_recordId=".concat(parseInt(o))});l.ep_nraRef=(null===(s=t.record)||void 0===s?void 0:s.reference)||null,l.ep_nraDes=(null===(a=t.record)||void 0===a?void 0:a.description)||""}x.setValues({...l,firstNameFormat:null==l?void 0:l.nameFormat})}()},[]);let{formik:x}=(0,u.c)({maxAccess:v,validateOnChange:!0,initialValues:{nameFormat:null,passportCombo:null,idCombo:null,retirementAge:null,employeeRefSize:null,lvEdId:null,ep_nraId:null,ep_nraRef:"",ep_nraDes:"",firstNameFormat:""},validationSchema:S.Ry().shape({retirementAge:S.Rx().max(100).nullable().transform((e,t)=>""===t||null==t?null:e),employeeRefSize:S.Rx().required().min(0).notOneOf([1,2]).max(10)}),onSubmit:async e=>{let l=Object.entries(e).filter(e=>{let[t]=e;return!["ep_nraRef","ep_nraDes","firstNameFormat"].includes(t)}).map(e=>{let[t,r]=e;return{key:t,value:r}});await t({extension:i.r.Defaults.set,record:JSON.stringify({sysDefaults:l})}),e.nameFormat!==e.firstNameFormat&&await t({extension:f.y.FullName.sync,record:JSON.stringify({recordId:1})}),x.setFieldValue("firstNameFormat",e.nameFormat),m.ZP.success(r.Edited)}});return(0,l.jsx)(C.Z,{onSave:x.handleSubmit,maxAccess:v,children:(0,l.jsx)(c.R,{children:(0,l.jsxs)(s.ZP,{container:!0,spacing:2,xs:5,children:[(0,l.jsx)(s.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{datasetId:R.v.FULL_NAME,name:"nameFormat",label:h.nameFormat,valueField:"key",displayField:"value",values:x.values,maxAccess:v,onChange:(e,t)=>{x.setFieldValue("nameFormat",(null==t?void 0:t.key)||null)},error:x.touched.nameFormat&&!!x.errors.nameFormat})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{endpointId:f.y.HRDocTypeFilters.qry,name:"passportCombo",label:h.passportCombo,valueField:"recordId",displayField:"name",values:x.values,maxAccess:v,onChange:(e,t)=>{x.setFieldValue("passportCombo",(null==t?void 0:t.recordId)||null)},error:x.touched.passportCombo&&!!x.errors.passportCombo})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{endpointId:f.y.HRDocTypeFilters.qry,name:"idCombo",label:h.idDocType,valueField:"recordId",displayField:"name",values:x.values,maxAccess:v,onChange:(e,t)=>{x.setFieldValue("idCombo",(null==t?void 0:t.recordId)||null)},error:x.touched.idCombo&&!!x.errors.idCombo})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,children:(0,l.jsx)(E.Z,{name:"retirementAge",label:h.retirementAge,value:x.values.retirementAge,maxAccess:v,max:"100",onChange:x.handleChange,onClear:()=>x.setFieldValue("retirementAge",""),error:x.touched.retirementAge&&!!x.errors.retirementAge})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,children:(0,l.jsx)(E.Z,{name:"employeeRefSize",label:h.employeeRefSize,value:x.values.employeeRefSize,maxAccess:v,required:!0,onChange:x.handleChange,onClear:()=>x.setFieldValue("employeeRefSize",""),error:x.touched.employeeRefSize&&!!x.errors.employeeRefSize})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{endpointId:f.y.EmployeeDeduction.qry,name:"lvEdId",label:h.lvEdId,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],values:x.values,maxAccess:v,onChange:(e,t)=>{x.setFieldValue("lvEdId",(null==t?void 0:t.recordId)||null)},error:x.touched.lvEdId&&!!x.errors.lvEdId})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,children:(0,l.jsx)(g.U,{endpointId:i.r.NumberRange.snapshot,name:"ep_nraId",label:h.empNumberRange,valueField:"reference",displayField:"description",valueShow:"ep_nraRef",secondValueShow:"ep_nraDes",form:x,columnsInDropDown:[{key:"reference",value:"SKU"},{key:"description",value:"Description"}],onChange:(e,t)=>{x.setFieldValue("ep_nraId",(null==t?void 0:t.recordId)||null),x.setFieldValue("ep_nraDes",(null==t?void 0:t.description)||""),x.setFieldValue("ep_nraRef",(null==t?void 0:t.reference)||"")},displayFieldWidth:2,maxAccess:v})})]})})})}},92407:function(e,t,r){"use strict";r.d(t,{y:function(){return s}});let l="EP.asmx/",s={Employee:{snapshot:l+"snapshotEM",get1:l+"getEM1",set:l+"setEM",del:l+"delEM"},CertificateFilters:{qry:l+"qryCL",get:l+"getCL",set:l+"setCL",del:l+"delCL",page:l+"pageCL"},HRDocTypeFilters:{qry:l+"qryDT"},SalaryChangeReason:{qry:l+"qrySC",get:l+"getSC",set:l+"setSC",del:l+"delSC",page:l+"pageSC"},EmploymentStatusFilters:{qry:l+"qryST",page:l+"pageST",set:l+"setST",get:l+"getST",del:l+"delST"},SponsorFilters:{qry:l+"qrySP",page:l+"pageSP",set:l+"setSP",get:l+"getSP",del:l+"delSP"},RelationshipTypes:{page:l+"pageRT",set:l+"setRT",get:l+"getRT",del:l+"delRT"},BonusTypes:{get:l+"getBT",set:l+"setBT",page:l+"pageBT",del:l+"delBT"},BgCheck:{page:l+"pageCT",set:l+"setCT",get:l+"getCT",del:l+"delCT"},NoticePeriods:{get:l+"getNP",set:l+"setNP",del:l+"delNP",qry:l+"qryNP",page:l+"pageNP"},CustomProperties:{get:l+"getUP",set:l+"setUP",del:l+"delUP",page:l+"pageUP",qry:l+"qryUP"},ResignationRequest:{get:l+"getRR",set:l+"setRR",del:l+"delRR",page:l+"pageRR",close:l+"closeRR",reopen:l+"reopenRR"},TerminationReasons:{qry:l+"qryTR",get:l+"getTR",set:l+"setTR",del:l+"delTR",page:l+"pageTR"},JobInfo:{snapshot:l+"snapshotJI",page:l+"pageJI",close:l+"closeJI",reopen:l+"reopenJI",get:l+"getJI",set:l+"setJI",del:l+"delJI",qry:l+"qryJI"},QuickView:{get:l+"getQV"},EmployeePenalty:{page:l+"pagePE",close:l+"closePE",reopen:l+"reopenPE",get:l+"getPE",set:l+"setPE",del:l+"delPE"},EmployeeDeduction:{qry:l+"qryED",page:l+"pageED",del:l+"delED",get:l+"getED",set:l+"setED",snapshot:l+"snapshotED"},FullName:{sync:l+"syncFullName"},EmployeeChart:{page:l+"pageES",qry:l+"qryES",qry2:l+"qryES2"},EmployeeSalary:{qry:l+"qrySA",get:l+"getSA",set:l+"setSA",del:l+"delSA"},SalaryDetails:{qry:l+"qrySD",get:l+"getSD",set2:l+"set2SD",del:l+"delSD"},TerminationEmployee:{get:l+"getTE"},EmployementHistory:{qry:l+"qryEH",del:l+"delEH",get:l+"getEH",set:l+"setEH"},Hiring:{get:l+"getRE",set:l+"setRE"},Skills:{qry:l+"qryCE",del:l+"delCE",get:l+"getCE",set:l+"setCE"},UserDefined:{qry:l+"qryUV",set2:l+"set2UV"},Leaves:{set:l+"setLS",del:l+"delLS",get:l+"getLS"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=67885)}),_N_E=e.O()}]);