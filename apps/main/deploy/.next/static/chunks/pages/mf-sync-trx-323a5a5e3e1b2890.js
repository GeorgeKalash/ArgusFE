(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51320],{47272:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mf-sync-trx",function(){return s(22232)}])},22232:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var n=s(52322),r=s(2784),a=s(61802),o=s(26612),l=s(60218),p=s(48601),d=s(62202),i=s(65950),g=s(31389),c=s(62362),y=s(80983),u=s(89330),h=s(19473),q=s(84309),S=s(39812),D=s(90587),M=s(54074);function C(e){var t,s;let{_labels:o,access:C}=e,{postRequest:T}=(0,r.useContext)(i.$),{platformLabels:O}=(0,r.useContext)(h.l),{stack:R}=(0,a.zY)(),{formik:m}=(0,y.c)({initialValues:{startDate:null,endDate:null},maxAccess:C,validateOnChange:!0,validationSchema:p.Ry({startDate:p.hT().required().test(function(e){let{endDate:t}=this.parent;return null===t||e.getTime()<=(null==t?void 0:t.getTime())}),endDate:p.hT().required().test(function(e){let{startDate:t}=this.parent;return null===t||e.getTime()>=(null==t?void 0:t.getTime())})}),onSubmit:async e=>{let t=await T({extension:D.u.MFJobOrder.sync,record:JSON.stringify({...e,startDate:(0,S.OZ)(new Date(e.startDate)),endDate:(0,S.OZ)(new Date(e.endDate))})});R({Component:q.R,props:{recordId:t.recordId},closable:!1}),d.ZP.success(O.Added),m.setValues(e),invalidate()}});return(0,n.jsx)(M.Z,{onSave:m.handleSubmit,actions:[{key:"Rebuild",condition:!0,onClick:()=>m.handleSubmit(),disabled:!1}],maxAccess:C,isSaved:!1,editMode:!0,children:(0,n.jsx)(g.R,{children:(0,n.jsx)(c.Q,{children:(0,n.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(l.ZP,{item:!0,xs:12,children:(0,n.jsx)(u.Z,{name:"startDate",label:o.startDate,max:m.values.endDate,value:null===(t=m.values)||void 0===t?void 0:t.startDate,required:!0,maxAccess:C,onChange:m.setFieldValue,onClear:()=>m.setFieldValue("startDate",null),error:m.touched.startDate&&!!m.errors.startDate})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,children:(0,n.jsx)(u.Z,{name:"endDate",label:o.endDate,value:null===(s=m.values)||void 0===s?void 0:s.endDate,min:m.values.startDate,required:!0,onChange:m.setFieldValue,maxAccess:C,onClear:()=>m.setFieldValue("endDate",null),error:m.touched.endDate&&!!m.errors.endDate})})]})})})})}var T=()=>(0,n.jsx)(a.ut,{datasetId:o.i.SyncMFTrx,labelKey:"syncJobOrders",Component:C})},90587:function(e,t,s){"use strict";s.d(t,{u:function(){return r}});let n="MF.asmx/",r={DesignRawMaterial:{qry2:n+"qryDRM2",qry:n+"qryDRM",set2:n+"set2DRM"},JobOrdersItem:{qry:n+"qryJIT",set2:n+"set2JIT"},IssueOfMaterialsItems:{qry:n+"qryIMI",qry2:n+"qryIMI2"},LaborGroup:{snapshot:n+"snapshotLBG",page:n+"pageLBG",qry:n+"qryLBG",set:n+"setLBG",get:n+"getLBG",del:n+"delLBG"},ProductionLine:{page:n+"pageLIN",qry:n+"qryLIN",qry2:n+"qry2LIN",qry3:n+"qry3LIN",set:n+"setLIN",get:n+"getLIN",del:n+"delLIN"},CostGroup:{page:n+"pageCG",set:n+"setCG",get:n+"getCG",del:n+"delCG",qry:n+"qryCG"},WorkCenter:{page:n+"pageWCT",qry:n+"qryWCT",qry3:n+"qryWCT3",set:n+"setWCT",get:n+"getWCT",del:n+"delWCT",snapshot:n+"snapshotWCT"},Routing:{page:n+"pageRTN",qry:n+"qryRTN",set:n+"setRTN",get:n+"getRTN",del:n+"delRTN",snapshot2:n+"snapshot2RTN",snapshot:n+"snapshotRTN"},Operation:{snapshot:n+"snapshotOPR",qry:n+"qryOPR",page:n+"pageOPR",set:n+"setOPR",get:n+"getOPR",del:n+"delOPR"},Labor:{page:n+"pageLBR",qry:n+"qryLBR",qry2:n+"qry2LBR",set:n+"setLBR",get:n+"getLBR",del:n+"delLBR",snapshot:n+"snapshotLBR"},Machine:{page:n+"pageMAC",qry:n+"qryMAC",set:n+"setMAC",get:n+"getMAC",del:n+"delMAC",snapshot:n+"snapshotMAC"},MachineSpecification:{page:n+"pageMAS",qry:n+"qryMAS",set:n+"setMAS",get:n+"getMAS",del:n+"delMAS"},LeanProductionPlanning:{preview:n+"previewPQ",update:n+"updatePQ",snapshot:n+"snapshotPQ",del:n+"delPQ",cancel:n+"cancelPQ"},MaterialsAdjustment:{generate:n+"generateADJ"},ProductionClass:{page:n+"pageCLS",qry:n+"qryCLS",set:n+"setCLS",get:n+"getCLS",del:n+"delCLS",snapshot:n+"qryCLS"},ProductionStandard:{qry:n+"qrySTD",page:n+"pageSTD",set:n+"setSTD",get:n+"getSTD",del:n+"delSTD"},ProductionClassSemiFinished:{qry:n+"qryCSF",set:n+"setCSF",get:n+"getCSF",del:n+"delCSF",set2:n+"set2CSF"},RoutingSequence:{set2:n+"set2RTS",qry:n+"qryRTS"},Overhead:{qry:n+"qryOVH",set:n+"setOVH",get:n+"getOVH",del:n+"delOVH",page:n+"pageOVH",snapshot:n+"snapshotOVH"},Design:{qry:n+"qryDES",set:n+"setDES",get:n+"getDES",del:n+"delDES",snapshot:n+"snapshotDES",page:n+"pageDES"},MFJobOrder:{pack:n+"packJOB",qry:n+"qryJOB",qry2:n+"qryJOB2",set:n+"setJOB",get:n+"getJOB",get2:n+"get2JOB",del:n+"delJOB",snapshot:n+"snapshotJOB",snapshot2:n+"snapshotJOB2",snapshot3:n+"snapshotJOB3",cancel:n+"cancelJOB",post:n+"postJOB",start:n+"startJOB",stop:n+"stopJOB",wip:n+"wipJOB",sync:n+"syncJOB"},ProductionSheet:{page:n+"pagePST",qry:n+"qryPST",get:n+"getPST",set2:n+"set2PST",get2:n+"get2PST",del:n+"delPST",post:n+"postPST",unpost:n+"unpostPST",snapshot:n+"snapshotPST"},ProductionSheetItem:{qry:n+"qryPSI",set:n+"setPSI",get:n+"getPSI",del:n+"delPSI"},DocumentTypeDefault:{qry:n+"qryDTD",get:n+"getDTD",set:n+"setDTD",del:n+"delDTD",page:n+"pageDTD"},RawMaterialCategory:{qry:n+"qryRMC",get:n+"getRMC",set:n+"setRMC",del:n+"delRMC",page:n+"pageRMC"},WorksheetMaterials:{qry:n+"qryIMA",get:n+"getIMA",pack:n+"get2IMA",set:n+"setIMA",set2:n+"set2IMA",del:n+"delIMA",post:n+"postIMA"},ProductionSheetQueue:{qry:n+"qryPSQ"},Damage:{qry:n+"qryDMG",get:n+"getDMG",set:n+"setDMG",del:n+"delDMG",page:n+"pageDMG",snapshot:n+"snapshotDMG",post:n+"postDMG",get2:n+"get2DMG",set2:n+"set2DMG",preview:n+"previewDMG"},JobCategory:{qry:n+"qryJCA"},JobRouting:{qry:n+"qryJRO",get:n+"getJRO",set:n+"setJRO",set2:n+"set2JRO",del:n+"delJRO",sync:n+"syncJRO",close:n+"closeJRO",reopen:n+"reopenJRO"},Worksheet:{snapshot:n+"snapshotWST",get:n+"getWST",pack:n+"getPackWST",set:n+"setWST",del:n+"delWST",page:n+"pageWST",summary:n+"summaryWST",post:n+"postWST",qry2:n+"qryWST2",draft:n+"draftWST"},JobOverhead:{qry:n+"qryJOH",set2:n+"set2JOH",generate:n+"generateJOH"},JobMaterial:{qry:n+"qryJMA"},JobItemSize:{qry:n+"qryJSZ",set2:n+"set2JSZ"},MFSerial:{qry:n+"qrySRL",qry2:n+"qrySRL2",set2:n+"set2SRL",generate:n+"generateSRL"},SamplePack:{qry:n+"qrySPL",set2:n+"set2SPL"},DamageReturn:{get:n+"getDMR",set:n+"setDMR",del:n+"delDMR",page:n+"pageDMR",snapshot:n+"snapshotDMR",post:n+"postDMR"},ProductionOrder:{get2:n+"get2PO",set2:n+"set2PO",del:n+"delPO",page:n+"pagePO",snapshot:n+"snapshotPO",post:n+"postPO",gen:n+"genPO",close:n+"closePO"},BillOfMaterials:{get:n+"getBMA",qry2:n+"qry2BMA",set:n+"setBMA",del:n+"delBMA",page:n+"pageBMA",snapshot:n+"snapshotBMA"},Component:{get:n+"getBMI",qry:n+"qryBMI",del:n+"delBMI",set:n+"setBMI",set2:n+"set2BMI"},Assembly:{get:n+"getASM",set2:n+"set2ASM",del:n+"delASM",page:n+"pageASM",snapshot:n+"snapshotASM",post:n+"postASM",unpost:n+"unpostASM",generate:n+"genASM"},AssemblyItems:{qry:n+"qryASC"},AssemblyLot:{get:n+"getASL",set:n+"setASL"},AssemblyOverhead:{qry:n+"qryAOH",set2:n+"set2AOH"},MeasurementScheduleMap:{qry:n+"qryMSM",set:n+"setMSM",set2:n+"set2MSM",del:n+"delMSM"},JobCategory:{set:n+"setJCA",get:n+"getJCA",del:n+"delJCA",page:n+"pageJCA",qry:n+"qryJCA"},DesignGroup:{qry:n+"qryDEG",set:n+"setDEG",get:n+"getDEG",del:n+"delDEG",page:n+"pageDEG"},Components:{qry:n+"qryDEM",set2:n+"set2DEM"},DesignFamily:{qry:n+"qryDEF",set:n+"setDEF",get:n+"getDEF",del:n+"delDEF",page:n+"pageDEF"},ProductionShifts:{qry:n+"qrySHI",set:n+"setSHI",get:n+"getSHI",del:n+"delSHI",page:n+"pageSHI"},JobOrderWizard:{set2:n+"set2JOZ",get2:n+"get2JOZ",del:n+"delJOZ",page:n+"pageJOZ",snapshot:n+"snapshotJOZ",post:n+"postJOZ"},JobTransfer:{get2:n+"get2TFR",set2:n+"set2TFR",del:n+"delTFR",page:n+"pageTFR",snapshot:n+"snapshotTFR",post:n+"postTFR",close:n+"closeTFR",reopen:n+"reopenTFR",qry:n+"qryTFR"},JobWorkCenter:{qry:n+"qryJWC",close:n+"closeJWC",reopen:n+"reopenJWC",get:n+"getJWC",snapshot:n+"snapshotJWC",verify:n+"verifyJWC"},WorkCenterConsumption:{page:n+"pageCON",snapshot:n+"snapshotCON",del:n+"delCON",set2:n+"set2CON",get:n+"getCON",post:n+"postCON",unpost:n+"unpostCON",close:n+"closeCON",reopen:n+"reopenCON"},ConsumptionItemView:{qry:n+"qryCOI"},LineItemCapacity:{set2:n+"set2LIT",del:n+"delLIT",qry:n+"qryLIT",page:n+"pageLIT"},CostGroupOverhead:{set2:n+"set2CGV",qry:n+"qryCGV"},IssueOfMaterialDimension:{set:n+"setIMD",qry:n+"qryIMD"},JobOrder:{gen:n+"genORD"},RefreshPoItem:{refresh:n+"refreshPOI"},WorkCenterTransferMap:{qry:n+"qryWCTM",set2:n+"set2WCTM"},BatchWorksheet:{get2:n+"get2BWST",set2:n+"set2BWST",del:n+"delBWST",page:n+"pageBWST",snapshot:n+"snapshotBWST",post:n+"postBWST",gen:n+"genBWST",close:n+"closeBWST",reopen:n+"reopenBWST"},ProductionOrderFromSaleOrder:{gen:n+"generatePOFromSO"},BatchTransfer:{page:n+"pageBTFR",set2:n+"set2BTFR",del:n+"delBTFR",snapshot:n+"snapshotBTFR",get:n+"getBTFR",post:n+"postBTFR",unpost:n+"unpostBTFR"},BatchTransferJob:{qry:n+"qryBTFJ"},Disposal:{page:n+"pageDIS",snapshot:n+"snapshotDIS",get:n+"getDIS",set2:n+"set2DIS",del:n+"delDIS"},DisposalItem:{qry:n+"qryDII"},DisposalSerial:{qry:n+"qryDISRL"},MetalSetting:{page:n+"pageMTS",set:n+"setMTS",get:n+"getMTS",del:n+"delMTS"},DamageReason:{qry:n+"qryDRS",page:n+"pageDRS",set:n+"setDRS",get:n+"getDRS",del:n+"delDRS",snapshot:n+"snapshotDRS"},DamageCategory:{qry:n+"qryDCA",page:n+"pageDCA",set:n+"setDCA",get:n+"getDCA",del:n+"delDCA",snapshot:n+"snapshotDCA"}}},84309:function(e,t,s){"use strict";s.d(t,{R:function(){return B}});var n=s(73235),r=s(52322),a=s(3854),o=s(2784),l=s(82737),p=s(65950),d=s(62362),i=s(31389),g=s(60218),c=s(21581),y=s(38449),u=s(5088),h=s(19473),q=s(21326);function S(){let e=(0,n._)(["\n  container-type: inline-size;\n  font-size: clamp(12px, 3.2cqw, 16px);\n"]);return S=function(){return e},e}function D(){let e=(0,n._)(["\n  font-size: clamp(10px, 2.2cqw, 12px);\n  font-weight: 600;\n  color: #888888;\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  top: 50%;\n  transform: translateY(-50%);\n"]);return D=function(){return e},e}function M(){let e=(0,n._)(["\n  font-size: clamp(11px, 2.4cqw, 13px);\n  font-weight: 600;\n  margin-bottom: 3px;\n  margin-top: 5px;\n  color: #000;\n"]);return M=function(){return e},e}function C(){let e=(0,n._)(["\n  width: 100%;\n  height: clamp(28px, 7cqw, 35px);\n  background-color: #f0f0f0;\n  border-radius: 5px;\n  overflow: hidden;\n  margin: 10px 0;\n  position: relative;\n"]);return C=function(){return e},e}function T(){let e=(0,n._)(["\n  container-type: inline-size;\n"]);return T=function(){return e},e}function O(){let e=(0,n._)(["\n  height: 100%;\n  background-color: #cce6ff;\n  transition: width 1.5s ease-in-out;\n"]);return O=function(){return e},e}let R=a.ZP.div(S()),m=a.ZP.span(D()),P=a.ZP.span(M()),I=a.ZP.div(C()),f=a.ZP.div(T()),J=a.ZP.div(O());function A(e){let{label:t,topLabel:s,width:n}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(P,{children:[s,": "]}),(0,r.jsxs)(I,{children:[(0,r.jsx)(J,{style:{width:n}}),(0,r.jsx)(m,{children:t})]})]})}let B=e=>{let{recordId:t,onComplete:s,access:n,window:a}=e,{getRequest:S}=(0,o.useContext)(p.$),{platformLabels:D}=(0,o.useContext)(h.l);(0,q.Z)({title:D.Progress,window:a});let[M,C]=(0,o.useState)({recordId:t,iterations:0,completed:0,phases:0,currentPhase:0,currentPhaseName:"",logInfo:"",status:0}),T=async()=>(await S({extension:y.r.THD.get,parameters:"_recordId=".concat(t)})).record,O=M.currentPhase===M.phases&&M.completed===M.iterations,m=!!M.status&&M.status<0;(0,o.useEffect)(()=>{s&&(O||m)&&s()},[m,O]),(0,o.useEffect)(()=>{(async()=>{C(await T())})();let e=setInterval(async()=>{let t=await T();C(t);let s=t.currentPhase===t.phases&&t.completed===t.iterations,n=!!t.status&&t.status<0;(t.status&&t.status<0||s||n)&&clearInterval(e)},2e3);return()=>clearInterval(e)},[]);let P=M.phases?M.currentPhase/M.phases*100:0,I=M.iterations?M.completed/M.iterations*100:0;return(0,r.jsx)(l.Z,{form:M,maxAccess:n,isInfo:!1,editMode:!0,isCleared:!1,actions:[{key:"Cancel",condition:!0,onClick:()=>a.close(),disabled:!O&&!m}],isSaved:!1,children:(0,r.jsx)(i.R,{children:(0,r.jsx)(d.Q,{children:(0,r.jsxs)(R,{children:[(0,r.jsx)(g.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{name:"phase",label:D.Phase,value:M.currentPhaseName,readOnly:!0,maxAccess:n})}),(0,r.jsxs)(f,{children:[(0,r.jsx)(A,{label:"".concat(D.Step," ").concat(M.currentPhase," of ").concat(M.phases,"..."),topLabel:D.currentPhase,width:"".concat(P,"%")}),(0,r.jsx)(A,{label:"".concat(D.Step," ").concat(M.completed," of ").concat(M.iterations,"..."),topLabel:D.Completed,width:"".concat(I,"%")})]}),(0,r.jsx)(c.Z,{name:"log",label:D.Log,value:M.logInfo,rows:4,maxAccess:n,readOnly:!0})]})})})})};B.width=500,B.height=450}},function(e){e.O(0,[3854,49774,92888,40179],function(){return e(e.s=47272)}),_N_E=e.O()}]);