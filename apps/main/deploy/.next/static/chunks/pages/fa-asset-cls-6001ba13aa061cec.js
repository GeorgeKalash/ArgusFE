(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33930],{41625:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fa-asset-cls",function(){return s(48363)}])},48363:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var n=s(52322),r=s(2784),a=s(27723),o=s(33625),c=s(62362),i=s(31389),d=s(69387),l=s(71987),u=s(19473),p=s(65950),g=s(68499),f=s(26612),m=s(61802),A=s(60218),h=s(48601),x=s(82737),C=s(62202),y=s(80983),P=s(5088),v=s(74898);function E(e){var t,s;let{labels:a,maxAccess:o,recordId:d}=e,{getRequest:m,postRequest:E}=(0,r.useContext)(p.$),{platformLabels:I}=(0,r.useContext)(u.l),q=(0,l.E)({endpointId:g.Y.Asset.page}),{formik:_}=(0,y.c)({initialValues:{recordId:null,reference:null,name:""},maxAccess:o,validateOnChange:!0,validationSchema:h.Ry({reference:h.Z_().required(),name:h.Z_().required()}),onSubmit:async e=>{let t=await E({extension:g.Y.Asset.set,record:JSON.stringify(e)});e.recordId||_.setFieldValue("recordId",t.recordId),C.ZP.success(e.recordId?I.Edited:I.Added),q()}});(0,r.useEffect)(()=>{!async function(){if(d){let e=await m({extension:g.Y.Asset.get,parameters:"_recordId=".concat(d)});_.setValues(e.record)}}()},[]);let S=[{key:"Integration Account",condition:!0,onClick:"onClickGIA",masterSource:v.N.AssetClass,disabled:!d&&!_.values.recordId}];return(0,n.jsx)(x.Z,{resourceId:f.i.AssetClass,form:_,maxAccess:o,editMode:!!d||!!_.values.recordId,actions:S,children:(0,n.jsx)(i.R,{children:(0,n.jsx)(c.Q,{children:(0,n.jsxs)(A.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(A.ZP,{item:!0,xs:12,children:(0,n.jsx)(P.Z,{name:"reference",label:a.reference,value:null===(t=_.values)||void 0===t?void 0:t.reference,required:!0,maxAccess:o,onChange:_.handleChange,onClear:()=>_.setFieldValue("reference",""),error:_.touched.reference&&!!_.errors.reference,maxLength:10})}),(0,n.jsx)(A.ZP,{item:!0,xs:12,children:(0,n.jsx)(P.Z,{name:"name",label:a.name,value:null===(s=_.values)||void 0===s?void 0:s.name,required:!0,maxAccess:o,onChange:_.handleChange,onClear:()=>_.setFieldValue("name",""),error:_.touched.name&&!!_.errors.name,maxLength:30})})]})})})})}var I=()=>{let{getRequest:e,postRequest:t}=(0,r.useContext)(p.$),{platformLabels:s}=(0,r.useContext)(u.l),{stack:A}=(0,m.zY)();async function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:n=50}=t;return{...await e({extension:g.Y.Asset.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(n,"&filter=")}),_startAt:s}}let{query:{data:x},labels:y,access:P,invalidate:v,refetch:I,paginationParameters:q,isLoading:_}=(0,l.J)({queryFn:h,endpointId:g.Y.Asset.page,datasetId:f.i.AssetClass}),S=[{field:"reference",headerName:y.reference,flex:1},{field:"name",headerName:y.name,flex:1}],D=async e=>{await t({extension:g.Y.Asset.del,record:JSON.stringify(e)}),v(),C.ZP.success(s.Deleted)};function L(e){A({Component:E,props:{labels:y,recordId:e,maxAccess:P},width:600,height:350,title:null==y?void 0:y.assetClass})}return(0,n.jsxs)(i.R,{children:[(0,n.jsx)(o.g,{children:(0,n.jsx)(a.Z,{onAdd:()=>{L()},maxAccess:P})}),(0,n.jsx)(c.Q,{children:(0,n.jsx)(d.Z,{columns:S,gridData:x,rowId:["recordId"],onEdit:e=>{L(null==e?void 0:e.recordId)},onDelete:D,isLoading:_,pageSize:50,paginationType:"api",paginationParameters:q,refetch:I,maxAccess:P})})]})}},68499:function(e,t,s){"use strict";s.d(t,{Y:function(){return r}});let n="FA.asmx/",r={Asset:{page:n+"pageCLS",qry:n+"qryCLS",get:n+"getCLS",set:n+"setCLS",del:n+"delCLS"},AssetGroup:{page:n+"pageGRP",qry:n+"qryGRP",get:n+"getGRP",set:n+"setGRP",del:n+"delGRP"},Location:{page:n+"pageLOC",qry:n+"qryLOC",get:n+"getLOC",set:n+"setLOC",del:n+"delLOC"},Assets:{qry:n+"qryAST",get:n+"getAST",set:n+"setAST",del:n+"delAST"},AssetsDescription:{qry:n+"qryDEP",get:n+"getDEP",set2:n+"set2DEP",set:n+"setDEP",del:n+"delDEP",snapshot:n+"snapshotDEP",preview:n+"previewDEP",post:n+"postDEP",unpost:n+"unpostDEP"},AssetsTableData:{qry:n+"qryDEA"}}},74898:function(e,t,s){"use strict";s.d(t,{N:function(){return n}});let n={Global:0,AccountGroup:10,Account:11,CashAccountGroup:20,CashAccount:21,ItemGroup:30,Item:31,ItemCategory:32,Site:33,ExpenseType:41,CostType:42,ProductionOverhead:51,TaxCode:12,PayrollGLGroup:61,PayrollEntitlementDeduction:62,AssetGroup:71,AssetClass:72}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=41625)}),_N_E=e.O()}]);