(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77368],{76644:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/countries",function(){return a(39244)}])},39244:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return Z}});var t=a(52322),n=a(2784),s=a(62202),l=a(69387),o=a(27723),d=a(65950),i=a(38449),c=a(71987),u=a(26612),g=a(31389),m=a(33625),C=a(62362),h=a(61802),p=a(19473),y=a(89119),f=a(29326),I=a(9522),x=a(60218),b=a(48601),v=a(82737),q=a(5088),P=a(8661),_=a(25506),R=a(80983),A=a(84100),S=a(19689);function j(e){var r;let{labels:a,maxAccess:l,recordId:o,setStore:m}=e,[h,y]=(0,n.useState)(!!o),{platformLabels:f}=(0,n.useContext)(p.l),{getRequest:I,postRequest:j}=(0,n.useContext)(d.$),F=(0,c.E)({endpointId:i.r.Country.page}),{formik:Z}=(0,R.c)({initialValues:{recordId:null,name:"",reference:"",flName:"",languageId:"",currencyId:null,regionId:null,ibanLength:"",isInactive:!1,currencyRef:null,currencyName:null,regionRef:null,regionName:null,isoCode1:"",isoCode2:""},maxAccess:l,validateOnChange:!0,validationSchema:b.Ry({ibanLength:b.Rx().nullable().transform((e,r)=>(0,_.vR)(e,r)).min(0,"Value must be greater than or equal to 0").max(32767,"Value must be less than or equal to 32,767"),name:b.Z_().required(" "),reference:b.Z_().required(" ")}),onSubmit:async e=>{e.ibanLength=(0,_.Rw)(e.ibanLength);let r=e.recordId,a=await j({extension:i.r.Country.set,record:JSON.stringify(e)});r?s.ZP.success(f.Edited):(s.ZP.success(f.Added),m({recordId:null==a?void 0:a.recordId,name:null==e?void 0:e.name}),Z.setValues({...e,recordId:a.recordId})),y(!0),F()}});return(0,n.useEffect)(()=>{!async function(){if(o){let e=await I({extension:i.r.Country.get,parameters:"_recordId=".concat(o)});m({recordId:e.record.recordId,name:e.record.name}),Z.setValues(e.record)}}()},[]),(0,t.jsx)(v.Z,{resourceId:u.i.Countries,form:Z,maxAccess:l,editMode:h,children:(0,t.jsx)(g.R,{children:(0,t.jsx)(C.Q,{children:(0,t.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(q.Z,{name:"reference",label:a.reference,value:Z.values.reference,readOnly:h,required:!0,onChange:Z.handleChange,onClear:()=>Z.setFieldValue("reference",""),error:Z.touched.reference&&!!Z.errors.reference,maxAccess:l})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(q.Z,{name:"name",label:a.name,value:Z.values.name,required:!0,onChange:Z.handleChange,onClear:()=>Z.setFieldValue("name",""),error:Z.touched.name&&!!Z.errors.name,maxAccess:l})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(q.Z,{name:"flName",label:a.fLang,value:Z.values.flName,onChange:Z.handleChange,onClear:()=>Z.setFieldValue("flName",""),error:Z.touched.flName&&!!Z.errors.flName,maxLength:"30",maxAccess:l})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(P.Z,{endpointId:i.r.Currency.qry,name:"currencyId",label:a.currency,valueField:"recordId",displayField:"name",values:Z.values,onChange:(e,r)=>{Z&&Z.setFieldValue("currencyId",null==r?void 0:r.recordId)},error:Z.touched.currencyId&&!!Z.errors.currencyId,maxAccess:l})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(P.Z,{endpointId:i.r.GeographicRegion.qry,name:"regionId",label:a.geoRegion,valueField:"recordId",displayField:"name",values:Z.values,onChange:(e,r)=>{Z&&Z.setFieldValue("regionId",null==r?void 0:r.recordId)},error:Z.touched.regionId&&!!Z.errors.regionId,maxAccess:l,parameters:"_startAt=0&_pageSize=1000"})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(q.Z,{name:"ibanLength",label:a.ibanLength,value:Z.values.ibanLength&&(0,_.en)(Z.values.ibanLength,5,0),onChange:e=>Z.setFieldValue("ibanLength",(0,_.en)(e.target.value,5,0)),onClear:()=>Z.setFieldValue("ibanLength",""),error:Z.touched.ibanLength&&!!Z.errors.ibanLength,maxAccess:l})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(q.Z,{name:"isoCode1",label:a.IsoCode1,value:Z.values.isoCode1,maxLength:"3",onChange:Z.handleChange,onClear:()=>Z.setFieldValue("isoCode1",""),error:Z.touched.isoCode1&&!!Z.errors.isoCode1,maxAccess:l})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(q.Z,{name:"isoCode2",label:a.IsoCode2,value:Z.values.isoCode2,maxLength:"3",onChange:Z.handleChange,onClear:()=>Z.setFieldValue("isoCode1",""),error:Z.touched.isoCode2&&!!Z.errors.isoCode2,maxAccess:l})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(P.Z,{datasetId:A.v.LANGUAGE,name:"languageId",label:a.language,valueField:"key",displayField:"value",values:Z.values,onChange:(e,r)=>{var a;Z.setFieldValue("languageId",null!==(a=null==r?void 0:r.key)&&void 0!==a?a:"")},error:Z.touched.languageId&&!!Z.errors.languageId})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(S.Z,{name:"isInactive",value:null===(r=Z.values)||void 0===r?void 0:r.isInactive,onChange:e=>Z.setFieldValue("isInactive",e.target.checked),label:a.isInactive,maxAccess:l})})]})})})})}var F=e=>{let{labels:r,maxAccess:a,recordId:s}=e,[l,o]=(0,n.useState)(0),[d,i]=(0,n.useState)({recordId:s||null,name:null}),c=[{label:null==r?void 0:r.country},{label:null==r?void 0:r.interface,disabled:!d.recordId}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.Y,{tabs:c,activeTab:l,setActiveTab:o,maxAccess:a}),(0,t.jsx)(f.Z,{index:0,value:l,maxAccess:a,children:(0,t.jsx)(j,{labels:r,maxAccess:a,recordId:s,setStore:i})}),(0,t.jsx)(f.Z,{index:1,value:l,maxAccess:a,children:(0,t.jsx)(y.V,{labels:r,resourceId:u.i.Countries,recordId:d.recordId,maxAccess:a,name:d.name})})]})},Z=()=>{let{getRequest:e,postRequest:r}=(0,n.useContext)(d.$),{stack:a}=(0,h.zY)(),{platformLabels:y}=(0,n.useContext)(p.l);async function f(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:t=50}=r;return{...await e({extension:i.r.Country.page,parameters:"_startAt=".concat(a,"&_pageSize=").concat(t,"&filter=")}),_startAt:a}}async function I(r){let{qry:a}=r;return await e({extension:i.r.Country.snapshot,parameters:"_filter=".concat(a)})}let{query:{data:x},search:b,clear:v,labels:q,paginationParameters:P,refetch:_,access:R}=(0,c.J)({queryFn:f,endpointId:i.r.Country.page,datasetId:u.i.Countries,search:{searchFn:I}}),A=(0,c.E)({endpointId:i.r.Country.page}),S=[{field:"reference",headerName:q.reference,flex:1},{field:"name",headerName:q.name,flex:1},{field:"flName",headerName:q.fLang,flex:1},{field:"currencyName",headerName:q.currency,flex:1},{field:"regionName",headerName:q.geoRegion,flex:1},{field:"ibanLength",headerName:q.ibanLength,flex:1,align:"right",type:"number"}],j=async e=>{await r({extension:i.r.Country.del,record:JSON.stringify(e)}),A(),s.ZP.success(y.Deleted)};function Z(e){a({Component:F,props:{labels:q,recordId:e,maxAccess:R},width:700,height:640,title:q.country})}return(0,t.jsxs)(g.R,{children:[(0,t.jsx)(m.g,{children:(0,t.jsx)(o.Z,{onAdd:()=>{Z()},maxAccess:R,onSearch:b,onSearchClear:v,labels:q,inputSearch:!0})}),(0,t.jsx)(C.Q,{children:(0,t.jsx)(l.Z,{columns:S,gridData:x,fetchGridData:f,rowId:["recordId"],onEdit:e=>{Z(null==e?void 0:e.recordId)},onDelete:j,isLoading:!1,refetch:_,pageSize:50,paginationParameters:P,paginationType:"api",maxAccess:R})})]})}},53621:function(e,r,a){"use strict";a.d(r,{d:function(){return n}});let t="RTSET.asmx/",n={Interface:{qry:t+"qryITF",page:t+"pageITF",get:t+"getITF",set:t+"setITF",del:t+"delITF"},ProductMaster:{qry:t+"qryPRO",page:t+"pagePRO",get:t+"getPRO",set:t+"setPRO",del:t+"delPRO",snapshot:t+"snapshotPRO"},ProductCountries:{qry:t+"qryPCO",set2:t+"set2PCO"},ProductMonetaries:{qry:t+"qryPMO",set2:t+"set2PMO"},ProductDispersal:{qry:t+"qryPDI",get:t+"getPDI",set:t+"setPDI",del:t+"delPDI"},ProductSchedules:{qry:t+"qryPSC",set2:t+"set2PSC"},ProductScheduleRanges:{qry:t+"qryPSR",set2:t+"set2PSR"},ProductScheduleFees:{qry:t+"qryPSF",set2:t+"set2PSF"},ProductDispersalAgents:{qry:t+"qryPDA",set2:t+"set2PDA"},Correspondent:{page:t+"pageCOR",qry:t+"qryCOR",qry2:t+"qry2COR",get:t+"getCOR",set:t+"setCOR",del:t+"delCOR",snapshot:t+"snapshotCOR"},CorrespondentCountry:{qry:t+"qryCCO",get:t+"getCCO",set2:t+"set2CCO",del:t+"delCCO"},CorrespondentCurrency:{qry:t+"qryCCU",get:t+"getCCU",set2:t+"set2CCU",del:t+"delCCU"},CorrespondentAgents:{qry:t+"qryAGT",page:t+"pageAGT",get:t+"getAGT",set:t+"setAGT",del:t+"delAGT"},CorrespondentAgentBranches:{qry:t+"qryABR",page:t+"pageABR",get:t+"getABR",set:t+"setABR",del:t+"delABR"},CorrespondentExchangeMap:{qry:t+"qryEXC",set2:t+"set2EXC"},CurrencyExchangeMap:{qry:t+"qryEXG",set2:t+"set2EXG"},CorrespondentExchangeBuyMap:{qry:t+"qryEXB",set2:t+"set2EXB"},ExchangeRates:{get:t+"getEXB",qry:t+"qryEXG2",set2:t+"set2EXB"},RtDefault:{qry:t+"qryDE",set2:t+"set2DE"},Profession:{qry:t+"qryPFN",page:t+"pagePFN",get:t+"getPFN",set:t+"setPFN",del:t+"delPFN",snapshot:t+"snapshotPFN"},ClientIndividual:{qry:t+"qryCLI"},SalaryRange:{qry:t+"qrySRA",page:t+"pageSRA",get:t+"getSRA",set:t+"setSRA",del:t+"delSRA"},SourceOfIncome:{qry:t+"qrySI",page:t+"pageSI",snapshot:t+"snapshotSI",get:t+"getSI",set:t+"setSI",del:t+"delSI"},CorrespondentControl:{qry:t+"qryCCL",set:t+"set2CCL"},InterfaceMaps:{qry:t+"qryIFM",get:t+"getIFM",set2:t+"set2IFM"},SourceOfIncomeType:{qry:t+"qrySIT",snapshot:t+"snapshotSIT",page:t+"pageSIT",get:t+"getSIT",set:t+"setSIT",del:t+"delSIT"},ProfessionGroups:{qry:t+"qryPFG",page:t+"pagePFG",snapshot:t+"snapshotPFG",get:t+"getPFG",set:t+"setPFG",del:t+"delPFG"},CorrespondentGroup:{qry:t+"qryCGP",page:t+"pageCGP",get:t+"getCGP",set:t+"setCGP",del:t+"delCGP"},ExtraIncome:{qry:t+"qryEI",get:t+"getEI",del:t+"delEI",page:t+"pageEI",snapshot:t+"snapshotEI",set:t+"setEI"},CountryRisk:{page:t+"pageCOU",get:t+"getCOU",set:t+"setCOU",del:t+"delCOU"},CorDispControl:{qry:t+"qryCDC",set2:t+"set2CDC"},CorrespondentDispersal:{qry:t+"qryCDM",get:t+"getCDM",del:t+"delCDM",set2:t+"set2CDM"},CorrespondentDispersalRate:{qry:t+"qryCDR",set2:t+"set2CDR"}}},29326:function(e,r,a){"use strict";var t=a(52322);a(2784);var n=a(23925),s=a(13980),l=a.n(s),o=a(95291),d=a.n(o),i=a(65947);let c=e=>{var r,a,s;let{children:l,value:o,index:c,maxAccess:u,...g}=e,m="".concat(e.name||"tab",".").concat(c),{accessLevel:C}=null!==(s=(null!==(a=null==u?void 0:null===(r=u.record)||void 0===r?void 0:r.controls)&&void 0!==a?a:[]).find(e=>e.controlId===m))&&void 0!==s?s:{accessLevel:0};if(C===i.A1)return null;let h=o===c;return(0,t.jsx)(n.Z,{role:"tabpanel",hidden:!h,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c),className:"".concat(d().tabPanel," ").concat(h?d().active:d().hidden),...g,children:l})};c.propTypes={children:l().node,index:l().number.isRequired,value:l().number.isRequired},r.Z=c},9522:function(e,r,a){"use strict";a.d(r,{Y:function(){return g}});var t=a(52322),n=a(23925),s=a(54582),l=a(68696),o=a(44258),d=a(2784),i=a(99266),c=a(52614),u=a.n(c);let g=e=>{var r,a,c,g,m;let{tabs:C,activeTab:h,setActiveTab:p,maxAccess:y,name:f="tab"}=e,I=(null==y?void 0:null===(a=y.record)||void 0===a?void 0:null===(r=a.controls)||void 0===r?void 0:r.filter(e=>{var r;return 4===e.accessLevel&&(null===(r=e.controlId)||void 0===r?void 0:r.startsWith("".concat(f,".")))}).map(e=>e.controlId.split(".")[1]))||[],x=null==C?void 0:null===(c=C.map((e,r)=>({...e,id:r})))||void 0===c?void 0:c.filter((e,r)=>!I.includes(String(r))),b=null===(g=x[h])||void 0===g?void 0:g.id,v=null===(m=x[h])||void 0===m?void 0:m.disabled;return(0,d.useEffect)(()=>{b>=0&&!v&&h!=b&&p(b)},[]),(0,t.jsx)(n.Z,{className:u().tabsContainer,children:(0,t.jsx)(n.Z,{className:u().tabsWrapper,children:(0,t.jsx)(s.Z,{value:h,onChange:(e,r)=>p(r),variant:"scrollable",scrollButtons:x.length>3?"auto":"off","aria-label":"scrollable tabs",classes:{indicator:u().tabsIndicator},className:u().tabs,children:null==x?void 0:x.map(e=>(0,t.jsx)(l.Z,{value:e.id,disabled:null==e?void 0:e.disabled,className:"".concat(u().tabName," ").concat(e.disabled?u().tabDisabled:""),classes:{root:u().tabRoot,selected:u().selectedTab},label:(0,t.jsxs)(n.Z,{display:"flex",alignItems:"center",children:[(0,t.jsx)("span",{children:e.label}),e.id===h&&(null==e?void 0:e.onRefetch)&&(0,t.jsx)(o.Z,{size:"small",className:u().refreshButton,onClick:r=>{r.stopPropagation(),e.onRefetch()},children:(0,t.jsx)(i.Z,{className:u().refreshIcon})})]})},e.id))})})})}},89119:function(e,r,a){"use strict";a.d(r,{V:function(){return I}});var t=a(52322),n=a(2784),s=a(65950),l=a(49864),o=a(50023),d=a(26612),i=a(62202),c=a(76399),u=a(80983),g=a(84100),m=a(53621),C=a(80968),h=a(5088),p=a(62362),y=a(31389),f=a(54074);let I=e=>{let{recordId:r,resourceId:a,name:I}=e,{getRequest:x,postRequest:b}=(0,n.useContext)(s.$),{getAllKvsByDataset:v}=(0,n.useContext)(C.k),{labels:q,access:P}=(0,o.Z)({datasetId:d.i.InterfaceMap,editMode:!!r}),{formik:_}=(0,u.c)({initialValues:{rows:[{id:1,recordId:r,resourceId:d.i.resourceId,interfaceId:"",interfaceName:"",reference:""}]},validateOnChange:!0,onSubmit:async e=>{let t=_.values.rows.map(e=>({recordId:r,resourceId:a,...e})),n=t.every(e=>""===e.interfaceId);(await b({extension:m.d.InterfaceMaps.set2,record:JSON.stringify({recordId:r,resourceId:a,items:n?[]:t})})).recordId&&i.ZP.success("Record Successfully")}});async function R(){return new Promise((e,r)=>{v({_dataset:g.v.ALL_INTERFACES,callback:a=>{a?e(a):r()}})})}(0,n.useEffect)(()=>{!async function(){if(r){let e=await R(),t=await x({extension:m.d.InterfaceMaps.qry,parameters:"_recordId=".concat(r,"&_resourceId=").concat(a)}),n=e.map(e=>{let r={interfaceId:e.key,interfaceName:e.value,reference:""},a=t.list.find(e=>r.interfaceId==e.interfaceId);return a&&(r.reference=a.reference),r});_.setValues({..._.values,rows:n.map((e,r)=>({...e,id:r+1}))})}}()},[r]);let A=[{component:"resourcecombobox",label:q.interface,name:"interfaceId",props:{readOnly:!0,datasetId:g.v.ALL_INTERFACES,valueField:"key",displayField:"value",displayFieldWidth:2,mapping:[{from:"key",to:"interfaceId"},{from:"value",to:"interfaceName"}]}},{component:"textfield",label:q.reference,name:"reference"}];return(0,t.jsx)(f.Z,{onSave:_.handleSubmit,maxAccess:P,editMode:!0,children:(0,t.jsx)(y.R,{children:(0,t.jsxs)(p.Q,{children:[(0,t.jsx)(l.Z,{sx:{width:"50%"},children:(0,t.jsx)(h.Z,{label:q.name,value:I,readOnly:!0})}),(0,t.jsx)(c._,{onChange:e=>_.setFieldValue("rows",e),value:_.values.rows,error:_.errors.rows,columns:A,allowDelete:!1})]})})})}},95291:function(e){e.exports={tabPanel:"CustomTabPanel_tabPanel__80Dfu",active:"CustomTabPanel_active___6Uvb",hidden:"CustomTabPanel_hidden__y9566"}},52614:function(e){e.exports={customTabPanel:"CustomTabs_customTabPanel__Ztocv",hidden:"CustomTabs_hidden__lZpM7",tabsContainer:"CustomTabs_tabsContainer__28Syi",tabsWrapper:"CustomTabs_tabsWrapper__mlxxj",tabs:"CustomTabs_tabs__25pli",tabName:"CustomTabs_tabName__XzMCn",tabRoot:"CustomTabs_tabRoot__WVR1E",tabDisabled:"CustomTabs_tabDisabled__VauYR",selectedTab:"CustomTabs_selectedTab__sZzwF",tabsIndicator:"CustomTabs_tabsIndicator__89Lek",refreshButton:"CustomTabs_refreshButton__P2mzl",refreshIcon:"CustomTabs_refreshIcon__ADVWF"}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=76644)}),_N_E=e.O()}]);