(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79761],{13143:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fo-ms-dtd",function(){return s(19445)}])},19445:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return B}});var r=s(52322),a=s(2784),n=s(62202),o=s(60218),l=s(48601),p=s(19473),d=s(65950),g=s(71987),i=s(36773),y=s(7121),c=s(80983),u=s(26612),S=s(38449),q=s(31389),M=s(62362),D=s(91406),C=s(8661),h=s(90587),T=s(65215),A=s(82737),m=s(84100);function I(e){let{labels:t,maxAccess:s,recordId:I,window:O}=e,{platformLabels:R}=(0,a.useContext)(p.l),{getRequest:J,postRequest:P}=(0,a.useContext)(d.$),B=(0,g.E)({endpointId:i.B.DocumentTypeDefault.page}),{formik:W}=(0,c.c)({initialValues:{recordId:I,functionId:y.J.MetalSmelting,dtId:null,smeltingMaxAllowedVariation:null,workCenterId:null,siteId:null,puritySource:null},maxAccess:s,validationSchema:l.Ry({dtId:l.Z_().required(),puritySource:l.Rx().required(),smeltingMaxAllowedVariation:l.Rx().required()}),onSubmit:async e=>{await P({extension:i.B.DocumentTypeDefault.set,record:JSON.stringify(e)}),n.ZP.success(I?R.Edited:R.Added),B(),O.close()}}),f=!!W.values.recordId;return(0,a.useEffect)(()=>{!async function(){if(I){let e=await J({extension:i.B.DocumentTypeDefault.get,parameters:"_dtId=".concat(I)});W.setValues({...e.record,recordId:e.record.dtId})}}()},[]),(0,r.jsx)(A.Z,{resourceId:u.i.MetalSmeltingDTD,form:W,maxAccess:s,editMode:f,children:(0,r.jsx)(q.R,{children:(0,r.jsx)(M.Q,{children:(0,r.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(C.Z,{endpointId:S.r.DocumentType.qry,parameters:"_startAt=0&_pageSize=1000&_dgId=".concat(y.J.MetalSmelting),name:"dtId",required:!0,label:t.documentType,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],readOnly:f,values:W.values,maxAccess:s,onChange:(e,t)=>W.setFieldValue("dtId",(null==t?void 0:t.recordId)||null),error:W.touched.dtId&&!!W.errors.dtId})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(D.Z,{name:"smeltingMaxAllowedVariation",label:t.smeltingMaxAllowedVariation,value:W.values.smeltingMaxAllowedVariation,maxAccess:s,decimalScale:3,required:!0,maxLength:6,onChange:W.handleChange,onClear:()=>W.setFieldValue("smeltingMaxAllowedVariation",null),error:W.touched.smeltingMaxAllowedVariation&&!!W.errors.smeltingMaxAllowedVariation})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(C.Z,{endpointId:h.u.WorkCenter.qry,name:"workCenterId",label:t.workCenter,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:W.values,maxAccess:s,onChange:(e,t)=>W.setFieldValue("workCenterId",(null==t?void 0:t.recordId)||null),error:W.touched.workCenterId&&W.errors.workCenterId})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(C.Z,{endpointId:T.$.Site.qry,name:"siteId",label:t.site,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:["reference","name"],values:W.values,maxAccess:s,onChange:(e,t)=>{W.setFieldValue("siteId",(null==t?void 0:t.recordId)||null)},error:W.touched.siteId&&!!W.errors.siteId})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(C.Z,{datasetId:m.v.PURITY,name:"puritySource",label:t.purity,valueField:"key",displayField:"value",values:W.values,maxAccess:s,required:!0,onChange:(e,t)=>W.setFieldValue("puritySource",(null==t?void 0:t.key)||null),error:W.touched.puritySource&&!!W.errors.puritySource})})]})})})})}var O=s(61802),R=s(33625),J=s(69387),P=s(27723),B=()=>{let{getRequest:e,postRequest:t}=(0,a.useContext)(d.$),{platformLabels:s}=(0,a.useContext)(p.l),{stack:o}=(0,O.zY)();async function l(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:s=0,_pageSize:r=50}=t;return{...await e({extension:i.B.DocumentTypeDefault.page,parameters:"_startAt=".concat(s,"&_pageSize=").concat(r,"&_functionId=").concat(SystemFunction.MetalSmelting)}),_startAt:s}}let{query:{data:y},labels:c,invalidate:S,refetch:D,access:C,paginationParameters:h}=(0,g.J)({queryFn:l,endpointId:i.B.DocumentTypeDefault.page,datasetId:u.i.MetalSmeltingDTD}),T=[{field:"dtName",headerName:c.documentType,flex:1},{field:"smeltingMaxAllowedVariation",headerName:c.smeltingMaxAllowedVariation,flex:1,type:"number"}],A=async e=>{await t({extension:i.B.DocumentTypeDefault.del,record:JSON.stringify(e)}),S(),n.ZP.success(s.Deleted)};function m(e){o({Component:I,props:{labels:c,recordId:null==e?void 0:e.dtId,maxAccess:C},width:600,height:350,title:c.MetalSmeltingDTD})}return(0,r.jsxs)(q.R,{children:[(0,r.jsx)(R.g,{children:(0,r.jsx)(P.Z,{onAdd:()=>{m()},maxAccess:C})}),(0,r.jsx)(M.Q,{children:(0,r.jsx)(J.Z,{name:"table",columns:T,gridData:y,rowId:["dtId"],onEdit:e=>{m(e)},onDelete:A,pageSize:50,refetch:D,paginationType:"api",paginationParameters:h,maxAccess:C})})]})}},36773:function(e,t,s){"use strict";s.d(t,{B:function(){return a}});let r="FO.asmx/",a={WorkCenter:{page:r+"pageWCT",qry:r+"qryWCT",set:r+"setWCT",get:r+"getWCT",del:r+"delWCT"},Wax:{page:r+"pageWAX",snapshot:r+"snapshotWAX",set:r+"setWAX",set2:r+"set2WAX",get:r+"getWAX",del:r+"delWAX",post:r+"postWAX",unpost:r+"unpostWAX",close:r+"closeWAX",open:r+"openWAX",reopen:r+"reopenWAX"},WaxJob:{qry:r+"qryWAJ",qry2:r+"qry2WAJ"},Mould:{qry:r+"qryMOU",qry2:r+"qry2MOU",page:r+"pageMOU",set:r+"setMOU",get:r+"getMOU",del:r+"delMOU",snapshot:r+"snapshotMOU"},MetalSettings:{page:r+"pageMTS",set:r+"setMTS",get:r+"getMTS",del:r+"delMTS"},Scrap:{qry:r+"qryMSC",set2:r+"set2MSC"},JobWaxInquiry:{qry2:r+"qry2WAJ"},Casting:{page:r+"pageCAS",get:r+"getCAS",set:r+"setCAS",del:r+"delCAS",cancel:r+"cancelCAS",post:r+"postCAS",snapshot:r+"snapshotCAS"},CastingDisassembly:{qry:r+"qryCDA",set2:r+"set2CDA"},MetalScrap:{qry:r+"qryMSC"},CastingJob:{qry:r+"qryCAJ",set2:r+"set2CAJ"},FoundaryTransaction:{get:r+"getTRX",get2:r+"get2TRX",del:r+"delTRX",set2:r+"set2TRX",page:r+"pageTRX",snapshot:r+"snapshotTRX",post:r+"postTRX",unpost:r+"unpostTRX"},AlloyMetals:{page:r+"pageALM",set:r+"setALM",get:r+"getALM",del:r+"delALM",qry:r+"qryALM"},SmeltingScrapItem:{qry:r+"qrySMSI",set2:r+"set2SMSI"},DocumentTypeDefault:{page:r+"pageDTD",set:r+"setDTD",get:r+"getDTD",del:r+"delDTD"},PurityAdjustment:{combos:r+"getPackPADJ",get2:r+"get2PADJ",del:r+"delPADJ",set2:r+"set2PADJ",page:r+"pagePADJ",snapshot:r+"snapshotPADJ",post:r+"postPADJ",unpost:r+"unpostPADJ"}}},90587:function(e,t,s){"use strict";s.d(t,{u:function(){return a}});let r="MF.asmx/",a={DesignRawMaterial:{qry2:r+"qryDRM2",qry:r+"qryDRM",set2:r+"set2DRM"},JobOrdersItem:{qry:r+"qryJIT",set2:r+"set2JIT"},IssueOfMaterialsItems:{qry:r+"qryIMI",qry2:r+"qryIMI2"},LaborGroup:{snapshot:r+"snapshotLBG",page:r+"pageLBG",qry:r+"qryLBG",set:r+"setLBG",get:r+"getLBG",del:r+"delLBG"},ProductionLine:{page:r+"pageLIN",qry:r+"qryLIN",qry2:r+"qry2LIN",qry3:r+"qry3LIN",set:r+"setLIN",get:r+"getLIN",del:r+"delLIN"},CostGroup:{page:r+"pageCG",set:r+"setCG",get:r+"getCG",del:r+"delCG",qry:r+"qryCG"},WorkCenter:{page:r+"pageWCT",qry:r+"qryWCT",qry3:r+"qryWCT3",set:r+"setWCT",get:r+"getWCT",del:r+"delWCT",snapshot:r+"snapshotWCT"},Routing:{page:r+"pageRTN",qry:r+"qryRTN",set:r+"setRTN",get:r+"getRTN",del:r+"delRTN",snapshot2:r+"snapshot2RTN",snapshot:r+"snapshotRTN"},Operation:{snapshot:r+"snapshotOPR",qry:r+"qryOPR",page:r+"pageOPR",set:r+"setOPR",get:r+"getOPR",del:r+"delOPR"},Labor:{page:r+"pageLBR",qry:r+"qryLBR",qry2:r+"qry2LBR",set:r+"setLBR",get:r+"getLBR",del:r+"delLBR",snapshot:r+"snapshotLBR"},Machine:{page:r+"pageMAC",qry:r+"qryMAC",set:r+"setMAC",get:r+"getMAC",del:r+"delMAC",snapshot:r+"snapshotMAC"},MachineSpecification:{page:r+"pageMAS",qry:r+"qryMAS",set:r+"setMAS",get:r+"getMAS",del:r+"delMAS"},LeanProductionPlanning:{preview:r+"previewPQ",update:r+"updatePQ",snapshot:r+"snapshotPQ",del:r+"delPQ",cancel:r+"cancelPQ"},MaterialsAdjustment:{generate:r+"generateADJ"},ProductionClass:{page:r+"pageCLS",qry:r+"qryCLS",set:r+"setCLS",get:r+"getCLS",del:r+"delCLS",snapshot:r+"qryCLS"},ProductionStandard:{qry:r+"qrySTD",page:r+"pageSTD",set:r+"setSTD",get:r+"getSTD",del:r+"delSTD"},ProductionClassSemiFinished:{qry:r+"qryCSF",set:r+"setCSF",get:r+"getCSF",del:r+"delCSF",set2:r+"set2CSF"},RoutingSequence:{set2:r+"set2RTS",qry:r+"qryRTS"},Overhead:{qry:r+"qryOVH",set:r+"setOVH",get:r+"getOVH",del:r+"delOVH",page:r+"pageOVH",snapshot:r+"snapshotOVH"},Design:{qry:r+"qryDES",set:r+"setDES",get:r+"getDES",del:r+"delDES",snapshot:r+"snapshotDES",page:r+"pageDES"},MFJobOrder:{pack:r+"packJOB",qry:r+"qryJOB",qry2:r+"qryJOB2",set:r+"setJOB",get:r+"getJOB",get2:r+"get2JOB",del:r+"delJOB",snapshot:r+"snapshotJOB",snapshot2:r+"snapshotJOB2",snapshot3:r+"snapshotJOB3",cancel:r+"cancelJOB",post:r+"postJOB",start:r+"startJOB",stop:r+"stopJOB",wip:r+"wipJOB",sync:r+"syncJOB"},ProductionSheet:{page:r+"pagePST",qry:r+"qryPST",get:r+"getPST",set2:r+"set2PST",get2:r+"get2PST",del:r+"delPST",post:r+"postPST",unpost:r+"unpostPST",snapshot:r+"snapshotPST"},ProductionSheetItem:{qry:r+"qryPSI",set:r+"setPSI",get:r+"getPSI",del:r+"delPSI"},DocumentTypeDefault:{qry:r+"qryDTD",get:r+"getDTD",set:r+"setDTD",del:r+"delDTD",page:r+"pageDTD"},RawMaterialCategory:{qry:r+"qryRMC",get:r+"getRMC",set:r+"setRMC",del:r+"delRMC",page:r+"pageRMC"},WorksheetMaterials:{qry:r+"qryIMA",get:r+"getIMA",pack:r+"get2IMA",set:r+"setIMA",set2:r+"set2IMA",del:r+"delIMA",post:r+"postIMA"},ProductionSheetQueue:{qry:r+"qryPSQ"},Damage:{qry:r+"qryDMG",get:r+"getDMG",set:r+"setDMG",del:r+"delDMG",page:r+"pageDMG",snapshot:r+"snapshotDMG",post:r+"postDMG",get2:r+"get2DMG",set2:r+"set2DMG",preview:r+"previewDMG"},JobCategory:{qry:r+"qryJCA"},JobRouting:{qry:r+"qryJRO",get:r+"getJRO",set:r+"setJRO",set2:r+"set2JRO",del:r+"delJRO",sync:r+"syncJRO",close:r+"closeJRO",reopen:r+"reopenJRO"},Worksheet:{snapshot:r+"snapshotWST",get:r+"getWST",pack:r+"getPackWST",set:r+"setWST",del:r+"delWST",page:r+"pageWST",summary:r+"summaryWST",post:r+"postWST",qry2:r+"qryWST2",draft:r+"draftWST"},JobOverhead:{qry:r+"qryJOH",set2:r+"set2JOH",generate:r+"generateJOH"},JobMaterial:{qry:r+"qryJMA"},JobItemSize:{qry:r+"qryJSZ",set2:r+"set2JSZ"},MFSerial:{qry:r+"qrySRL",qry2:r+"qrySRL2",set2:r+"set2SRL",generate:r+"generateSRL"},SamplePack:{qry:r+"qrySPL",set2:r+"set2SPL"},DamageReturn:{get:r+"getDMR",set:r+"setDMR",del:r+"delDMR",page:r+"pageDMR",snapshot:r+"snapshotDMR",post:r+"postDMR"},ProductionOrder:{get2:r+"get2PO",set2:r+"set2PO",del:r+"delPO",page:r+"pagePO",snapshot:r+"snapshotPO",post:r+"postPO",gen:r+"genPO",close:r+"closePO"},BillOfMaterials:{get:r+"getBMA",qry2:r+"qry2BMA",set:r+"setBMA",del:r+"delBMA",page:r+"pageBMA",snapshot:r+"snapshotBMA"},Component:{get:r+"getBMI",qry:r+"qryBMI",del:r+"delBMI",set:r+"setBMI",set2:r+"set2BMI"},Assembly:{get:r+"getASM",set2:r+"set2ASM",del:r+"delASM",page:r+"pageASM",snapshot:r+"snapshotASM",post:r+"postASM",unpost:r+"unpostASM",generate:r+"genASM"},AssemblyItems:{qry:r+"qryASC"},AssemblyLot:{get:r+"getASL",set:r+"setASL"},AssemblyOverhead:{qry:r+"qryAOH",set2:r+"set2AOH"},MeasurementScheduleMap:{qry:r+"qryMSM",set:r+"setMSM",set2:r+"set2MSM",del:r+"delMSM"},JobCategory:{set:r+"setJCA",get:r+"getJCA",del:r+"delJCA",page:r+"pageJCA",qry:r+"qryJCA"},DesignGroup:{qry:r+"qryDEG",set:r+"setDEG",get:r+"getDEG",del:r+"delDEG",page:r+"pageDEG"},Components:{qry:r+"qryDEM",set2:r+"set2DEM"},DesignFamily:{qry:r+"qryDEF",set:r+"setDEF",get:r+"getDEF",del:r+"delDEF",page:r+"pageDEF"},ProductionShifts:{qry:r+"qrySHI",set:r+"setSHI",get:r+"getSHI",del:r+"delSHI",page:r+"pageSHI"},JobOrderWizard:{set2:r+"set2JOZ",get2:r+"get2JOZ",del:r+"delJOZ",page:r+"pageJOZ",snapshot:r+"snapshotJOZ",post:r+"postJOZ"},JobTransfer:{get2:r+"get2TFR",set2:r+"set2TFR",del:r+"delTFR",page:r+"pageTFR",snapshot:r+"snapshotTFR",post:r+"postTFR",close:r+"closeTFR",reopen:r+"reopenTFR",qry:r+"qryTFR"},JobWorkCenter:{qry:r+"qryJWC",close:r+"closeJWC",reopen:r+"reopenJWC",get:r+"getJWC",snapshot:r+"snapshotJWC",verify:r+"verifyJWC"},WorkCenterConsumption:{page:r+"pageCON",snapshot:r+"snapshotCON",del:r+"delCON",set2:r+"set2CON",get:r+"getCON",post:r+"postCON",unpost:r+"unpostCON",close:r+"closeCON",reopen:r+"reopenCON"},ConsumptionItemView:{qry:r+"qryCOI"},LineItemCapacity:{set2:r+"set2LIT",del:r+"delLIT",qry:r+"qryLIT",page:r+"pageLIT"},CostGroupOverhead:{set2:r+"set2CGV",qry:r+"qryCGV"},IssueOfMaterialDimension:{set:r+"setIMD",qry:r+"qryIMD"},JobOrder:{gen:r+"genORD"},RefreshPoItem:{refresh:r+"refreshPOI"},WorkCenterTransferMap:{qry:r+"qryWCTM",set2:r+"set2WCTM"},BatchWorksheet:{get2:r+"get2BWST",set2:r+"set2BWST",del:r+"delBWST",page:r+"pageBWST",snapshot:r+"snapshotBWST",post:r+"postBWST",gen:r+"genBWST",close:r+"closeBWST",reopen:r+"reopenBWST"},ProductionOrderFromSaleOrder:{gen:r+"generatePOFromSO"},BatchTransfer:{page:r+"pageBTFR",set2:r+"set2BTFR",del:r+"delBTFR",snapshot:r+"snapshotBTFR",get:r+"getBTFR",post:r+"postBTFR",unpost:r+"unpostBTFR"},BatchTransferJob:{qry:r+"qryBTFJ"},Disposal:{page:r+"pageDIS",snapshot:r+"snapshotDIS",get:r+"getDIS",set2:r+"set2DIS",del:r+"delDIS"},DisposalItem:{qry:r+"qryDII"},DisposalSerial:{qry:r+"qryDISRL"},MetalSetting:{page:r+"pageMTS",set:r+"setMTS",get:r+"getMTS",del:r+"delMTS"},DamageReason:{qry:r+"qryDRS",page:r+"pageDRS",set:r+"setDRS",get:r+"getDRS",del:r+"delDRS",snapshot:r+"snapshotDRS"},DamageCategory:{qry:r+"qryDCA",page:r+"pageDCA",set:r+"setDCA",get:r+"getDCA",del:r+"delDCA",snapshot:r+"snapshotDCA"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=13143)}),_N_E=e.O()}]);