(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11909],{84475:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pu-settings",function(){return a(20467)}])},20467:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return C}});var r=a(52322),t=a(2784),l=a(61802),s=a(60218),i=a(48601),c=a(65950),d=a(38449),u=a(26612),o=a(8661),P=a(71987),I=a(84100),h=a(31389),y=a(62362),m=a(65215),x=a(91406),v=a(80983),S=a(19473),f=a(62202),g=a(54074),U=()=>{let{getRequest:e,postRequest:n}=(0,t.useContext)(c.$),{platformLabels:a}=(0,t.useContext)(S.l),{labels:l,access:U}=(0,P.J)({datasetId:u.i.PUSettings}),C=["PUCurrencyId","PUSiteId","PUFIIntegration","POSHPVarPct"],{formik:p}=(0,v.c)({initialValues:{recordId:null,PUCurrencyId:"",PUSiteId:"",PUFIIntegration:"",POSHPVarPct:""},maxAccess:U,validateOnChange:!0,validationSchema:i.Ry({POSHPVarPct:i.Rx().min(0).max(100)}),onSubmit:async e=>{try{var r=[];Object.entries(e).forEach((e,n)=>{let[a,t]=e;C.includes(a)&&r.push({key:a,value:t})}),await n({extension:d.r.Defaults.set,record:JSON.stringify({sysDefaults:r})})&&f.ZP.success(a.Added)}catch(e){}}});return(0,t.useEffect)(()=>{!async function(){try{(await e({extension:d.r.Defaults.qry,parameters:"_filter="})).list.forEach(e=>{C.includes(e.key)&&p.setFieldValue(e.key,parseInt(e.value))})}catch(e){}}()},[]),(0,r.jsx)(g.Z,{onSave:p.handleSubmit,maxAccess:U,children:(0,r.jsx)(h.R,{children:(0,r.jsx)(y.Q,{children:(0,r.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{endpointId:d.r.Currency.qry,name:"PUCurrencyId",label:l.currency,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:p.values,valueField:"recordId",displayField:"name",maxAccess:U,onChange:(e,n)=>{p.setFieldValue("PUCurrencyId",n?null==n?void 0:n.recordId:"")},error:p.touched.PUCurrencyId&&!!p.errors.PUCurrencyId})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{endpointId:m.$.Site.qry,name:"PUSiteId",label:l.site,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:p.values,valueField:"recordId",displayField:"name",maxAccess:U,onChange:(e,n)=>{p.setFieldValue("PUSiteId",n?null==n?void 0:n.recordId:"")},error:p.touched.PUSiteId&&!!p.errors.PUSiteId})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{datasetId:I.v.SA_FI_INTEGRATION,name:"PUFIIntegration",label:l.financialIntegration,valueField:"key",displayField:"value",values:p.values,maxAccess:U,onChange:(e,n)=>{p.setFieldValue("PUFIIntegration",n?null==n?void 0:n.key:"")},error:p.touched.PUFIIntegration&&!!p.errors.PUFIIntegration})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,children:(0,r.jsx)(x.Z,{name:"POSHPVarPct",label:l.POSHPVarPct,value:p.values.POSHPVarPct,onChange:p.handleChange,allowNegative:!1,maxLength:3,decimalScale:0,onClear:()=>p.setFieldValue("POSHPVarPct",""),error:p.touched.POSHPVarPct&&!!p.errors.POSHPVarPct})})]})})})})},C=()=>(0,r.jsx)(l.ut,{datasetId:u.i.PUSettings,labelKey:"puSettings",Component:U})}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=84475)}),_N_E=e.O()}]);