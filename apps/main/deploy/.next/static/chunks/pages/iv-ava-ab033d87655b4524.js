(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93910],{11183:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/iv-ava",function(){return a(47277)}])},64581:function(e,t){"use strict";t.Z={src:"/_next/static/media/imgSerials.d1ee59bb.png",height:17,width:23,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAIVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt0UjBAAAAC3RSTlMCZzsmQ6RbWbaSTwNdgTwAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAArSURBVHicY2BiZ2BgYOBiZmBmYmRjZGRhYGBg4eBkZWVDYjAzMbKDpWCKARB/AJwjPQgCAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:6}},4831:function(e,t){"use strict";t.Z={src:"/_next/static/media/lot.bca31410.png",height:19,width:20,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVMaXEREBARDw8TEhIPDw8LCwsPDQ4RDg4SEA8SEBAPDQ0QEBASEBATERJjgqF5AAAADnRSTlMAcEkZIwlago8+NmagwZFCgWsAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA4SURBVHicFcbHEcAgEACxvRzA/bfrQS+By4gDhCK5L3IqKyDd6+vAh1FTw5Ttvga5ekUMrOtoxg8kgwEghNgcNAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},47277:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var i=a(52322),r=a(2784),n=a(69387),d=a(65950),l=a(26612),s=a(61802),A=a(71987),c=a(33625),o=a(31389),u=a(62362),m=a(36908),h=a(55010),f=a(64581),x=a(4831),p=a(23925),g=a(44258),N=a(60218),y=a(96577),b=a.n(y),w=a(5088),R=a(65215),_=e=>{let{labels:t,obj:a,access:l}=e,{getRequest:s}=(0,r.useContext)(d.$),[c,m]=(0,r.useState)([]);async function h(){m(await s({extension:R.$.AvailabilitySerial.qry,parameters:"_itemId=".concat(a.itemId,"&_siteId=").concat(a.siteId,"&_srlNo=&_startAt=0&_pageSize=50")}))}let{refetch:f,paginationParameters:x}=(0,A.J)({queryFn:h,endpointId:R.$.AvailabilitySerial.qry});(0,r.useEffect)(()=>{h()},[]);let p=[{field:"srlNo",headerName:t.serialNo,flex:1},{field:"weight",headerName:t.weight,flex:1},{field:"statusName",headerName:t.status,flex:1},{field:"pcs",headerName:t.pieces,flex:1}];return(0,i.jsx)(o.R,{children:(0,i.jsx)(u.Q,{children:(0,i.jsx)(n.Z,{name:"serial",columns:p,gridData:c,rowId:["sku"],pageSize:50,paginationType:"api",paginationParameters:x,maxAccess:l,refetch:f})})})},j=e=>{let{labels:t,obj:a}=e,{getRequest:l}=(0,r.useContext)(d.$),[s,A]=(0,r.useState)([]);async function c(){A(await l({extension:R.$.AvailabilityLot.qry,parameters:"_itemId=".concat(a.itemId,"&_siteId=").concat(a.siteId)}))}let[m,h]=(0,r.useState)([]);async function f(){let e=await l({extension:R.$.LotCategory.get,parameters:"_recordId=".concat(a.lotCategoryId)}),i=[{field:"lotRef",headerName:t.lotNumber,flex:1},{field:"onHand",headerName:t.qtyOnHand,flex:1}];e.record.udd1&&i.push({field:"udd1",headerName:e.record.udd1,flex:1,type:"date"}),e.record.udd2&&i.push({field:"udd2",headerName:e.record.udd2,flex:1,type:"date"}),e.record.udn1&&i.push({field:"udn1",headerName:e.record.udn1,flex:1}),e.record.udn2&&i.push({field:"udn2",headerName:e.record.udn2,flex:1}),e.record.udt1&&i.push({field:"udt1",headerName:e.record.udt1,flex:1}),e.record.udt2&&i.push({field:"udt2",headerName:e.record.udt2,flex:1}),h(i)}return(0,r.useEffect)(()=>{f(),c()},[]),(0,i.jsx)(o.R,{children:(0,i.jsx)(u.Q,{children:(0,i.jsx)(n.Z,{name:"lot",columns:m,gridData:s,rowId:["lotId"],isLoading:!1,pageSize:50,pagination:!1,maxAccess:maxAccess})})})},I=a(91406),C=e=>{let{obj:t,labels:a,access:l}=e,{getRequest:A}=(0,r.useContext)(d.$),{stack:m}=(0,s.zY)(),[h,y]=(0,r.useState)([]);async function C(){var e;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:i=0,_pageSize:r=50}=a,n=await A({extension:R.$.Availability.qry,parameters:"_itemId=".concat(t.itemId,"&_siteId=",0,"&_startAt=").concat(i,"&_pageSize=").concat(r,"&filter=")}),d=null==n?void 0:null===(e=n.list)||void 0===e?void 0:e.filter(e=>e.siteRef&&e.siteName);return y({...n,list:d}),{...n,_startAt:i}}(0,r.useEffect)(()=>{C()},[]);let E=[{field:"siteRef",headerName:a.siteRef,flex:1},{field:"siteName",headerName:a.siteName,flex:1},{field:"onhand",headerName:a.onHand,flex:1,type:"number"},{field:"S/L",flex:.5,headerName:"S/L",cellRenderer:e=>{let{trackBy:t}=e.data;return 1===t||2===t?(0,i.jsx)(p.Z,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:(0,i.jsx)(g.Z,{size:"small",onClick:()=>1===t?S(e.data):Z(e.data),children:(0,i.jsx)(b(),{src:1===t?f.Z:x.Z,width:1===t?25:18,height:18,alt:1===t?a.serial:a.lot})})}):null}}],S=e=>{m({Component:_,props:{labels:a,obj:e,access:l},width:600,height:400,title:a.serialNo})},Z=e=>{m({Component:j,props:{labels:a,obj:e,access:l},width:1150,height:450,title:a.lotAva})};return(0,i.jsxs)(o.R,{children:[(0,i.jsx)(c.g,{children:(0,i.jsxs)(N.ZP,{container:!0,spacing:1.5,m:1,children:[(0,i.jsx)(N.ZP,{item:!0,xs:7,children:(0,i.jsx)(w.Z,{label:a.sku,value:t.sku,readOnly:!0})}),(0,i.jsx)(N.ZP,{item:!0,xs:7,children:(0,i.jsx)(w.Z,{label:a.name,value:t.name,readOnly:!0})}),(0,i.jsx)(N.ZP,{item:!0,xs:7,children:(0,i.jsx)(I.Z,{label:a.onHand,value:t.qty,readOnly:!0})})]})}),(0,i.jsx)(u.Q,{children:(0,i.jsx)(n.Z,{name:"availabilityList",columns:E,gridData:h,rowId:["siteRef"],maxAccess:l,pageSize:50,pagination:!1})})]})},E=()=>{let{getRequest:e}=(0,r.useContext)(d.$),{stack:t}=(0,s.zY)();async function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:a=0,_pageSize:i=50,params:r}=t;return{...await e({extension:h.P.Report408,parameters:"_startAt=".concat(a,"&_pageSize=").concat(i,"&_params=").concat(r||"","&exId=")}),_startAt:a}}async function f(e){let{filters:t,pagination:i}=e;return a({_startAt:i._startAt||0,params:null==t?void 0:t.params})}let{query:{data:x},labels:p,paginationParameters:g,refetch:N,access:y,filterBy:b}=(0,A.J)({queryFn:a,endpointId:h.P.Report408,datasetId:l.i.AvailabilitiesGrid,filter:{filterFn:f}}),w=[{field:"sku",headerName:p.sku,flex:1},{field:"name",headerName:p.name,flex:1},{field:"unitCost",headerName:p.unitCost,flex:1,type:"number"},{field:"unitPrice",headerName:p.unitPrice,flex:1,type:"number"},{field:"qty",headerName:p.qty,flex:1,type:"number"},,{field:"netWeight",headerName:p.netWeight,flex:1,type:"number"},{field:"netVolume",headerName:p.netVolume,flex:1,type:"number"},{field:"netCost",headerName:p.netCost,flex:1,type:"number"},{field:"netPrice",headerName:p.netPrice,flex:1,type:"number"}];return(0,i.jsxs)(o.R,{children:[(0,i.jsx)(c.g,{children:(0,i.jsx)(m.Z,{hasSearch:!1,maxAccess:y,filterBy:b,reportName:"IV408"})}),(0,i.jsx)(u.Q,{children:(0,i.jsx)(n.Z,{name:"table",columns:w,gridData:x,rowId:["itemId"],maxAccess:y,onEdit:e=>{t({Component:C,props:{labels:p,obj:e,access:y},width:800,height:550,title:p.skuAva})},refetch:N,pageSize:50,paginationParameters:g,paginationType:"api"})})]})}},55010:function(e,t,a){"use strict";a.d(t,{P:function(){return r}});let i="RG.IV.asmx/",r={Report403:i+"IV403_p",Report408:i+"IV408_p",Report451:i+"IV451",Report415:i+"IV415b"}}},function(e){e.O(0,[92515,2494,36908,49774,92888,40179],function(){return e(e.s=11183)}),_N_E=e.O()}]);