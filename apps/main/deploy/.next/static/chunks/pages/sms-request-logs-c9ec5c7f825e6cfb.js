(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12703],{83679:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sms-request-logs",function(){return t(23264)}])},23264:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return _}});var s=t(52322),r=t(60218),d=t(2784),l=t(71987),n=t(65950),u=t(69387),i=t(26612),o=t(8661),c=t(27723),m=t(85325),f=t(84100),p=t(38449),h=t(31389),x=t(33625),I=t(62362),_=()=>{let{getRequest:e}=(0,d.useContext)(n.$),{user:a}=(0,d.useContext)(m.V),t=a.languageId,_=f.v.MODULE,[g,S]=(0,d.useState)({moduleId:"10",resourceId:""});async function v(a){let{filters:t,pagination:s}=a;return t&&(null==t?void 0:t.resourceId)?{...await e({extension:p.r.SMSRequest.page,parameters:"_resourceId=".concat(null==t?void 0:t.resourceId,"&_startAt=").concat((null==s?void 0:s._startAt)||0,"&_pageSize=50")}),_startAt:(null==s?void 0:s._startAt)||0}:{list:[]}}let{query:{data:y},refetch:N,labels:j,filterBy:q,access:R,filters:k,paginationParameters:w}=(0,l.J)({datasetId:i.i.SmsRequestLog,filter:{endpointId:p.r.SMSRequest.page,filterFn:v}}),b=e=>{e&&q("resourceId",e)};return(0,s.jsxs)(h.R,{children:[(0,s.jsx)(x.g,{children:(0,s.jsx)(c.Z,{maxAccess:R,onSearch:e=>{q("qry",e)},labels:j,leftSection:(0,s.jsx)(r.ZP,{item:!0,xs:7,children:(0,s.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(r.ZP,{item:!0,xs:5,children:(0,s.jsx)(o.Z,{endpointId:p.r.KeyValueStore,parameters:"_dataset=".concat(_,"&_language=").concat(t),label:j.Module,name:"moduleId",values:g,valueField:"key",displayField:"value",required:!0,onChange:(e,a)=>{S({moduleId:(null==a?void 0:a.key)||"10",resourceId:""})},sx:{pr:2}})}),(0,s.jsx)(r.ZP,{item:!0,xs:7,children:(0,s.jsx)(o.Z,{endpointId:p.r.ModuleClassRES.qry,parameters:"_moduleId=".concat(g.moduleId,"&_filter="),label:j.ResourceId,name:"resourceId",values:g,required:!0,valueField:"key",displayField:"value",onChange:(e,a)=>{b((null==a?void 0:a.key)||""),S({...g,resourceId:(null==a?void 0:a.key)||""})}})})]})})})}),(0,s.jsx)(I.Q,{children:(0,s.jsx)(u.Z,{columns:[{field:"masterRef",headerName:j.MasterRef},{field:"smsRequestDate",headerName:j.SmsRequestDate,type:"date"},{field:"reference",headerName:j.Reference},{field:"mobileNo",headerName:j.MobileNo},{field:"smsBody",headerName:j.SmsBody,wrapText:!0,autoHeight:!0,flex:1},{field:"smsStatusName",headerName:j.SmsStatus}],gridData:y&&(null==k?void 0:k.resourceId)?y:{list:[]},rowId:["recordId"],pageSize:50,maxAccess:R,refetch:N,paginationParameters:w,paginationType:"api"})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=83679)}),_N_E=e.O()}]);