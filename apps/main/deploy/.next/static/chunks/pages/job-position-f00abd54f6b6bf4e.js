(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61893],{52875:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/job-position",function(){return r(62514)}])},62514:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var s=r(52322),a=r(2784),n=r(62202),o=r(69387),i=r(27723),d=r(65950),l=r(71987),c=r(26612),g=r(31389),p=r(33625),u=r(62362),P=r(61802),m=r(19473),T=r(54736),y=r(60218),h=r(48601),q=r(82737),f=r(5088),x=r(80983),E=r(21581);function R(e){let{labels:t,maxAccess:r,recordId:o}=e,{getRequest:i,postRequest:p}=(0,a.useContext)(d.$),{platformLabels:P}=(0,a.useContext)(m.l),R=(0,l.E)({endpointId:T.m.JobPosition.page}),{formik:S}=(0,x.c)({initialValues:{recordId:o,reference:"",name:"",jobDescription:""},maxAccess:r,validateOnChange:!0,validationSchema:h.Ry({reference:h.Z_().required(),name:h.Z_().required()}),onSubmit:async e=>{let t=await p({extension:T.m.JobPosition.set,record:JSON.stringify(e)});e.recordId||S.setFieldValue("recordId",t.recordId),n.ZP.success(e.recordId?P.Edited:P.Added),R()}}),W=!!S.values.recordId;return(0,a.useEffect)(()=>{!async function(){if(o){let e=await i({extension:T.m.JobPosition.get,parameters:"_recordId=".concat(o)});S.setValues(e.record)}}()},[]),(0,s.jsx)(q.Z,{resourceId:c.i.JobPosition,form:S,maxAccess:r,editMode:W,children:(0,s.jsx)(g.R,{children:(0,s.jsx)(u.Q,{children:(0,s.jsxs)(y.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(y.ZP,{item:!0,xs:12,children:(0,s.jsx)(f.Z,{name:"reference",label:t.reference,value:S.values.reference,required:!0,maxLength:"10",maxAccess:r,onChange:S.handleChange,onClear:()=>S.setFieldValue("reference",""),error:S.touched.reference&&!!S.errors.reference})}),(0,s.jsx)(y.ZP,{item:!0,xs:12,children:(0,s.jsx)(f.Z,{name:"name",label:t.name,value:S.values.name,required:!0,maxLength:"30",maxAccess:r,onChange:S.handleChange,onClear:()=>S.setFieldValue("name",""),error:S.touched.name&&!!S.errors.name})}),(0,s.jsx)(y.ZP,{item:!0,xs:12,children:(0,s.jsx)(E.Z,{name:"jobDescription",label:t.jobDescription,value:S.values.jobDescription,maxLength:"500",rows:3,maxAccess:r,onChange:S.handleChange,onClear:()=>S.setFieldValue("jobDescription",""),error:S.touched.jobDescription&&!!S.errors.jobDescription})})]})})})})}var S=()=>{let{getRequest:e,postRequest:t}=(0,a.useContext)(d.$),{platformLabels:r}=(0,a.useContext)(m.l),{stack:y}=(0,P.zY)();async function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:s=50}=t;return{...await e({extension:T.m.JobPosition.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(s,"&filter=")}),_startAt:r}}let{query:{data:q},labels:f,refetch:x,invalidate:E,paginationParameters:S,access:W}=(0,l.J)({queryFn:h,endpointId:T.m.JobPosition.page,datasetId:c.i.JobPosition}),b=[{field:"reference",headerName:f.reference,flex:1},{field:"name",headerName:f.name,flex:1},{field:"jobDescription",headerName:f.jobDescription,flex:1}],O=async e=>{await t({extension:T.m.JobPosition.del,record:JSON.stringify(e)}),E(),n.ZP.success(r.Deleted)};function M(e){y({Component:R,props:{labels:f,recordId:e,maxAccess:W},width:600,height:320,title:f.title})}return(0,s.jsxs)(g.R,{children:[(0,s.jsx)(p.g,{children:(0,s.jsx)(i.Z,{onAdd:()=>{M()},maxAccess:W})}),(0,s.jsx)(u.Q,{children:(0,s.jsx)(o.Z,{name:"table",columns:b,gridData:q,rowId:["recordId"],onEdit:e=>{M(null==e?void 0:e.recordId)},onDelete:O,pageSize:50,paginationType:"api",maxAccess:W,refetch:x,paginationParameters:S})})]})}},54736:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});let s="RS.asmx/",a={RepairName:{page:s+"pageRNA",qry:s+"qryRNA",get:s+"getRNA",set:s+"setRNA",del:s+"delRNA"},WorkOrderTypes:{page:s+"pageWOT",qry:s+"qryWOT",get:s+"getWOT",set:s+"setWOT",del:s+"delWOT"},RepairType:{page:s+"pageRT",get:s+"getRT",set:s+"setRT",del:s+"delRT"},SpareParts:{snapshot:s+"snapshotSP",page:s+"pageSP",get:s+"getSP",set:s+"setSP",del:s+"delSP"},InspectionTemplate:{get2:s+"get2ITE",page:s+"pageITE",set2:s+"set2ITE",del:s+"delITE"},Department:{page:s+"pageDEP",get:s+"getDEP",set:s+"setDEP",del:s+"delDEP"},Warehouse:{page:s+"pageWH",qry:s+"qryWH",set:s+"setWH",get:s+"getWH",del:s+"delWH"},PreventiveMaintenanceTasks:{qry:s+"qryPMT",page:s+"pagePMT",qry:s+"qryPMT",get:s+"getPMT",set:s+"setPMT",del:s+"delPMT"},Equipment:{qry:s+"qryEQP",page:s+"pageEQP",get:s+"getEQP",set:s+"setEQP",del:s+"delEQP",snapshot:s+"snapshotEQP"},SpManufacturer:{page:s+"pageSPM",get:s+"getSPM",set:s+"setSPM",del:s+"delSPM",qry:s+"qrySPM"},JobPosition:{page:s+"pagePOS",qry:s+"qryPOS",get:s+"getPOS",set:s+"setPOS",del:s+"delPOS"},SpCategory:{page:s+"pageSPC",get:s+"getSPC",set:s+"setSPC",del:s+"delSPC",qry:s+"qrySPC"},MaintenanceTemplates:{page:s+"pageMTE",get:s+"getMTE",set:s+"setMTE",del:s+"delMTE",qry:s+"qryMTE"},MaintenanceTemplateTask:{qry:s+"qryMTT",get:s+"getMTT",set:s+"setMTT",del:s+"delMTT"},RsLabors:{qry:s+"qryLBR",snapshot:s+"snapshotLBR",page:s+"pageLBR",set:s+"setLBR",get:s+"getLBR",del:s+"delLBR",qry:s+"qryLBR"},WorkOrder:{page:s+"qryWO",get:s+"getWO",set:s+"setWO",del:s+"delWO",post:s+"postWO"},WorkTask:{qry:s+"qryWTK",get:s+"getWTK",set:s+"setWTK",del:s+"delWTK"},EquipmentType:{qry:s+"qryEQT",get:s+"getEQT",set:s+"setEQT",del:s+"delEQT"},WorkOrderParts:{qry:s+"qryWOP",set2:s+"set2WOP"},WorkOrderLabors:{qry:s+"qryWOL",set2:s+"set2WOL"},RepairRequest:{page:s+"pageREQ",get:s+"getREQ",set:s+"setREQ",del:s+"delREQ"},Employee:{snapshot:s+"snapshotEMP"},RepairType:{qry:s+"qryRT"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=52875)}),_N_E=e.O()}]);