(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38330],{87280:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mc-rate-types",function(){return r(86120)}])},86120:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return I}});var a=r(52322),t=r(2784),c=r(62202),s=r(69387),i=r(27723),o=r(65950),d=r(1251),l=r(60218),u=r(48601),f=r(82737),p=r(71987),h=r(26612),m=r(5088),x=r(80983),y=r(31389),g=r(62362),_=r(19473);function q(e){let{labels:n,maxAccess:r,recordId:s}=e,{getRequest:i,postRequest:q}=(0,t.useContext)(o.$),{platformLabels:w}=(0,t.useContext)(_.l),C=(0,p.E)({endpointId:d.q.RateType.page}),{formik:I}=(0,x.c)({initialValues:{recordId:s||null,reference:"",name:""},maxAccess:r,validateOnChange:!0,validationSchema:u.Ry({reference:u.Z_().required(),name:u.Z_().required()}),onSubmit:async e=>{let n=await q({extension:d.q.RateType.set,record:JSON.stringify(e)});C(),e.recordId||j(null==n?void 0:n.recordId),c.ZP.success(e.recordId?w.Edited:w.Added)}}),T=!!I.values.recordId;async function j(e){let n=await i({extension:d.q.RateType.get,parameters:"_recordId=".concat(e)});I.setValues(n.record)}return(0,t.useEffect)(()=>{!async function(){s&&await j(s)}()},[]),(0,a.jsx)(f.Z,{resourceId:h.i.RateType,form:I,maxAccess:r,editMode:T,children:(0,a.jsx)(y.R,{children:(0,a.jsx)(g.Q,{children:(0,a.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(l.ZP,{item:!0,xs:12,children:(0,a.jsx)(m.Z,{name:"reference",label:n.reference,value:I.values.reference,required:!0,maxAccess:r,maxLength:"30",onChange:I.handleChange,onClear:()=>I.setFieldValue("reference",""),error:I.touched.reference&&!!I.errors.reference})}),(0,a.jsx)(l.ZP,{item:!0,xs:12,children:(0,a.jsx)(m.Z,{name:"name",label:n.name,value:I.values.name,required:!0,rows:2,maxAccess:r,onChange:I.handleChange,onClear:()=>I.setFieldValue("name",""),error:I.touched.name&&!!I.errors.name})})]})})})})}var w=r(61802),C=r(33625),I=()=>{let{getRequest:e,postRequest:n}=(0,t.useContext)(o.$),{stack:r}=(0,w.zY)(),{platformLabels:l}=(0,t.useContext)(_.l);async function u(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:r=0,_pageSize:a=50}=n;return{...await e({extension:d.q.RateType.page,parameters:"_startAt=".concat(r,"&_pageSize=").concat(a,"&filter=")}),_startAt:r}}async function f(n){let{options:r={},filters:a}=n,{_startAt:t=0,_pageSize:c=50}=r;return await e({extension:d.q.RateType.snapshot,parameters:"_startAt=".concat(t,"&_pageSize=").concat(c,"&_filter=").concat(a.qry)})}let m=(0,p.E)({endpointId:d.q.RateType.page}),{query:{data:x},labels:I,filterBy:T,clearFilter:j,paginationParameters:R,refetch:v,access:A}=(0,p.J)({queryFn:u,endpointId:d.q.RateType.page,datasetId:h.i.RateType,filter:{filterFn:f}}),Z=[{field:"reference",headerName:I.reference,flex:1},{field:"name",headerName:I.name,flex:1}],E=async e=>{await n({extension:d.q.RateType.del,record:JSON.stringify(e)}),m(),c.ZP.success(l.Deleted)};function S(e){r({Component:q,props:{labels:I,recordId:e,maxAccess:A},width:600,height:300,title:I.rateType})}return(0,a.jsxs)(y.R,{children:[(0,a.jsx)(C.g,{children:(0,a.jsx)(i.Z,{onAdd:()=>{S()},maxAccess:A,onSearch:e=>{T("qry",e)},onSearchClear:()=>{j("qry")},labels:I,inputSearch:!0})}),(0,a.jsx)(g.Q,{children:(0,a.jsx)(s.Z,{columns:Z,gridData:x,rowId:["recordId"],onEdit:e=>{S(null==e?void 0:e.recordId)},onDelete:E,isLoading:!1,pageSize:50,paginationType:"api",maxAccess:A,refetch:v,paginationParameters:R})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=87280)}),_N_E=e.O()}]);