(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35835],{32389:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cc-cash-notes/forms/CcCashNotesForm",function(){return r(13585)}])},13585:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return x}});var c=r(52322),s=r(60218),t=r(2784),o=r(48601),a=r(82737),d=r(62202),u=r(65950),l=r(26612),i=r(57393),y=r(80983),h=r(91406),C=r(31389),f=r(62362),I=r(8661),m=r(38449),N=r(71987),p=r(19473);function x(e){let{labels:n,maxAccess:r,record:x,recordId:g,window:T}=e,{getRequest:_,postRequest:v}=(0,t.useContext)(u.$),{platformLabels:R}=(0,t.useContext)(p.l),O=(0,N.E)({endpointId:i.s.CcCashNotes.page}),{formik:X}=(0,y.c)({initialValues:{recordId:g,currencyId:"",note:null},maxAccess:r,validateOnChange:!0,validationSchema:o.Ry({currencyId:o.Z_().required(),note:o.Z_().required()}),onSubmit:async e=>{let n=X.values.currencyId,r=X.values.note;await v({extension:i.s.CcCashNotes.set,record:JSON.stringify(e)}),n||r?d.ZP.success(R.Edited):d.ZP.success(R.Added),X.setFieldValue("recordId",String(10*e.currencyId)+e.note),T.close(),O()}}),Z=!!X.values.recordId;return(0,t.useEffect)(()=>{!async function(){if(x&&x.currencyId&&x.note&&g){let e=await _({extension:i.s.CcCashNotes.get,parameters:"_currencyId=".concat(x.currencyId,"&_note=").concat(x.note)});X.setValues({...e.record,recordId:String(10*e.record.currencyId)+e.record.note})}}()},[]),(0,c.jsx)(a.Z,{resourceId:l.i.CashNote,form:X,maxAccess:r,editMode:Z,children:(0,c.jsx)(C.R,{children:(0,c.jsx)(f.Q,{children:(0,c.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,c.jsx)(s.ZP,{item:!0,xs:12,children:(0,c.jsx)(I.Z,{endpointId:m.r.Currency.qry,name:"currencyId",label:n.currencyName,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:X.values,required:!0,readOnly:Z,maxAccess:r,onChange:(e,n)=>{X.setFieldValue("currencyId",(null==n?void 0:n.recordId)||null)},error:X.touched.currencyId&&!!X.errors.currencyId})}),(0,c.jsx)(s.ZP,{item:!0,xs:12,children:(0,c.jsx)(h.Z,{name:"note",label:n.currencyNote,value:X.values.note,required:!0,readOnly:Z,maxAccess:r,onChange:X.handleChange,onClear:()=>X.setFieldValue("note",""),error:X.touched.note&&!!X.errors.note})})]})})})})}},57393:function(e,n,r){"use strict";r.d(n,{s:function(){return s}});let c="CC.asmx/",s={CashCountTransaction:{snapshot:c+"snapshotTRX",qry:c+"qryTRX",get2:c+"get2TRX",set2:c+"set2TRX",post:c+"postTRX",close:c+"closeTRX",reopen:c+"reopenTRX",del:c+"delTRX"},Generate:{generate:c+"generateTFR"},CcCashNotes:{qry:c+"qryNOT",get:c+"getNOT",set:c+"setNOT",del:c+"delNOT",page:c+"pageNOT"}}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=32389)}),_N_E=e.O()}]);