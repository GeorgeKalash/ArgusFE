(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73095],{82395:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/credit-order",function(){return r(46882)}])},46882:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(52322),a=r(2784),s=r(71987),d=r(65950),o=r(27723),l=r(69387),c=r(62202),i=r(17627),u=r(61802),y=r(26612),g=r(47441),p=r(31389),C=r(33625),f=r(62362),I=r(19473),q=r(98345),h=r(7121),m=r(96026),v=()=>{var e,t;let{postRequest:r,getRequest:v}=(0,a.useContext)(d.$),{platformLabels:P,userDefaultsData:S}=(0,a.useContext)(I.l),{stack:O}=(0,u.zY)(),{stack:R}=(0,m.V)(),x=parseInt(null==S?void 0:null===(t=S.list)||void 0===t?void 0:null===(e=t.find(e=>{let{key:t}=e;return"plantId"===t}))||void 0===e?void 0:e.value);async function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:r=50}=e;return{...await v({extension:i.s.CreditOrder.page,parameters:"_startAt=".concat(t,"&_pageSize=").concat(r,"&filter=")}),_startAt:t}}async function N(e){let{qry:t}=e;return await v({extension:i.s.CreditOrder.snapshot,parameters:"_filter=".concat(t)})}let{query:{data:E},labels:T,paginationParameters:A,search:F,refetch:w,clear:_,access:G,invalidate:b}=(0,s.J)({queryFn:D,endpointId:i.s.CreditOrder.page,datasetId:y.i.CreditOrder,search:{endpointId:i.s.CreditOrder.snapshot,searchFn:N}}),{proxyAction:M}=(0,q.G)({functionId:h.J.CurrencyCreditOrderPurchase,action:k,hasDT:!1});async function k(e){if(!e&&!x){R({message:T.defaultPlant});return}O({Component:g.Z,props:{recordId:e}})}let B=async()=>{M()},X=async e=>{await r({extension:i.s.CreditOrder.del,record:JSON.stringify(e)}),b(),c.ZP.success(P.Deleted)};return(0,n.jsxs)(p.R,{children:[(0,n.jsx)(C.g,{children:(0,n.jsx)(o.Z,{maxAccess:G,onAdd:B,onSearch:F,onSearchClear:_,labels:T,inputSearch:!0})}),(0,n.jsx)(f.Q,{children:(0,n.jsx)(l.Z,{name:"table",columns:[{field:"reference",headerName:T.reference,flex:1},{field:"date",headerName:T.date,flex:1,type:"date"},{field:"plantRef",headerName:T.plant},{field:"corName",headerName:T.correspondent,flex:1},{field:"currencyRef",headerName:T.currency,flex:1},{field:"amount",headerName:T.amount,flex:1,type:"number"},{field:"rsName",headerName:T.releaseStatus,flex:1},{field:"statusName",headerName:T.status,flex:1},{field:"wipName",headerName:T.wip,flex:1}],gridData:E,rowId:["recordId"],onEdit:e=>{k(e.recordId)},refetch:w,onDelete:X,pageSize:50,maxAccess:G,paginationParameters:A,paginationType:"api"})})]})}},53621:function(e,t,r){"use strict";r.d(t,{d:function(){return a}});let n="RTSET.asmx/",a={Interface:{qry:n+"qryITF",page:n+"pageITF",get:n+"getITF",set:n+"setITF",del:n+"delITF"},ProductMaster:{qry:n+"qryPRO",page:n+"pagePRO",get:n+"getPRO",set:n+"setPRO",del:n+"delPRO",snapshot:n+"snapshotPRO"},ProductCountries:{qry:n+"qryPCO",set2:n+"set2PCO"},ProductMonetaries:{qry:n+"qryPMO",set2:n+"set2PMO"},ProductDispersal:{qry:n+"qryPDI",get:n+"getPDI",set:n+"setPDI",del:n+"delPDI"},ProductSchedules:{qry:n+"qryPSC",set2:n+"set2PSC"},ProductScheduleRanges:{qry:n+"qryPSR",set2:n+"set2PSR"},ProductScheduleFees:{qry:n+"qryPSF",set2:n+"set2PSF"},ProductDispersalAgents:{qry:n+"qryPDA",set2:n+"set2PDA"},Correspondent:{page:n+"pageCOR",qry:n+"qryCOR",qry2:n+"qry2COR",get:n+"getCOR",set:n+"setCOR",del:n+"delCOR",snapshot:n+"snapshotCOR"},CorrespondentCountry:{qry:n+"qryCCO",get:n+"getCCO",set2:n+"set2CCO",del:n+"delCCO"},CorrespondentCurrency:{qry:n+"qryCCU",get:n+"getCCU",set2:n+"set2CCU",del:n+"delCCU"},CorrespondentAgents:{qry:n+"qryAGT",page:n+"pageAGT",get:n+"getAGT",set:n+"setAGT",del:n+"delAGT"},CorrespondentAgentBranches:{qry:n+"qryABR",page:n+"pageABR",get:n+"getABR",set:n+"setABR",del:n+"delABR"},CorrespondentExchangeMap:{qry:n+"qryEXC",set2:n+"set2EXC"},CurrencyExchangeMap:{qry:n+"qryEXG",set2:n+"set2EXG"},CorrespondentExchangeBuyMap:{qry:n+"qryEXB",set2:n+"set2EXB"},ExchangeRates:{get:n+"getEXB",qry:n+"qryEXG2",set2:n+"set2EXB"},RtDefault:{qry:n+"qryDE",set2:n+"set2DE"},Profession:{qry:n+"qryPFN",page:n+"pagePFN",get:n+"getPFN",set:n+"setPFN",del:n+"delPFN",snapshot:n+"snapshotPFN"},ClientIndividual:{qry:n+"qryCLI"},SalaryRange:{qry:n+"qrySRA",page:n+"pageSRA",get:n+"getSRA",set:n+"setSRA",del:n+"delSRA"},SourceOfIncome:{qry:n+"qrySI",page:n+"pageSI",snapshot:n+"snapshotSI",get:n+"getSI",set:n+"setSI",del:n+"delSI"},CorrespondentControl:{qry:n+"qryCCL",set:n+"set2CCL"},InterfaceMaps:{qry:n+"qryIFM",get:n+"getIFM",set2:n+"set2IFM"},SourceOfIncomeType:{qry:n+"qrySIT",snapshot:n+"snapshotSIT",page:n+"pageSIT",get:n+"getSIT",set:n+"setSIT",del:n+"delSIT"},ProfessionGroups:{qry:n+"qryPFG",page:n+"pagePFG",snapshot:n+"snapshotPFG",get:n+"getPFG",set:n+"setPFG",del:n+"delPFG"},CorrespondentGroup:{qry:n+"qryCGP",page:n+"pageCGP",get:n+"getCGP",set:n+"setCGP",del:n+"delCGP"},ExtraIncome:{qry:n+"qryEI",get:n+"getEI",del:n+"delEI",page:n+"pageEI",snapshot:n+"snapshotEI",set:n+"setEI"},CountryRisk:{page:n+"pageCOU",get:n+"getCOU",set:n+"setCOU",del:n+"delCOU"},CorDispControl:{qry:n+"qryCDC",set2:n+"set2CDC"},CorrespondentDispersal:{qry:n+"qryCDM",get:n+"getCDM",del:n+"delCDM",set2:n+"set2CDM"},CorrespondentDispersalRate:{qry:n+"qryCDR",set2:n+"set2CDR"}}},1685:function(e,t,r){"use strict";r.d(t,{m:function(){return n}});let n=e=>{let t=window.sessionStorage.getItem(e);return t?JSON.parse(t):null}},98345:function(e,t,r){"use strict";r.d(t,{H:function(){return C},G:function(){return p}});var n=r(45300),a=r(2784),s=r(96026),d=r(38449);r(26612);var o=r(65947),l=r(1685);let c=async(e,t,r)=>{try{let n=await e({extension:t,parameters:r});return t.includes("qry")?n:n.record}catch(e){return null}},i=(e,t,r,n)=>{let a=(e=JSON.parse(JSON.stringify(e))).record.controls,s=a.find(e=>"reference"===e.controlId);return s?s.accessLevel=(null==t?void 0:t.mandatory)?o.$7:o.rr:(null==t?void 0:t.mandatory)?a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","reference"),accessLevel:(null==t?void 0:t.mandatory)?o.$7:o.rr}):(null==t?void 0:t.readOnly)?a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","reference"),accessLevel:(null==t?void 0:t.readOnly)?o.rr:o.$7}):a=e.record.controls.filter(e=>"reference"!=e.controlId),r&&a.push({sgId:0,resourceId:"",controlId:"".concat(n?n+".":"","dtId"),accessLevel:o.$7}),{...e,record:{...e.record,controls:a}}},u=async(e,t,r)=>{let n,a;switch(r){case"dtId":let s=(0,l.m)("userData"),o=null==s?void 0:s.userId;a="_userId=".concat(o,"&_functionId=").concat(t),n=d.r.UserFunction.get;break;case"glbSysNumberRange":a="_recordId=".concat(t),n=d.r.SystemFunction.get;break;case"DocumentType":a="_dgId=".concat(t,"&_startAt=",0,"&_pageSize=",50),n=d.r.DocumentType.qry;break;case"DcTypNumberRange":a="_recordId=".concat(t),n=d.r.DocumentType.get;break;case"isExternal":a="_recordId=".concat(t),n=d.r.NumberRange.get;break;default:return null}return await c(e,n,a)},y=async function(e){let t,r,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=!(arguments.length>4)||void 0===arguments[4]||arguments[4],c=arguments.length>5?arguments[5]:void 0,y=void 0===o&&s&&await u(e,s,"dtId"),g=null==y?void 0:y.dtId,p="",C=!0;if(y&&void 0===o||"nraId"===o){if(g){let r=await u(e,g,"DcTypNumberRange");t=null==r?void 0:r.nraId,C=!((null==r?void 0:r.activeStatus)<0),t||(p="Assign the document type to a number range")}if((!g||!C)&&l&&s){var f;let t=await u(e,s,"DocumentType");a=(null==t?void 0:null===(f=t.list)||void 0===f?void 0:f.filter(e=>(null==e?void 0:e.activeStatus)===1).length)>0}}if(("nraId"===o||void 0===o)&&s){if((!g||g)&&!t||t&&!C){let r=await u(e,s,"glbSysNumberRange");(t=null==r?void 0:r.nraId)&&a&&(a=!1),C=!0}p=t||a?"":"Assign the system Function to a number range"}o>0&&!t&&(t=o),t&&C?(r={readOnly:null==(n=await u(e,t,"isExternal"))||!n.external,mandatory:null!=n&&!!n.external},d&&(d=await i(d,r,a,c))):!t&&d&&(d=await i(d,r,a,c));let I=c?"".concat(c,".reference"):"reference";return{dtId:g,resetReference:null==r?void 0:r.readOnly,dcTypeRequired:a,reference:{fieldName:I,isEmpty:(null==n?void 0:n.external)!==void 0&&(null==n||!n.external)},errorMessage:p,maxAccess:d,selectNraId:o}};var g=r(65950);function p(e){let{functionId:t,action:r,hasDT:n}=e,{getRequest:d}=(0,a.useContext)(g.$),{stack:o}=(0,s.V)();return{proxyAction:async()=>{let e=await y(d,t,"",void 0,n);(null==e?void 0:e.errorMessage)?o({message:null==e?void 0:e.errorMessage}):await r()}}}function C(e){var t;let{functionId:r,access:d,hasDT:o,enabled:l=!0,objectName:c=""}=e,{getRequest:i}=(0,a.useContext)(g.$),{stack:u}=(0,s.V)(),[p,C]=(0,a.useState)(),f=async e=>{let t=await y(i,r,d,e,o,c);if(!t.errorMessage)return t;u({message:null==t?void 0:t.errorMessage})},I=(0,n.a)({retry:!1,staleTime:0,enabled:l,queryKey:[r,p,!!d,l],queryFn:p||"nraId"===p?()=>f(p):()=>f()});return{documentType:I.data,maxAccess:(null==I?void 0:null===(t=I.data)||void 0===t?void 0:t.maxAccess)||d,changeDT(e){C((null==e?void 0:e.nraId)||"nraId")}}}},30390:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(52322),a=r(60218);function s(e){let{hideonempty:t=!1,children:r,...s}=e;return(0,n.jsx)(a.ZP,{...s,className:t?"__hide-on-empty":"",children:r})}}},function(e){e.O(0,[78451,58974,47441,49774,92888,40179],function(){return e(e.s=82395)}),_N_E=e.O()}]);