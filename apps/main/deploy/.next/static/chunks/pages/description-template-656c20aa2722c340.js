(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99539],{14859:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/description-template",function(){return t(66854)}])},66854:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var a=t(52322),r=t(2784),i=t(62202),s=t(69387),c=t(27723),d=t(65950),o=t(25870),l=t(71987),u=t(26612),p=t(31389),m=t(33625),x=t(62362),h=t(60218),f=t(48601),g=t(82737),_=t(5088),I=t(80983),T=t(19473);function w(e){let{labels:n,maxAccess:t,recordId:s}=e,{getRequest:c,postRequest:m}=(0,r.useContext)(d.$),{platformLabels:w}=(0,r.useContext)(T.l),D=(0,l.E)({endpointId:o.H.DescriptionTemplate.page}),{formik:j}=(0,I.c)({initialValues:{recordId:null,name:""},maxAccess:t,validateOnChange:!0,validationSchema:f.Ry({name:f.Z_().required()}),onSubmit:async e=>{let n=await m({extension:o.H.DescriptionTemplate.set,record:JSON.stringify(e)});e.recordId||j.setValues({...e,recordId:n.recordId}),i.ZP.success(e.recordId?w.Edited:w.Added),D()}}),y=!!j.values.recordId;return(0,r.useEffect)(()=>{!async function(){if(s){let e=await c({extension:o.H.DescriptionTemplate.get,parameters:"_recordId=".concat(s)});j.setValues(e.record)}}()},[]),(0,a.jsx)(g.Z,{resourceId:u.i.Description_Template,form:j,maxAccess:t,editMode:y,children:(0,a.jsx)(p.R,{children:(0,a.jsx)(x.Q,{children:(0,a.jsx)(h.ZP,{container:!0,spacing:2,children:(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsx)(_.Z,{name:"name",label:n.name,value:j.values.name,required:!0,maxAccess:t,maxLength:"50",onChange:j.handleChange,onClear:()=>j.setFieldValue("name",""),error:j.touched.name&&!!j.errors.name})})})})})})}var D=t(61802),j=()=>{let{getRequest:e,postRequest:n}=(0,r.useContext)(d.$),{stack:t}=(0,D.zY)();async function h(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_startAt:t=0,_pageSize:a=50}=n;return{...await e({extension:o.H.DescriptionTemplate.page,parameters:"_startAt=".concat(t,"&_pageSize=").concat(a,"&filter=")}),_startAt:t}}let{query:{data:f},labels:g,paginationParameters:_,refetch:I,access:T}=(0,l.J)({queryFn:h,endpointId:o.H.DescriptionTemplate.page,datasetId:u.i.Description_Template}),j=(0,l.E)({endpointId:o.H.DescriptionTemplate.page}),y=[{field:"name",headerName:g.name,flex:1}];function C(e){t({Component:w,props:{labels:g,recordId:e,maxAccess:T},width:500,height:270,title:g.descriptionTemplate})}let E=async e=>{await n({extension:o.H.DescriptionTemplate.del,record:JSON.stringify(e)}),j(),i.ZP.success("Record Deleted Successfully")};return(0,a.jsxs)(p.R,{children:[(0,a.jsx)(m.g,{children:(0,a.jsx)(c.Z,{onAdd:()=>{C()},maxAccess:T})}),(0,a.jsx)(x.Q,{children:(0,a.jsx)(s.Z,{columns:y,gridData:f,rowId:["recordId"],onEdit:e=>{C(null==e?void 0:e.recordId)},onDelete:E,isLoading:!1,pageSize:50,paginationType:"api",paginationParameters:_,refetch:I,maxAccess:T})})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=14859)}),_N_E=e.O()}]);