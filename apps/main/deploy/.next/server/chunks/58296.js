exports.id=58296,exports.ids=[58296],exports.modules={96049:e=>{e.exports={phoneWrapper:"CustomPhoneNumber_phoneWrapper__VZqha",phoneLabel:"CustomPhoneNumber_phoneLabel__BuM0W",errorLabel:"CustomPhoneNumber_errorLabel__FoINr",phoneLabelRequired:"CustomPhoneNumber_phoneLabelRequired__Z5q83",phoneContainer:"CustomPhoneNumber_phoneContainer__rzZq0","react-tel-input":"CustomPhoneNumber_react-tel-input__n9G_N","flag-dropdown":"CustomPhoneNumber_flag-dropdown__lq2jJ","selected-flag":"CustomPhoneNumber_selected-flag__uw0Xx",flag:"CustomPhoneNumber_flag__r6NEo",arrow:"CustomPhoneNumber_arrow__yyOXJ","special-label":"CustomPhoneNumber_special-label__qkwDd",phoneClearButton:"CustomPhoneNumber_phoneClearButton__MgdOp",phoneClearIcon:"CustomPhoneNumber_phoneClearIcon__ggAfY","form-control":"CustomPhoneNumber_form-control__kdhs0",phoneDropdown:"CustomPhoneNumber_phoneDropdown__98Qtk"}},6943:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});let l={src:"/_next/static/media/history.18e0f9a6.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABqfk8+AAAADnRSTlMAMwm42MpLr5hThz0ia2PoVjIAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA2SURBVHicJcq3AcAwDASxe2YF77+uC6EGJs90QURBhQhni9VcaGFJGuOXZBl8KsdaL3M0sw8/H2IA9r2uA2cAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},65305:(e,a,t)=>{"use strict";t.d(a,{N:()=>i});let l="RTOW.asmx/",i={Country:{qry:l+"qryPCO2"},DispersalType:{qry:l+"qryPMO2"},Currency:{qry:l+"qryPMO3"},Agent:{qry:l+"qryPDA2"},ProductDispersalEngine:{qry:l+"qryPDE"},OutwardsCash:{qry:l+"qryOWC"},OutwardsOrder:{qry:l+"qryOWO",qry2:l+"qryOWO2",page:l+"pageOWO",get:l+"getOWO",get2:l+"get2OWO",set:l+"setOWO",set2:l+"set2OWO",del:l+"delOWO",close:l+"closeOWO",reopen:l+"reopenOWO",post:l+"postOWO",snapshot:l+"snapshotOWO"},OutwardsRequest:{get:l+"getOWX"},InwardSettlement:{qry:l+"qryIWS",page:l+"pageIWS",get:l+"getIWS",set:l+"setIWS",del:l+"delIWS",close:l+"closeIWS",reopen:l+"reopenIWS",post:l+"postIWS",snapshot:l+"snapshotIWS"},InwardsTransfer:{get:l+"getIW",set:l+"setIW",del:l+"delIW",snapshot:l+"snapshotIW",snapshot2:l+"snapshotIW2",close:l+"closeIW",reopen:l+"reopenIW",post:l+"postIW",open:l+"openIW"},InwardGLInformation:{get:l+"getIWI"},Beneficiary:{qry:l+"qryBEN",qry2:l+"qryBEN2",qry3:l+"qryBEN3",get:l+"getBEN",del:l+"delBEN",snapshot:l+"snapshotBEN",snapshot2:l+"snapshotBEN2 "},BeneficiaryBank:{qry:l+"qryBEB",get:l+"getBEB",set:l+"set2BEB",del:l+"delBEB"},BeneficiaryCash:{qry:l+"qryBEC",get:l+"getBEC",set:l+"set2BEC",del:l+"delBEC"},FeeSchedule:{qry:l+"qryFSC",page:l+"pageFSC",snapshot:l+"snapshotFSC",get:l+"getFSC",set:l+"setFSC",del:l+"delFSC"},FeeScheduleDetail:{qry:l+"qryFSD",get:l+"getFSD",set2:l+"set2FSD",del:l+"delFSD"},FeeScheduleOutwards:{qry:l+"qryFSO",page:l+"pageFSO",get:l+"getFSO",set:l+"setFSO",del:l+"delFSO"},FeeScheduleInwards:{qry:l+"qryFSI",page:l+"pageFSI",get:l+"getFSI",set:l+"setFSI",del:l+"delFSI"},OutwardGLInformation:{get:l+"getOWI"},AutoPostExclusion:{qry:l+"qryAPX",get:l+"getAPX",set:l+"setAPX",del:l+"delAPX",get2:l+"get2APX",set2:l+"set2APX"},OutwardsModification:{qry:l+"qryOWM",page:l+"pageOWM",snapshot:l+"snapshotOWM",get:l+"getOWM",set2:l+"set2OWM",del:l+"delOWM",post:l+"postOWM",reopen:l+"reopenOWM",close:l+"closeOWM"},Postoutwards:{qry:l+"qryOWT3",post2:l+"post2OWT"},OutwardsReturn:{page:l+"pageOWR",qry2:l+"qryOWR2",get:l+"getOWR",set:l+"setOWR",close:l+"closeOWR",reopen:l+"reopenOWR",post:l+"postOWR",snapshot:l+"snapshotOWR"},CorrespondentOutwards:{qry:l+"qryACE",set:l+"setACE"},ReceiptVouchers:{qry:l+"qryRV",page:l+"pageRV",get:l+"getRV",set:l+"setRV",set2:l+"set2RV",del:l+"delRV",post:l+"postRV",close:l+"closeRV",reopen:l+"reopenRV",snapshot:l+"snapshotRV"},OutwardsTransfer:{get:l+"getOWT",snapshot:l+"snapshotOWT",qry2:l+"qryOWT2"},UnassignedCountry:{unassigned:l+"unassignedCOU"},UnassignedCurrency:{unassigned:l+"unassignedCU"},UnassignedDispersalType:{unassigned:l+"unassignedDT"},AssignedCountry:{assigned:l+"assignedCOU"},AssignedCurrency:{assigned:l+"assignedCU"},AssignedDispersalType:{assigned:l+"assignedDT"},OutwardReturnSettlement:{qry:l+"qryORS",page:l+"pageORS",get:l+"getORS",get2:l+"get2ORS",set:l+"setORS",set2:l+"set2ORS",del:l+"delORS",post:l+"postORS",close:l+"closeORS",reopen:l+"reopenORS",snapshot:l+"snapshotORS"},OutwardReturnReason:{page:l+"pageOWRR",snapshot:l+"snapshotOWRR",qry:l+"qryOWRR",get:l+"getOWRR",set:l+"setOWRR",del:l+"delOWRR"}}},90052:(e,a,t)=>{"use strict";t.d(a,{Y:()=>i});var l=t(79660);let i=async(e,a,t)=>{let i="_key="+t;try{let t=await e({extension:a,parameters:i});if(t?.record?.value){let a=t.record.value;i="_recordId="+a;let n=await e({extension:l.r.NumberRange.get,parameters:i});if(n&&!n.record.external)return{readOnly:!0,mandatory:!1}}}catch(e){return{readOnly:!1,mandatory:!0,error:e}}return{readOnly:!1,mandatory:!0}}},16435:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.d(a,{Z:()=>g});var i=t(20997),n=t(92189),r=t.n(n),s=t(16689),d=t(25452),o=t.n(d);t(96389);var c=t(60520),u=t(88851),m=t(66829),h=t(96049),p=t.n(h),y=t(86085),I=t.n(y),x=e([c]);c=(x.then?(await x)():x)[0];let g=function({label:e,name:a,type:t,value:l,onChange:n,onBlur:d,error:h,...y}){let{defaultsData:x}=(0,s.useContext)(c.l),[g,f]=(0,s.useState)(""),{_readOnly:v,_required:C,_hidden:N}=(0,m.W)(a,y.maxAccess,y.required,y.readOnly,y.hidden),b=x?.list?.find(({key:e})=>"countryRef"===e)?.value;return N?i.jsx(i.Fragment,{}):(0,i.jsxs)("div",{className:`${p().phoneWrapper} ${I().outlinedRoot}`,children:[e&&(0,i.jsxs)("div",{className:`${p().phoneLabel} ${I().inputLabelShrink} ${h&&p().errorLabel}`,children:[e," ",C&&i.jsx("span",{children:"*"})]}),(0,i.jsxs)("div",{dir:"ltr",className:`${p().phoneWrapper} ${I().outlinedRoot}`,children:[i.jsx(o(),{country:b?.toLowerCase(),value:l||"",placeholder:"",dir:"rtl",language:"ars",prefix:"+",enableSearch:!0,disableAreaCodes:!0,onChange:(e,a,t)=>{var l;let i=(l="+"+e,l?.replace(/^0+/,"00"));f("+"+a.dialCode),n&&n(i,a,t)},onBlur:e=>{d&&d(e)},disableDropdown:v,inputProps:{name:a,onPaste:y.onPaste,onCopy:y.onCopy,readOnly:v},containerStyle:{border:`1px solid ${h?"red":"#ccc"}`,display:"flex",alignItems:"center"},inputStyle:{width:"100%",border:"none"},containerClass:`${p().phoneContainer} ${I().outlinedFieldset}`,inputClass:p().phoneInput,dropdownClass:p().phoneDropdown,specialLabel:"",...y}),(l||0===l)&&!v&&i.jsx(r(),{tabIndex:-1,onClick:()=>y.onClear(g),"aria-label":"clear input",className:p().phoneClearButton,children:i.jsx(u.Z,{className:I().icon})})]})]})};l()}catch(e){l(e)}})},44719:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.d(a,{Z:()=>h});var i=t(20997),n=t(79660),r=t(30081),s=t(16689),d=t(29352),o=t(60520),c=t(96119),u=e([r,d,o]);[r,d,o]=u.then?(await u)():u;let m=({recordId:e,editMode:a,onSubmit:t=()=>{},window:l,actions:u=[],address:m,setAddress:h,required:p=!0,...y})=>{let{getRequest:I,postRequest:x}=(0,s.useContext)(d.$),{platformLabels:g}=(0,s.useContext)(o.l),[f,v]=(0,s.useState)(e||null),[C,N]=(0,s.useState)(null),b=!!m&&!!h,A=b?m:C,R=b?h:N;(0,c.Z)({title:g.Address,window:l});let V=async e=>{if(!p){R(e),t(e,l);return}let a={...e,recordId:f||A?.recordId||null},i=await x({extension:n.r.Address.set,record:JSON.stringify(a)}),r=i?.recordId||f||null,s={...a,recordId:r,addressId:r};v(r),R(s),t(s,l)};return(0,s.useEffect)(()=>{!b&&f&&(async()=>{let e=await I({extension:n.r.Address.get,parameters:`_filter=&_recordId=${f}`});N(e?.record||null)})()},[f,b]),i.jsx(r.O,{editMode:a,setAddress:R,address:A,onSubmit:V,actions:u,window:l,...y})};m.width=600,m.height=500;let h=m;l()}catch(e){l(e)}})},30081:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.d(a,{O:()=>h});var i=t(20997),n=t(16689),r=t(80582),s=t(89354),d=t(95965),o=t(18611),c=t(42020),u=t(75609),m=e([r,s]);[r,s]=m.then?(await m)():m;let h=({setAddress:e,address:a,editMode:t,window:l,readOnly:m,allowPost:h=!0,optional:p=!1,onSubmit:y,isSavedClear:I=!0,isCleared:x=!0,changeClear:g=!1,actions:f=[],...v})=>{let[C,N]=(0,n.useState)(!p),[b,A]=(0,n.useState)({}),{formik:R}=(0,d.c)({maxAccess:b.maxAccess,initialValues:{recordId:null,name:"",countryId:null,countryName:"",stateId:null,stateName:"",cityId:null,city:"",street1:"",street2:"",email1:"",email2:"",phone:"",phone2:"",phone3:"",addressId:null,postalCode:"",cityDistrictId:null,cityDistrict:"",bldgNo:"",unitNo:"",subNo:"",poBox:""},validateOnChange:!0,validateOnBlur:!0,validationSchema:u.object({...b.validate}),onSubmit:a=>{e(a),h?y(a,l):l.close()}});return(0,n.useEffect)(()=>{p&&(R.values.name||R.values.street1||R.values.countryId||R.values.cityId)&&N(!0),!p||R.values.name||R.values.street1||R.values.countryId||R.values.cityId||N(!1)},[R.values]),i.jsx(r.Z,{form:R,maxAccess:b.maxAccess,isInfo:!1,disabledSubmit:m,editMode:t,isSavedClear:I,isCleared:x,onClear:g?()=>{R.resetForm({values:R.initialValues})}:void 0,actions:f,...v,children:i.jsx(o.R,{children:i.jsx(c.g,{children:i.jsx(s.Z,{addressValidation:R,readOnly:m,required:C,setFormik:A,address:a,...v})})})})};l()}catch(e){l(e)}})},93221:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.d(a,{Z:()=>A});var i=t(20997),n=t(40711),r=t(16689),s=t(6416),d=t(65305),o=t(29352),c=t(38509),u=t(2296),m=t(677),h=t(44438),p=t(20295),y=t(66626),I=t(30343),x=t.n(I),g=t(92189),f=t.n(g),v=t(96577),C=t.n(v),N=t(6943),b=e([n,o,c,m,h,p,y]);[n,o,c,m,h,p,y]=b.then?(await b)():b;let A=({clientId:e})=>{let{stack:a}=(0,m.zY)();(0,u.useFormik)({initialValues:{recordId:e},validateOnChange:!0,validateOnBlur:!0,onSubmit:()=>{}});let{getRequest:t}=(0,r.useContext)(o.$),{query:{data:l},labels:I,access:g}=(0,c.J)({queryFn:v,endpointId:d.N.Beneficiary.qry,datasetId:s.i.Beneficiary});async function v(){let a=await t({extension:d.N.Beneficiary.qry,parameters:`_clientId=${e}`});return a.list=a.list.map(e=>(null===e.isInactive&&(e.isInactive=!1),e)),a}let b=[{field:"name",headerName:I.name,flex:2},{field:"addressLine1",headerName:I.addressLine1,flex:2},{field:"nationalityName",headerName:I.nationalityId,flex:1},{field:"countryName",headerName:I.country,flex:1},{field:"accountReference",headerName:I.accountRef,flex:1},{field:"branchName",headerName:I.branchName,flex:1},{field:"dispersalTypeName",headerName:I.dispersalType,flex:1},{field:"isInactive",headerName:I.isInactive,type:"checkbox"},{field:"beneficiary history",headerName:I.beneficiaryHistory,flex:1,cellRenderer:e=>i.jsx(x(),{sx:{display:"flex",width:"100%",justifyContent:"center"},children:i.jsx(f(),{size:"small",onClick:()=>A(e),children:i.jsx(C(),{src:N.Z,alt:"History",width:18,height:18})})})}],A=e=>{a({Component:y.Z,props:{client:e.data.clientId,beneficiary:e.data.beneficiaryId},width:1100,height:500,title:I.beneficiaryHistory})};return i.jsx(n.Z,{width:500,height:400,columns:b,gridData:l,rowId:["beneficiaryId"],isLoading:!1,pagination:!1,maxAccess:g,onEdit:e=>{let t=e.beneficiaryId,l=e.clientId,i=e.dispersalType,n=e.nationalityId;1===i?a({Component:h.Z,props:{client:{clientId:l},dispersalType:i,beneficiary:{beneficiaryId:t,beneficiarySeqNo:e.seqNo},corId:0,countryId:n,recordId:e?.clientId&&e?.beneficiaryId&&e?.seqNo?(100*e.clientId).toString()+(10*e.beneficiaryId).toString()+e.seqNo:null}}):2===i&&a({Component:p.Z,props:{client:{clientId:l},dispersalType:i,beneficiary:{beneficiaryId:t,beneficiarySeqNo:e.seqNo},corId:0,countryId:n,recordId:e?.clientId&&e?.beneficiaryId&&e?.seqNo?(100*e.clientId).toString()+(10*e.beneficiaryId).toString()+e.seqNo:null}})}})};l()}catch(e){l(e)}})},66626:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.d(a,{Z:()=>h});var i=t(20997),n=t(40711),r=t(16689),s=t(6416),d=t(65305),o=t(29352),c=t(38509),u=t(18611),m=e([n,o,c]);function h({client:e,beneficiary:a}){let{getRequest:t}=(0,r.useContext)(o.$),{query:{data:l},labels:m,access:h}=(0,c.J)({queryFn:p,endpointId:d.N.Beneficiary.qry2,datasetId:s.i.Beneficiary});async function p(){let l=await t({extension:d.N.Beneficiary.qry2,parameters:`_clientId=${e}&_beneficiaryId=${a}`});return l.list=l.list.map(e=>(null===e.isInactive&&(e.isInactive=!1),e)),l}let y=[{field:"name",headerName:m.name,flex:2},{field:"addressLine1",headerName:m.addressLine1,flex:2},{field:"nationalityName",headerName:m.nationalityId,flex:1},{field:"countryName",headerName:m.country,flex:1},{field:"accountReference",headerName:m.accountRef,flex:1},{field:"branchName",headerName:m.branchName,flex:1},{field:"dispersalTypeName",headerName:m.dispersalType,flex:1},{field:"isInactive",headerName:m.isInactive,type:"checkbox"}];return i.jsx(u.R,{children:i.jsx(n.Z,{width:500,height:400,columns:y,gridData:l,rowId:["beneficiaryId"],isLoading:!1,pagination:!1,maxAccess:h})})}[n,o,c]=m.then?(await m)():m,l()}catch(e){l(e)}})},58296:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.d(a,{Z:()=>ea});var i=t(20997),n=t(99155),r=t.n(n),s=t(27097),d=t.n(s),o=t(16689),c=t(44619),u=t(75609),m=t(86201),h=t(89354),p=t(5162),y=t(27736),I=t(65141),x=t(8995),g=t(71278),f=t(29832),v=t(80582),C=t(74548),N=t(61274),b=t(79660),A=t(6416),R=t(97969),V=t(29352),D=t(27559),F=t(79390),O=t(91370),j=t(677),w=t(91824),S=t(30967),P=t(93221),k=t(38509),q=t(68728),_=t(70305),L=t(60520),Z=t(42207),M=t(18611),W=t(23385),B=t(95965),E=t(99912),T=t(60349),Y=t(67906),$=t(70755),U=t(46574),J=t(16435),G=t(62630),X=t(38782),H=t(96119),z=t(44719),K=t(23267),Q=e([m,h,I,g,f,v,N,V,D,j,w,P,k,_,L,E,U,J,G,X,z,K]);[m,h,I,g,f,v,N,V,D,j,w,P,k,_,L,E,U,J,G,X,z,K]=Q.then?(await Q)():Q;let ee=({recordId:e,plantId:a,allowEdit:t=!1,window:l})=>{let{stack:n}=(0,j.zY)(),{getRequestFullEndPoint:s,getRequest:Q,postRequest:ee}=(0,o.useContext)(V.$),{systemChecks:ea,defaultsData:et}=(0,o.useContext)(L.l),[el,ei]=(0,o.useState)(!!e),[en,er]=(0,o.useState)(!!e),[es,ed]=(0,o.useState)(!!e),[eo,ec]=(0,o.useState)(!0),[eu,em]=(0,o.useState)([]),[eh,ep]=(0,o.useState)(!!e),[ey,eI]=(0,o.useState)(!1),[ex,eg]=(0,o.useState)(!1),[ef,ev]=(0,o.useState)({}),[eC,eN]=(0,o.useState)({}),[eb,eA]=(0,o.useState)(!1),[eR,eV]=(0,o.useState)(null),[eD,eF]=(0,o.useState)(null),[eO,ej]=(0,o.useState)(null),{stack:ew}=(0,_.V)(),{platformLabels:eS}=(0,o.useContext)(L.l),[eP,ek]=(0,o.useState)({}),eq=et?.list?.find(({key:e})=>"ct-client-trial-days"===e)?.value,{labels:e_,access:eL}=(0,X.Z)({datasetId:A.i.ClientMaster,editMode:!!e});(0,H.Z)({title:e_.pageTitle,window:l});let eZ=e=>{e.preventDefault()},[eM]=(0,f.Z)(),eW=(0,k.E)({endpointId:S.u.CtClientIndividual.snapshot});async function eB(e){e||(eU.setFieldValue("idtId",""),eU.setFieldValue("idtName",""),eU.setFieldValue("isResident",!1));let a=await eM(e);a&&(eU.setFieldValue("idtId",a.recordId),eU.setFieldValue("idtName",a.name),eU.setFieldValue("isResident",a.isResident||!1))}function eE(e,a=!1){let t=`_clientId=${e}`;Q({extension:O.L.CtClientIndividual.get2,parameters:t}).then(async t=>{let l=t?.record;if(l?.workAddressView&&em(l?.workAddressView),eU.setValues({functionId:q.J.KYC,masterRecordId:l?.clientMaster?.recordId,reference:l.clientMaster?.reference,clientId:l.clientIDView?.clientId,expiryDate:(0,F.a1)(l.clientMaster?.expiryDate),issueDate:l.clientIDView?.idIssueDate&&(0,F.a1)(l.clientIDView?.idIssueDate),idCountry:l.clientIDView?.idCountryId,idCity:l.clientIDView?.idCityId,idNo:l.clientIDView?.idNo,idNoRepeat:l.clientIDView?.idNo,idNoEncrypt:l.clientIDView?.idNo&&l.clientIDView?.idNo,idNoRepeatEncrypt:l.clientIDView?.idNo&&l.clientIDView?.idNo,idtId:l.clientIDView?.idtId,isDiplomat:l.clientIDView?.isDiplomat,cityName:l.clientIDView?.idCityName,idIssuePlaceCode:l.clientIDView?.extraInfo,addressRecordId:l.addressView?.recordId,countryId:l.addressView?.countryId,cityId:l.addressView?.cityId,city:l.addressView?.city,stateId:l.addressView?.stateId,cityDistrictId:l.addressView?.cityDistrictId,cityDistrict:l.addressView?.cityDistrict,email1:l.addressView?.email1,email2:l.addressView?.email2,name:l.addressView?.name,phone:l.addressView?.phone,phone2:l.addressView?.phone2,phone3:l.addressView?.phone3,postalCode:l.addressView?.postalCode,street1:l.addressView?.street1,street2:l.addressView?.street2,subNo:l.addressView?.subNo,unitNo:l.addressView?.unitNo,bldgNo:l.addressView?.bldgNo,poBox:l.addressView?.poBox,birthDate:l.clientIndividual?.birthDate&&(0,F.a1)(l.clientIndividual.birthDate),firstName:l.clientIndividual?.firstName,lastName:l.clientIndividual?.lastName,middleName:l.clientIndividual?.middleName,familyName:l.clientIndividual?.familyName,fl_firstName:l.clientIndividual?.fl_firstName,fl_lastName:l.clientIndividual?.fl_lastName,fl_middleName:l.clientIndividual?.fl_middleName,fl_familyName:l.clientIndividual?.fl_familyName,isResident:l.clientIndividual?.isResident,incomeSourceId:l.clientIndividual?.incomeSourceId,sponsorName:l.clientIndividual?.sponsorName,addressId:l.clientMaster.addressId,category:l.clientMaster?.category,nationalityId:l.clientMaster?.nationalityId,nationality:l.clientMaster?.nationality,cellPhone:l.clientMaster?.cellPhone,cellPhoneEncrypt:l.clientMaster?.cellPhone&&l.clientMaster?.cellPhone,cellPhoneRepeatEncrypt:l.clientMaster?.cellPhone&&l.clientMaster?.cellPhone,cellPhoneRepeat:l.clientMaster?.cellPhone,createdDate:l.clientMaster?.createdDate,flName:l.clientMaster?.flName,keyword:l.clientMaster?.keyword,otp:l.clientMaster?.otp,plantId:l.clientRemittance?.plantId,name:l.clientMaster?.name,oldReference:l.clientMaster?.oldReference,status:l.clientMaster?.status,professionId:l.clientMaster?.professionId,extraIncome:l.clientMaster?.extraIncome,extraIncomeId:l.clientMaster?.extraIncomeId,bankId:l.clientMaster?.bankId,iban:l.clientMaster?.iban,trialDays:l.clientMaster?.trialDays,idScanMode:l.clientMaster?.idScanMode,recordId:e,remittanceRecordId:l.clientRemittance?.recordId,otpVerified:l.clientRemittance?.otpVerified,govCellVerified:l.clientRemittance?.govCellVerified,addressId:l.clientRemittance?.addressId,batchId:l.clientRemittance?.batchId,civilStatus:l.clientRemittance?.civilStatus,clientId:l.clientRemittance?.clientId,coveredFace:l.clientRemittance?.coveredFace,date:l.clientRemittance?.date,dtId:l.clientRemittance?.dtId,educationLevel:l.clientRemittance?.educationLevel,gender:l.clientRemittance?.gender,isEmployee:l.clientRemittance?.isEmployee,cobId:l.clientRemittance?.cobId,relativeDiplomatInfo:l.clientRemittance?.relativeDiplomatInfo,releaseStatus:l.clientRemittance?.releaseStatus,riskLevel:l.clientRemittance?.riskLevel,salaryRangeId:l.clientRemittance?.salaryRangeId,smsLanguage:l.clientRemittance?.smsLanguage,whatsAppNo:l.clientRemittance?.whatsAppNo,wip:l.clientRemittance?.wip,workAddressId:l.clientRemittance?.workAddressId,title:l.clientRemittance?.title,mobileVerified:l.clientRemittance?.mobileVerificationStatus,isRelativeDiplomat:l.clientRemittance?.isRelativeDiplomat,trxAmountPerYear:l.clientRemittance?.trxAmountPerYear,trxCountPerYear:l.clientRemittance?.trxCountPerYear,cltRemReference:l.clientRemittance?.reference}),ej(l.clientMaster?.idScanMode),ep(!0),!0===a&&l.clientRemittance?.clientId&&l.clientIDView?.idNo&&l.clientIDView?.idtId&&l.clientMaster?.idScanMode&&(l.clientMaster?.idScanMode==1||l.clientMaster?.idScanMode==2)){eF(!0);let e=`_number=${l.clientIDView?.idNo}&_clientId=${l.clientRemittance?.clientId}&_idType=${l.clientIDView?.idtId}&_idScanMode=${l.clientMaster?.idScanMode}`,a=await Q({extension:x.u.PreviewImageID.get,parameters:e});eV(a?.record?.imageContent??null),eF(!1)}})}(0,o.useEffect)(()=>{e&&eE(e,!0)},[]);let eT=e=>{e&&Q({extension:S.u.IDNumber.get,parameters:"_idNo="+e}).then(e=>{e.record&&ew({message:"the ID number exists."})})},eY=async()=>{eA(!0),eU.setFieldTouched("cellPhone",!1),eU.setFieldTouched("cellPhoneRepeat",!1),eU.setFieldTouched("idNo",!1),eU.setFieldValue("trialDays",eq),n({Component:E.Z,props:{height:200,fullScreen:!1,okButtonAction:e6,DialogText:eS.PhoneVerificationConfirmation},width:450,height:170,title:eS.Confirmation})},e$=()=>{n({Component:D.Z,props:{recordId:eU.values.recordId,values:eU.values,deviceId:eU.values.cellPhone,functionId:eU.values.functionId,setEditMode:ep,getData:eE}})},{formik:eU}=(0,B.c)({maxAccess:eP.maxAccess,initialValues:{reference:"",clientId:null,expiryDate:null,issueDate:null,idCountry:"",idCity:"",idNo:"",idNoRepeat:"",idNoEncrypt:"",idNoRepeatEncrypt:"",idtId:"",idtName:"",cityName:"",birthDate:null,firstName:"",lastName:"",middleName:"",familyName:"",fl_firstName:"",fl_lastName:"",fl_middleName:"",fl_familyName:"",isResident:!1,incomeSourceId:"",masterRecordId:"",addressId:"",category:"",nationalityId:"",nationality:"",cellPhone:"",cellPhoneEncrypt:"",cellPhoneRepeatEncrypt:"",cellPhoneRepeat:"",country:"",createdDate:null,isDiplomatReadOnly:!1,flName:"",keyword:"",otp:"",status:-1,plantId:a||"",name:"",oldReference:"",bankId:"",iban:"",trialDays:null,idScanMode:null,remittanceRecordId:"",trxCountPerYear:"",trxAmountPerYear:"",otpVerified:!1,govCellVerified:!1,addressId:"",batchId:"",civilStatus:"",coveredFace:!1,date:null,dtId:"",educationLevel:"",gender:"",idNo:"",isDiplomat:!1,isEmployee:!1,cobId:null,relativeDiplomatInfo:"",releaseStatus:"",riskLevel:"",salary:"",salaryRange:"",smsLanguage:"",sponsorName:"",whatsAppNo:"",wip:"",workAddressId:"",title:"",mobileVerified:"",isRelativeDiplomat:!1,professionId:"",cltRemReference:"",idIssuePlaceCode:""},validateOnChange:!0,validateOnBlur:!0,validationSchema:u.object({...eP.validate,reference:eo&&u.string().required(),isResident:u.string().required(),birthDate:u.date().required(),idtId:u.string().required(),idNo:u.string().required(),expiryDate:u.date().required(),issueDate:u.date().required(),countryId:u.string().required(),cityId:u.string().required(),idCountry:u.string().required(),firstName:u.string().required(),lastName:u.string().required(),nationalityId:u.string().required(),professionId:u.string().required(),cellPhone:u.string().required("Phone number is required").test("isValidPhoneNumber","Invalid phone number",function(e){let{country:a}=this.options.context;return!a||(0,G.isValidPhoneNumber)(e,a)}),cellPhoneRepeat:u.string().required("Phone number is required").oneOf([u.ref("cellPhone"),null],"Cell phone must match").test("isValidPhoneNumber","Invalid phone number",function(e){let{country:a}=this.options.context;return!a||(0,G.isValidPhoneNumber)(e,a)}),smsLanguage:u.string().required(),incomeSourceId:u.string().required(),gender:u.string().required()}),onSubmit:async e=>{e3?eY():await eH(e)}}),eJ=!(eh&&-1===eU.values.status&&!eU.values.otpVerified&&2!==eU.values.wip),eG=2===eU.values.wip;async function eX(e){if(eR)return await ee({extension:x.u.ScannerImage.set,record:JSON.stringify({base64Image:eR,clientId:e.clientId,numberID:e.numberID})})}let eH=async e=>{let a=new Date,l={recordId:e.masterRecordId,reference:e.reference,category:1,name:e.firstName,flName:e.fl_firstName,keyword:e.keyword,nationalityId:e.nationalityId,status:e.status,addressId:null,cellPhone:e.cellPhone,oldReference:e.oldReference,otp:e?.otp,plantId:eU.values.plantId,createdDate:(0,F.ku)(a.toISOString()),expiryDate:(0,F.ku)(e.expiryDate),professionId:e.professionId,categoryName:e.categoryName,extraIncomeId:e.extraIncomeId,bankId:e.bankId,iban:e.iban,trialDays:e.trialDays,idScanMode:e.idScanMode},i={idNo:e.idNo,clientId:e.clientId||0,idCountryId:e.idCountry,idtId:e.idtId,idExpiryDate:(0,F.ku)(e.expiryDate),idIssueDate:e.issueDate&&(0,F.ku)(e.issueDate),idCityId:e.idCity,isDiplomat:e.isDiplomat,extraInfo:e.idIssuePlaceCode},n={clientId:e.clientId||0,firstName:e.firstName,lastName:e.lastName,middleName:e.familyName?e.middleName+""+e.familyName:e.middleName,familyName:null,fl_firstName:e.fl_firstName,fl_lastName:e.fl_lastName,fl_middleName:e.fl_familyName?e.fl_middleName+" "+e.fl_familyName:e.fl_middleName,fl_familyName:null,birthDate:(0,F.ku)(e.birthDate),isResident:e.isResident,sponsorName:e.sponsorName,incomeSourceId:e.incomeSourceId},r={recordId:e.remittanceRecordId,clientId:e.clientId||0,plantId:eU.values.plantId,reference:"",salaryRangeId:e.salaryRangeId,riskLevel:e.riskLevel,smsLanguage:e.smsLanguage,whatsAppNo:e.whatsAppNo,gender:e.gender,title:e.title,civilStatus:e.civilStatus,mobileVerificationStatus:0,educationLevel:e.educationLevel,isDiplomat:e.isDiplomat,isRelativeDiplomat:e.isRelativeDiplomat,relativeDiplomatInfo:e.relativeDiplomatInfo,idNo:e.idNo,otpVerified:e.otpVerified,coveredFace:e.coveredFace,isEmployee:e.isEmployee,wip:1,addressId:e.addressId,workAddressId:eu?.recordId,cobId:e.cobId,trxCountPerYear:e.trxCountPerYear,trxAmountPerYear:e.trxAmountPerYear,govCellVerified:e.govCellVerified},s={recordId:e.addressRecordId,name:e.name,countryId:e.countryId,stateId:e.stateId,cityId:e.cityId,cityName:e.cityName,street1:e.street1,street2:e.street2,email1:e.email1,email2:e.email2,phone:e.phone,phone2:e.phone2,phone3:e.phone3,addressId:e.addressId,postalCode:e.postalCode,cityDistrictId:e.cityDistrictId,bldgNo:e.bldgNo,unitNo:e.unitNo,subNo:e.subNo,poBox:e.poBox},d=eu.length>0?{recordId:eu.recordId,name:eu.name,countryId:eu.countryId,stateId:eu.stateId,cityId:eu.cityId,cityName:eu.cityName,street1:eu.street1,street2:eu.street2,email1:eu.email1,email2:eu.email2,phone:eu.phone,phone2:eu.phone2,phone3:eu.phone3,addressId:eu.addressId,postalCode:eu.postalCode,cityDistrictId:eu.cityDistrictId,bldgNo:eu.bldgNo,poBox:eu.poBox,unitNo:eu.unitNo,subNo:eu.subNo}:null;if(t){l.status=-1;let a={plantId:eU.values.plantId,clientID:i,ClientIndividual:n,clientRemittance:r,clientMaster:l,address:s,workAddress:d};await ee({extension:O.L.CtClientIndividual.update,record:JSON.stringify(a)}).then(a=>{a&&(eR&&e?.idScanMode==1&&eO!==e?.idScanMode&&eX({clientId:e.clientId,numberID:e.idNo}),m.default.success(eS.Edited),e$(),eE(e.recordId))})}else{let a={plantId:eU.values.plantId,clientMaster:l,clientID:i,ClientIndividual:n,clientRemittance:r,address:s,workAddress:d?.name&&d?.countryId&&d?.cityId&&d?.phone&&d?.street1?d:null};ee({extension:O.L.CtClientIndividual.set2,record:JSON.stringify(a)}).then(a=>{a&&(eR&&e?.idScanMode==1&&eX({clientId:a.recordId,numberID:e.idNo}),m.default.success(eS.Submit),eW(),eI(!0),eE(a.recordId),ep(!0))})}};(0,o.useEffect)(()=>{!async function(){if(eU?.values?.idtId){let e=ef.list?.find(e=>e.recordId===eU.values.idtId);if(!e||!e.type||1!==e.type&&2!==e.type){eU.setFieldValue("idCountry",null),eU.setFieldValue("nationalityId",null);return}let a=parseInt(et?.list?.find(e=>"countryId"===e.key)?.value);eU.setFieldValue("idCountry",a),eU.setFieldValue("nationalityId",1==e.type?a:null)}else eU.setFieldValue("idCountry",null),eU.setFieldValue("nationalityId",null)}()},[eU.values.idtId]),(0,o.useEffect)(()=>{eU.values.clientId&&ey&&e$()},[eU.values.clientId,ey]);let ez=e=>{e?(eU.setFieldValue("isDiplomat",!0),eU.setFieldValue("isDiplomatReadOnly",!0)):(eU.setFieldValue("isDiplomat",!1),eU.setFieldValue("isDiplomatReadOnly",!1))},eK=async()=>{let e=eU.values,a={recordId:e?.remittanceRecordId},t=await ee({extension:O.L.CtClientIndividual.close,record:JSON.stringify(a)});t.recordId&&(m.default.success(eS.Closed),eW(),eE(t.recordId))},eQ=[!t&&{key:"Client Relation",condition:!0,onClick:"onClientRelation",disabled:!eh},!t&&{key:"Add Client Relation",condition:!0,onClick:"onAddClientRelation",disabled:!eh},!t&&{key:"BeneficiaryList",condition:!0,onClick:()=>void n({Component:P.Z,props:{clientId:e},width:1300,height:500,title:e_.beneficiaries}),disabled:!eh},{key:"Approval",condition:!0,onClick:"onApproval",disabled:!eG},{key:"Close",condition:!eJ,onClick:eK,disabled:!eh},{key:"Reopen",condition:eJ,disabled:!0},!t&&{key:"Client Balance",condition:!0,onClick:"onClientBalance",disabled:!eh}],e0=()=>{eg(!ex)},e1=async e=>{eF(!0);let a=`_number=${eU.values.idNo}&_idType=${eU.values.idtId}`,t=await Q({extension:x.u.Absher.get,parameters:a}),l=t?.record;l?(eU.setFieldValue("idScanMode",2),eV(l?.imageContent),e.close()):(eU.setFieldValue("idScanMode",null),eV(null)),eF(!1)},e2=async e=>{eF(!0);let a=await s({endPoint:""});a?.imageContent?(eU.setFieldValue("idScanMode",1),eV(a?.imageContent),e.close()):(eU.setFieldValue("idScanMode",null),eV(null)),eF(!1)},e9=e=>{n({Component:E.Z,props:{DialogText:2===e?eS.AbsherConfirmation:eS.scannerConfirmation,okButtonAction:2===e?e1:e2,fullScreen:!1},width:450,height:170,title:eS.Confirmation})};(0,o.useEffect)(()=>{if(eU.values.nationalityId){let e=eC?.list?.filter(e=>e.recordId===eU.values.nationalityId)?.[0]?.languageId;e&&eU.setFieldValue("smsLanguage",e)}},[eU?.values?.nationalityId]);let e6=async e=>{let a=eU.values.cellPhone.replace(/^\+/,""),t=`_idNo=${eU.values.idNo}&_mobileNumber=${a}`;Q({extension:x.u.Mobile.get,parameters:t}).then(a=>{e.close(),eU.setFieldValue("govCellVerified",!0),a.record.isOwner?(eU.setFieldValue("trialDays",null),m.default.success(eS.PhoneVerification)):(eU.setFieldValue("trialDays",eq),m.default.error(eS.notOwner))}).catch(()=>{eU.setFieldValue("govCellVerified",!1)})},e5=!!(eU.touched.cellPhone&&eU.touched.cellPhoneRepeat),e4=!!eU.touched.idNo,e3=(e5||e4)&&!eb&&!eU.values.govCellVerified&&!ea?.some(e=>e.checkId===T.F.CT_DISABLE_MOBILE_VERIFICATION);function e8(e,a){em({...e}),a.close()}return i.jsx(v.Z,{actions:eQ,resourceId:A.i.UpdateClientRemittance,form:eU,maxAccess:eL,editMode:eh,previewReport:eh,disabledSubmit:eh&&!t&&!0,children:i.jsx(M.R,{children:i.jsx(W.Q,{children:(0,i.jsxs)(r(),{container:!0,xs:12,spacing:2,children:[i.jsx(r(),{item:!0,xs:6,children:(0,i.jsxs)(r(),{container:!0,spacing:2,children:[i.jsx(r(),{item:!0,xs:4,children:i.jsx(I.B,{endpointId:x.u.Defaults.get,param:"ct-nra-individual",name:"reference",label:e_.reference,editMode:eh,value:eU.values?.reference,setReferenceRequired:ec,onChange:eU.handleChange,onClear:()=>eU.setFieldValue("reference",""),error:eU.touched.reference&&!!eU.errors.reference,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(c.Z,{name:"cltRemReference",label:e_.lastKYC,value:eU?.values?.cltRemReference,maxAccess:eL,maxLength:"30",readOnly:!0,error:eU.touched.cltRemReference&&!!eU.errors.cltRemReference})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(Y.Z,{name:"isResident",value:eU.values?.isResident,onChange:e=>eU.setFieldValue("isResident",e.target.checked),label:e_.isResident,maxAccess:eL,disabled:eh&&!t})}),i.jsx(r(),{item:!0,xs:6,children:i.jsx(y.Z,{name:"birthDate",label:e_.birthDate,value:eU.values?.birthDate,required:!0,onChange:eU.setFieldValue,onClear:()=>eU.setFieldValue("birthDate",""),autoFocus:!eh,disabledDate:">=",readOnly:eh&&!t&&!0,error:eU.touched.birthDate&&!!eU.errors.birthDate,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:6,children:i.jsx(Z.Z,{name:"birthDateHijri",label:e_.birthDateHijri,value:eU.values?.birthDate,readOnly:eh&&!t,onChange:(e,a)=>{eU.setFieldValue("birthDate",a)},onClear:()=>eU.setFieldValue("birthDate",""),maxAccess:eL})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(p.Z,{title:e_.id,children:(0,i.jsxs)(r(),{container:!0,spacing:2,children:[i.jsx(r(),{item:!0,xs:5,children:i.jsx(c.Z,{name:"idNo",label:e_.idNo,type:el?"password":"",value:eU.values?.idNo,required:!0,onChange:e=>{eA(!1),eU.handleChange(e)},onCopy:eZ,onPaste:eZ,onBlur:e=>{e?.relatedTarget?.id!=="idNo"&&(eU.handleChange(e),eB(e.target.value),ei(!0),eh||eT(e.target.value))},readOnly:eh,maxLength:"15",onFocus:()=>ei(!1),ClearId:"idNo",onClear:()=>eU.setFieldValue("idNo",null),error:eU.touched.idNo&&!!eU.errors.idNo,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:5,children:i.jsx(g.Z,{endpointId:x.u.IdTypes.qry,name:"idtId",label:e_.id_type,valueField:"recordId",displayField:"name",readOnly:eh&&!t&&!0,values:eU.values,setData:ev,required:!0,onChange:(e,a)=>{a?ez(a.isDiplomat):ez(""),eU.setFieldValue("idtId",a?.recordId||""),eU.setFieldValue("idtName",a?.name||""),eU.setFieldValue("isResident",a?.isResident||!1)},error:eU.touched.idtId&&!!eU.errors.idtId,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:2,children:i.jsx($.Z,{onClick:()=>n({Component:w.Z,props:{clientformik:eU,labels:e_,idTypes:ef,refreshProf:e0}}),label:e_.fetch,disabled:!!(!eU?.values?.idtId||!eU?.values?.birthDate||!eU.values.idNo||eh&&new Date(eU.values?.expiryDate)>=new Date)||!!eh&&!t})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(y.Z,{name:"expiryDate",label:e_.expiryDate,value:eU.values?.expiryDate,readOnly:eh&&!t&&!0,required:!0,onChange:eU.setFieldValue,onClear:()=>eU.setFieldValue("expiryDate",""),disabledDate:!eh&&"<",error:eU.touched.expiryDate&&!!eU.errors.expiryDate,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(y.Z,{name:"issueDate",label:e_.issueDate,value:eU.values?.issueDate,readOnly:eh&&!t&&!0,required:!0,onChange:eU.setFieldValue,onClear:()=>eU.setFieldValue("issueDate",""),disabledDate:!eh&&">",error:eU.touched.issueDate&&!!eU.errors.issueDate,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(Z.Z,{name:"issueDateHijri",label:e_.issueDateHijri,value:eU.values?.issueDate,onChange:(e,a)=>{eU.setFieldValue("issueDate",a)},readOnly:eh&&!t&&!0,disabledDate:!eh&&">",onClear:()=>eU.setFieldValue("issueDate",""),maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(g.Z,{endpointId:b.r.Country.qry,name:"idCountry",label:e_.issusCountry,valueField:"recordId",displayField:["reference","name","flName"],readOnly:eh&&!t&&!0,displayFieldWidth:1.5,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],values:eU.values,required:!0,onChange:(e,a)=>{a?eU.setFieldValue("idCountry",a?.recordId):eU.setFieldValue("idCountry",""),eU.setFieldValue("idCity",""),eU.setFieldValue("cityName","")},error:eU.touched.idCountry&&!!eU.errors.idCountry,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(N.U,{endpointId:b.r.City.snapshot,parameters:{_countryId:eU.values.idCountry,_stateId:0},name:"idCity",label:e_.issueCity,form:eU,valueField:"name",displayField:"name",firstValue:eU.values.cityName,secondDisplayField:!1,readOnly:(eh&&!t||!eU.values.idCountry)&&!0,maxAccess:eL,onChange:(e,a)=>{a?(eU.setFieldValue("idCity",a?.recordId),eU.setFieldValue("cityName",a?.name)):(eU.setFieldValue("idCity",null),eU.setFieldValue("cityName",null))},error:eU.touched.idCity&&!!eU.errors.idCity})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(c.Z,{name:"idIssuePlaceCode",label:e_.issusPlace,value:eU.values?.idIssuePlaceCode,onChange:eU.handleChange,readOnly:eh&&!t&&!0,onClear:()=>eU.setFieldValue("idIssuePlaceCode",""),error:eU.touched.idIssuePlaceCode&&!!eU.errors.idIssuePlaceCode,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:12,children:(0,i.jsxs)(r(),{container:!0,spacing:2,children:[i.jsx(r(),{item:!0,xs:4,children:i.jsx(c.Z,{name:"firstName",label:e_.first,value:eU.values?.firstName,required:!0,onChange:e=>{eU.handleChange(e),eU.setFieldValue("name",e.target.value+" "+eU.values?.lastName)},language:"english",maxLength:"10",readOnly:eh&&!t&&!0,onClear:()=>eU.setFieldValue("firstName",""),error:eU.touched.firstName&&!!eU.errors.firstName,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(c.Z,{name:"middleName",label:e_.middle,value:eU.values?.middleName,onChange:eU.handleChange,language:"english",maxLength:"10",readOnly:eh&&!t&&!0,onClear:()=>eU.setFieldValue("middleName",""),error:eU.touched.middleName&&!!eU.errors.middleName,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(c.Z,{name:"lastName",label:e_.last,value:eU.values?.lastName,required:!0,onChange:e=>{eU.handleChange(e),eU.setFieldValue("name",eU.values?.firstName+" "+e.target.value)},language:"english",maxLength:"10",readOnly:eh&&!t&&!0,onClear:()=>eU.setFieldValue("lastName",""),error:eU.touched.lastName&&!!eU.errors.lastName,maxAccess:eL})})]})}),i.jsx(r(),{item:!0,xs:12,children:(0,i.jsxs)(K.Z,{container:!0,spacing:2,children:[i.jsx(r(),{item:!0,xs:4,children:i.jsx(c.Z,{name:"fl_firstName",label:e_.fl_first,value:eU.values?.fl_firstName,onChange:eU.handleChange,maxLength:"10",readOnly:eh&&!t&&!0,dir:"rtl",language:"arabic",onClear:()=>eU.setFieldValue("fl_firstName",""),error:eU.touched.fl_firstName&&!!eU.errors.fl_firstName,helperText:eU.touched.fl_firstName&&eU.errors.fl_firstName,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(c.Z,{name:"fl_middleName",label:e_.fl_middle,value:eU.values?.fl_middleName,onChange:eU.handleChange,readOnly:eh&&!t&&!0,dir:"rtl",language:"arabic",onClear:()=>eU.setFieldValue("fl_familyName",""),error:eU.touched.fl_middleName&&!!eU.errors.fl_middleName,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(c.Z,{name:"fl_lastName",label:e_.fl_last,value:eU.values?.fl_lastName,onChange:eU.handleChange,maxLength:"10",dir:"rtl",language:"arabic",readOnly:eh&&!t&&!0,onClear:()=>eU.setFieldValue("fl_lastName",""),error:eU.touched.fl_lastName&&!!eU.errors.fl_lastName,maxAccess:eL})})]})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(g.Z,{endpointId:b.r.Country.qry,name:"nationalityId",label:e_.nationality,setData:eN,valueField:"recordId",displayField:["reference","name","flName"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],displayFieldWidth:1.5,readOnly:eh&&!t&&!0,values:eU.values,required:!0,onChange:(e,a)=>{a?(eU.setFieldValue("nationalityId",a?.recordId),eU.setFieldValue("smsLanguage",a?.languageId)):(eU.setFieldValue("nationalityId",""),eU.setFieldValue("smsLanguage",""))},error:eU.touched.nationalityId&&!!eU.errors.nationalityId,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(g.Z,{datasetId:R.v.GENDER,name:"gender",label:e_.gender,valueField:"key",displayField:"value",required:!0,readOnly:eh&&!t&&!0,values:eU.values,onChange:(e,a)=>{eU.setFieldValue("coveredFace",!1),a?eU.setFieldValue("gender",a?.key):eU.setFieldValue("gender","")},error:eU.touched.gender&&!!eU.errors.gender,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(g.Z,{endpointId:C.d.Profession.qry,filter:ef?.list?.filter(e=>e.recordId==eU.values.idtId)?.[0]?.isDiplomat?e=>2===e.diplomatStatus:void 0,name:"professionId",label:e_.profession,valueField:"recordId",readOnly:eh&&!t&&!0,displayField:["reference","name","flName"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],displayFieldWidth:3,values:eU.values,required:!0,onChange:(e,a)=>{a?eU.setFieldValue("professionId",a?.recordId):eU.setFieldValue("professionId","")},error:eU.touched.professionId&&!!eU.errors.professionId,maxAccess:eL})},ex),i.jsx(r(),{item:!0,xs:12,children:i.jsx(c.Z,{name:"sponsorName",label:e_.sponsorName,value:eU.values?.sponsorName,readOnly:eh&&!t&&!0,onChange:eU.handleChange,maxLength:"200",onClear:()=>eU.setFieldValue("sponsorName",""),error:eU.touched.sponsorName&&!!eU.errors.sponsorName,maxAccess:eL})})]})})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(p.Z,{children:(0,i.jsxs)(r(),{container:!0,spacing:2,children:[i.jsx(r(),{item:!0,xs:3,children:i.jsx(Y.Z,{name:"otpVerified",value:eU.values?.otpVerified,onChange:e=>eU.setFieldValue("otpVerified",e.target.checked),label:e_?.OTPVerified,maxAccess:eL,disabled:!0,readOnly:eh&&!0})}),i.jsx(r(),{item:!0,xs:3,children:i.jsx(Y.Z,{name:"govCellVerified",value:eU.values?.govCellVerified,onChange:e=>eU.setFieldValue("govCellVerified",e.target.checked),label:e_?.govCellVerified,maxAccess:eL,disabled:eh&&!t})}),i.jsx(r(),{item:!0,xs:3,children:i.jsx(Y.Z,{name:"coveredFace",value:eU.values?.coveredFace,onChange:e=>eU.setFieldValue("coveredFace",e.target.checked),label:e_?.coveredFace,maxAccess:eL,disabled:("2"!==eU.values.gender||!!eh)&&(!eh||!t)})}),i.jsx(r(),{item:!0,xs:3,children:i.jsx(Y.Z,{name:"isEmployee",value:eU.values?.isEmployee,onChange:e=>eU.setFieldValue("isEmployee",e.target.checked),label:e_?.isEmployed,maxAccess:eL,disabled:eh&&!t&&!0})})]})})}),i.jsx(r(),{item:!0,xs:12,children:(0,i.jsxs)(r(),{container:!0,spacing:2,children:[i.jsx(r(),{item:!0,xs:3,children:i.jsx($.Z,{onClick:()=>e9(1),label:e_.scanner,color:"primary",disabled:eD||eh&&!t})}),i.jsx(r(),{item:!0,xs:3,children:i.jsx($.Z,{onClick:()=>e9(2),label:e_.digitalId,color:"primary",disabled:!eU.values.idNo||!eU.values.idtId||eD||eh&&!t})})]})}),eR&&i.jsx(r(),{item:!0,xs:12,children:i.jsx("img",{src:`data:image/png;base64,${eR}`,alt:"Id image",style:{width:"100%",height:"95%"}})}),eD&&!eR&&i.jsx(r(),{item:!0,xs:12,textAlign:"center",paddingTop:5,children:i.jsx(d(),{})})]})}),i.jsx(r(),{item:!0,xs:6,children:(0,i.jsxs)(r(),{container:!0,xs:12,spacing:2,children:[i.jsx(r(),{item:!0,xs:12,children:i.jsx(p.Z,{title:e_.customerInformation,children:(0,i.jsxs)(r(),{container:!0,spacing:2,children:[i.jsx(r(),{item:!0,xs:5,children:i.jsx(J.Z,{name:"cellPhone",type:en&&eU.values?.cellPhone?"password":"text",label:e_.cellPhone,value:eU.values?.cellPhone,readOnly:eh&&!t,required:!0,phone:!0,onChange:(e,a)=>{eA(!1),eU.setFieldValue("cellPhone",e),eU.setFieldValue("country",a?.countryCode),eU.values?.cellPhoneRepeat===e&&eU.setFieldValue("whatsAppNo",e)},maxLength:"15",autoComplete:"off",onCopy:eZ,onPaste:eZ,onBlur:e=>{er(!0),eU.handleBlur(e)},onFocus:e=>{er(!1)},onClear:e=>eU.setFieldValue("cellPhone",e),error:eU.touched.cellPhone&&!!eU.errors.cellPhone,helperText:eU.touched.cellPhone&&eU.errors.cellPhone,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:5,children:i.jsx(J.Z,{name:"cellPhoneRepeat",type:es&&eU.values?.cellPhoneRepeat?"password":"text",label:e_.confirmCell,value:eU.values?.cellPhoneRepeat,required:!0,readOnly:eh&&!t,maxLength:"15",autoComplete:"off",phone:!0,onChange:(e,a)=>{eA(!1),eU.setFieldValue("cellPhoneRepeat",e),eU.values?.cellPhone===e&&eU.setFieldValue("whatsAppNo",e)},onBlur:e=>{ed(!0),eU.handleBlur(e)},onFocus:e=>{ed(!1)},onCopy:eZ,onPaste:eZ,onClear:e=>eU.setFieldValue("cellPhoneRepeat",e),error:eU.touched.cellPhoneRepeat&&!!eU.errors.cellPhoneRepeat,helperText:eU.touched.cellPhoneRepeat&&eU.errors.cellPhoneRepeat,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:2,children:i.jsx($.Z,{onClick:eY,label:e_.fetch,color:"primary",disabled:!eU.values.idNo||!eU.values.cellPhone||ea?.some(e=>e.checkId===T.F.CT_DISABLE_MOBILE_VERIFICATION)||eh&&!t})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(g.Z,{endpointId:b.r.Country.qry,name:"cobId",label:e_.cob,valueField:"recordId",displayField:["reference","name","flName"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],readOnly:eh&&!t&&!0,displayFieldWidth:1.5,values:eU.values,onChange:(e,a)=>{a?eU.setFieldValue("cobId",a?.recordId):eU.setFieldValue("cobId","")},error:eU.touched.cobId&&!!eU.errors.cobId,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(g.Z,{endpointId:C.d.SourceOfIncome.qry,name:"incomeSourceId",label:e_.incomeSource,valueField:"recordId",readOnly:eh&&!t&&!0,displayField:["reference","name","flName"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"},{key:"flName",value:"Foreign Language Name"}],displayFieldWidth:1.5,values:eU.values,required:!0,onChange:(e,a)=>{a?eU.setFieldValue("incomeSourceId",a?.recordId):eU.setFieldValue("incomeSourceId","")},error:eU.touched.incomeSourceId&&!!eU.errors.incomeSourceId,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(g.Z,{endpointId:C.d.SalaryRange.qry,name:"salaryRangeId",label:e_.salaryRange,valueField:"recordId",displayField:["min","->","max"],columnsInDropDown:[{key:"min",value:"min"},{key:"max",value:"max"}],readOnly:eh&&!t&&!0,values:eU.values,onChange:(e,a)=>{a?eU.setFieldValue("salaryRangeId",a?.recordId):eU.setFieldValue("salaryRangeId","")},error:eU.touched.salaryRangeId&&!!eU.errors.salaryRangeId,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(g.Z,{datasetId:R.v.LANGUAGE,name:"smsLanguage",label:e_.smsLanguage,valueField:"key",displayField:"value",values:eU.values,required:!0,readOnly:eh&&!t&&!0,onChange:(e,a)=>{a?eU.setFieldValue("smsLanguage",a?.key):eU.setFieldValue("smsLanguage","")},error:eU.touched.smsLanguage&&!!eU.errors.smsLanguage,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(c.Z,{name:"whatsAppNo",label:e_.whatsapp,value:eU.values?.whatsAppNo,readOnly:eh&&!t&&!0,onChange:eU.handleChange,maxLength:"15",phone:!0,onClear:()=>eU.setFieldValue("whatsAppNo",""),error:eU.touched.whatsAppNo&&!!eU.errors.whatsAppNo,maxAccess:eL})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx(g.Z,{name:"status",label:e_.status,datasetId:R.v.ACTIVE_STATUS,values:eU.values,valueField:"key",displayField:"value",onChange:(e,a)=>{eU.setFieldValue("status",a?.key)},readOnly:!0,error:eU.touched.status&&!!eU.errors.status,maxAccess:eL})})]})})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(p.Z,{title:e_.address,children:i.jsx(h.Z,{labels:e_,defaultReadOnly:{countryId:!0},addressValidation:eU,readOnly:eh&&!t,access:eL,datasetId:A.i.ADDNationalClientMaster,setFormik:ek})})}),i.jsx(r(),{item:!0,xs:12,children:(0,i.jsxs)(r(),{container:!0,spacing:2,children:[i.jsx(r(),{item:!0,xs:5,children:i.jsx($.Z,{onClick:()=>{n({Component:z.Z,props:{editMode:eh,address:eu,setAddress:em,onSubmit:e8,readOnly:eh&&!t,datasetId:A.i.ADDWorkClientMaster,optional:!0,changeClear:!0,allowPost:!1},title:e_.workAddress})},label:e_.workAddress,color:"primary"})}),i.jsx(r(),{item:!0,xs:4,children:i.jsx($.Z,{onClick:()=>n({Component:U.Z,props:{readOnly:eh&&!t,labels:e_,clientFormik:eU,maxAccess:eL,editMode:eh,allowEdit:t},width:500,height:400,title:e_.moreDetails}),label:e_.moreDetails,color:"primary"})})]})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(p.Z,{title:e_.diplomat,children:(0,i.jsxs)(r(),{container:!0,spacing:2,children:[i.jsx(r(),{item:!0,xs:6,children:i.jsx(Y.Z,{name:"isDiplomat",value:eU.values?.isDiplomat,onChange:e=>eU.setFieldValue("isDiplomat",e.target.checked),label:e_?.isDiplomat,maxAccess:eL,disabled:(eU.values?.isDiplomatReadOnly||eh&&!t)&&!0})}),i.jsx(r(),{item:!0,xs:6,children:i.jsx(Y.Z,{name:"isRelativeDiplomat",value:eU.values?.isRelativeDiplomat,onChange:e=>{eU.handleChange(e),eU.setFieldValue("relativeDiplomatInfo","")},label:e_?.isDiplomatRelative,maxAccess:eL,disabled:eh&&!t})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(c.Z,{name:"relativeDiplomatInfo",label:e_.relativeDiplomatInfo,onBlur:eU.handleBlur,value:eU.values?.relativeDiplomatInfo,readOnly:eh||!eU.values?.isRelativeDiplomat,onChange:eU.handleChange,maxLength:"10",required:!!eU.values.isRelativeDiplomat,onClear:()=>eU.setFieldValue("relativeDiplomatInfo",""),error:eU.touched.relativeDiplomatInfo&&!!eU.errors.relativeDiplomatInfo,maxAccess:eL})})]})})})]})})]})})})})};ee.width=1200,ee.height=650;let ea=ee;l()}catch(e){l(e)}})},46574:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.d(a,{Z:()=>C});var i=t(20997),n=t(99155),r=t.n(n),s=t(16689),d=t(91184),o=t(44619),c=t(18687),u=t(23385),m=t(18611),h=t(71278),p=t(95965),y=t(29352),I=t(61932),x=t(8995),g=t(74548);t(79660);var f=t(97969),v=e([c,h,y]);function C({labels:e,editMode:a,maxAccess:t,readOnly:l,clientFormik:n,allowEdit:v,window:C}){let[N,b]=(0,s.useState)(),{getRequest:A}=(0,s.useContext)(y.$),{formik:R}=(0,p.c)({initialValues:{trxCountPerYear:"",trxAmountPerYear:"",riskLevel:"",civilStatus:"",title:"",oldReference:"",extraIncome:"",bankId:"",iban:"",extraIncomeId:"",educationLevel:""},maxAccess:t,validateOnChange:!0,onSubmit:async e=>{n.setValues({...n.values,trxCountPerYear:e.trxCountPerYear,trxAmountPerYear:e.trxAmountPerYear,riskLevel:e.riskLevel,civilStatus:e.civilStatus,oldReference:e.oldReference,extraIncome:e.extraIncome,extraIncomeId:e.extraIncomeId,bankId:e.bankId,iban:e.iban,title:e.title,educationLevel:e.educationLevel}),C.close()}});return i.jsx(c.Z,{onSave:R.handleSubmit,disabledSubmit:a,maxAccess:t,children:i.jsx(m.R,{children:i.jsx(u.Q,{children:(0,i.jsxs)(r(),{container:!0,xs:12,spacing:2,children:[i.jsx(r(),{item:!0,xs:12,children:i.jsx(d.Z,{name:"trxCountPerYear",readOnly:a||l,onChange:R.handleChange,label:e.trxCountPerYear,onClear:()=>R.setFieldValue("trxCountPerYear",""),value:R.values.trxCountPerYear,error:R.touched.trxCountPerYear&&!!R.errors.trxCountPerYear})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(d.Z,{name:"trxAmountPerYear",readOnly:a||l,label:e.trxAmountPerYear,onChange:R.handleChange,value:R.values.trxAmountPerYear,onClear:()=>R.setFieldValue("trxAmountPerYear",""),error:R.touched.trxAmountPerYear&&!!R.errors.trxAmountPerYear})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(h.Z,{endpointId:x.u.RiskLevel.qry,name:"riskLevel",label:e.riskLevel,readOnly:a&&!v||l,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:R.values,onChange:(e,a)=>{a?R.setFieldValue("riskLevel",a?.recordId):R.setFieldValue("riskLevel",null)},error:R.touched.riskLevel&&!!R.errors.riskLevel,maxAccess:t})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(h.Z,{datasetId:f.v.CIVIL_STATUS,name:"civilStatus",label:e.civilStatus,valueField:"key",displayField:"value",values:R.values,readOnly:a&&!v||l,onChange:(e,a)=>{R.setFieldValue("civilStatus",a?.key)},error:R.touched.civilStatus&&!!R.errors.civilStatus,maxAccess:t})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(o.Z,{name:"oldReference",label:e.oldReference,value:R.values?.oldReference,readOnly:a||l,onChange:R.handleChange,maxLength:"10",onClear:()=>R.setFieldValue("oldReference",""),error:R.touched.oldReference&&!!R.errors.oldReference,maxAccess:t})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(h.Z,{datasetId:f.v.TITLE,name:"title",label:e.title,valueField:"key",displayField:"value",readOnly:a&&!v||l,values:R.values,onChange:(e,a)=>{a?R.setFieldValue("title",a?.key):R.setFieldValue("title",null)},error:R.touched.title&&!!R.errors.title,maxAccess:t})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(d.Z,{name:"extraIncome",maxLength:12,decimalScale:0,readOnly:a||l,onChange:R.handleChange,label:e.extraIncome,value:R.values.extraIncome,error:R.touched.extraIncome&&!!R.errors.extraIncome})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(h.Z,{endpointId:g.d.ExtraIncome.qry,name:"extraIncomeId",label:e.extraIncomeType,readOnly:a||l,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:R.values,onChange:(e,a)=>{R.setFieldValue("extraIncomeId",a?.recordId||"")},error:R.touched.extraIncomeId&&!!R.errors.extraIncomeId,maxAccess:t})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(h.Z,{endpointId:N&&I.G.CbBank.qry2,parameters:N&&`_countryId=${N}`,name:"bankId",label:e.bank,readOnly:a||l,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],values:R.values,onChange:(e,a)=>{R.setFieldValue("bankId",a?.recordId||"")},error:R.touched.bankId&&!!R.errors.bankId,maxAccess:t})}),i.jsx(r(),{item:!0,xs:12,children:i.jsx(o.Z,{name:"iban",label:e.iban,value:R.values?.iban,readOnly:a||l,onChange:R.handleChange,maxLength:"10",onClear:()=>R.setFieldValue("iban",""),error:R.touched.iban&&!!R.errors.iban,maxAccess:t})}),i.jsx(r(),{item:!0,xs:"12",children:i.jsx(h.Z,{datasetId:f.v.EDUCATION_LEVEL,name:"educationLevel",label:e.educationLevel,valueField:"key",displayField:"value",readOnly:a&&!v&&!0,values:R.values,onChange:(e,a)=>{a?R.setFieldValue("educationLevel",a?.key):R.setFieldValue("educationLevel",null)},error:R.touched.educationLevel&&!!R.errors.educationLevel,maxAccess:t})})]})})})})}[c,h,y]=v.then?(await v)():v,l()}catch(e){l(e)}})},65141:(e,a,t)=>{"use strict";t.a(e,async(e,l)=>{try{t.d(a,{B:()=>c});var i=t(20997),n=t(16689),r=t(44619),s=t(29352),d=t(90052),o=e([s]);s=(o.then?(await o)():o)[0];let c=({endpointId:e,param:a="",setReferenceRequired:t,editMode:l,...o})=>{let{getRequest:c}=(0,n.useContext)(s.$),[u,m]=(0,n.useState)({readOnly:!1,mandatory:!0});return(0,n.useEffect)(()=>{t(!0);let i=async()=>{let l=await (0,d.Y)(c,e,a);l.error||(m({readOnly:l.readOnly,mandatory:l.mandatory}),t(l.mandatory))};l?(t(!1),m({readOnly:!0,mandatory:!1})):i()},[a]),i.jsx(i.Fragment,{children:i.jsx(r.Z,{required:u.mandatory,readOnly:l||u.readOnly,...o})})};l()}catch(e){l(e)}})},96389:()=>{}};