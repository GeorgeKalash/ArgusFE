"use strict";exports.id=90973,exports.ids=[90973],exports.modules={83645:(e,s,t)=>{t.d(s,{Z:()=>a});let a={src:"/_next/static/media/forgotPWD1.912a99c6.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEUTExMhHR8hHSAiHSAhHB8hHh8hHiEiHiA5CwvZAAAACHRSTlMBXk9sOEcjeuRYRmgAAAAJcEhZcwAAHsEAAB7BAcNpVFMAAAAwSURBVHicJYlBDgAwCMIoovv/j5e5cmmoJFFaco5XPPqXO7yAAbdMNZSf7DROkp4LDv0AhfaeqgkAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},83585:(e,s,t)=>{t.d(s,{Z:()=>a});let a={src:"/_next/static/media/forgotPWD3.e5c38a89.png",height:93,width:83,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAAGFBMVEUiHR8TExMiHh8iHh8hHh4iHR8iHR8hGyTDbV9iAAAACHRSTlNSAoBnNHBIFuUVf0wAAAAJcEhZcwAAHsEAAB7BAcNpVFMAAAAwSURBVHicJcm5DcBADASx2UdS/x0fDEcMiJKpRFeKBHuXEwYGgVzN7zrkWq/Z750HEt8AlyszNOkAAAAASUVORK5CYII=",blurWidth:7,blurHeight:8}},2884:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(20997),n=t(16689),r=t(331),i=t.n(r),o=t(9552),l=t.n(o),c=t(70075);class d extends i(){render(){return(0,a.jsxs)(r.Html,{lang:"en",children:[(0,a.jsxs)(r.Head,{children:[a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),a.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"}),a.jsx("link",{rel:"icon",href:"/favicon.ico"}),a.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon.png"}),a.jsx("link",{rel:"icon",href:"/favicon.ico"}),a.jsx("link",{rel:"shortcut icon",href:"/favicon.ico"}),a.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),a.jsx("meta",{name:"theme-color",content:"#231f20"})]}),(0,a.jsxs)("body",{children:[a.jsx(r.Main,{}),a.jsx(r.NextScript,{})]})]})}}d.getInitialProps=async e=>{let s=e.renderPage,t=(0,c.S)(),{extractCriticalToChunks:r}=l()(t);e.renderPage=()=>s({enhanceApp:e=>s=>a.jsx(e,{...s,emotionCache:t})});let o=await i().getInitialProps(e),d=r(o.html).styles.map(e=>a.jsx("style",{"data-emotion":`${e.key} ${e.ids.join(" ")}`,dangerouslySetInnerHTML:{__html:e.css}},e.key));return{...o,styles:[...n.Children.toArray(o.styles),...d]}};let h=d},15268:(e,s,t)=>{t.d(s,{P:()=>n});let a="MA.asmx/",n={Identity:{set:a+"setID",get:a+"getID"},UserIdentity:{check:a+"check"},changePW:a+"changePW"}},75281:(e,s,t)=>{t.d(s,{m:()=>a});let a=e=>{let s=window.sessionStorage.getItem(e);return s?JSON.parse(s):null}},88907:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>b});var n=t(20997),r=t(16689),i=t(99155),o=t.n(i),l=t(92189),c=t.n(l),d=t(56252),h=t(44619),A=t(23385),u=t(18611),m=t(95965),g=t(86201),x=t(75609),p=t(644),w=t(70305),f=t(73846),y=t(26675),j=t(60520),v=t(96119),P=t(91184),k=t(15268),C=t(29352),S=t(75281),D=t(86085),I=t.n(D),Z=e([d,g,p,w,f,y,j,C]);[d,g,p,w,f,y,j,C]=Z.then?(await Z)():Z;let H=({_labels:e,reopenLogin:s=!1,loggedUser:a,window:i,username:l="",onClose:D})=>{let[Z,H]=(0,r.useState)(0),[b,N]=(0,r.useState)(!1),{stack:B}=(0,w.V)(),E=(0,p.a)(),{encryptePWD:V,getAccessToken:M}=(0,r.useContext)(f.V),{platformLabels:R}=(0,r.useContext)(j.l),{getIdentityRequest:F,postIdentityRequest:U}=(0,r.useContext)(C.$);(0,v.Z)({title:R.ChangePassword,window:i});let z=(0,S.m)("userData");(0,r.useEffect)(()=>{!async function(){if(!1==s){let e=await F({extension:k.P.Identity.get,parameters:`_email=${z?.username}`});W.setFieldValue("passwordExpiryDays",e.record?.passwordExpiryDays)}}()},[s]);let{formik:W}=(0,m.c)({validateOnChange:!0,initialValues:{username:l||E?.user?.username,password:"",newPassword:"",confirmPassword:""},validationSchema:x.object({newPassword:x.string().required(),confirmPassword:x.string().required()}),onSubmit:async()=>{if(W.values.newPassword===W.values.confirmPassword){let t;let n={userName:W.values.username,oldPW:V(W.values.password),newPW:V(W.values.newPassword)};if(!(t=a&&a.accessToken?a.accessToken:await M()))throw Error("Failed to retrieve access token");await U({extension:k.P.changePW,accessToken:t,record:JSON.stringify(n)}).then(s=>{g.default.success(e.passSuccess),W.setFieldValue("password",""),W.setFieldValue("newPassword",""),W.setFieldValue("confirmPassword",""),H(0)}),!0===s&&(i.close(),D())}else g.default.error(e.passNotMatching)}});return n.jsx(u.R,{children:(0,n.jsxs)(A.Q,{children:[(0,n.jsxs)(o(),{container:!0,spacing:2,sx:{pl:"10px",pt:"10px",pr:"10px"},children:[n.jsx(o(),{item:!0,xs:12,children:n.jsx(P.Z,{name:"passwordExpiryDays",label:e.passwordExpiryDays,value:W.values?.passwordExpiryDays,readOnly:!0,hidden:s})}),n.jsx(o(),{item:!0,xs:12,children:n.jsx(h.Z,{name:"password",fullWidth:!0,label:e.password,type:b?"text":"password",value:W.values.password,onChange:W.handleChange,error:W.touched.password&&W.errors.password,startIcons:[n.jsx("div",{className:I().iconButton,children:n.jsx("img",{className:I().iconImage,src:t(83645).Z.src})})],endIcons:[n.jsx(c(),{className:I().iconButton,onClick:()=>N(!b),onMouseDown:e=>e.preventDefault(),children:n.jsx(d.Z,{className:I().icon,icon:b?"mdi:eye-outline":"mdi:eye-off-outline"})})]})})]}),n.jsx(y.Z,{formik:W,labels:e,score:Z,setScore:H})]})})};H.width=600,H.height=400;let b=H;a()}catch(e){a(e)}})},26675:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>P});var n=t(20997),r=t(16689),i=t(99155),o=t.n(i),l=t(92189),c=t.n(l),d=t(30343),h=t.n(d),A=t(11166),u=t.n(A),m=t(56006),g=t.n(m),x=t(56252),p=t(44619),w=t(60520),f=t(86085),y=t.n(f),j=t(70755),v=e([x,w]);[x,w]=v.then?(await v)():v;let P=({formik:e,labels:s,score:a,setScore:i})=>{let{platformLabels:l}=(0,r.useContext)(w.l),[d,A]=(0,r.useState)("white"),[m,f]=(0,r.useState)(!1),[v,P]=(0,r.useState)(!1),k=["#C11B17","#FDD017","#4AA02C","#6AFB92","#00FF00"],C=e=>{let s=0;return e.length<5?s+=3:e.length>4&&e.length<8?s+=6:e.length>7&&e.length<16?s+=12:e.length>15&&(s+=18),e.match(/[a-z]/)&&(s+=1),e.match(/[A-Z]/)&&(s+=5),e.match(/\d+/)&&(s+=5),e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(s+=5),e.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)&&(s+=5),e.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(s+=5),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(s+=2),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(s+=2),e.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)&&(s+=2),s};return(0,n.jsxs)(o(),{container:!0,spacing:2,sx:{pl:"10px",pt:"10px",pr:"10px"},children:[(0,n.jsxs)(o(),{item:!0,xs:12,children:[n.jsx(p.Z,{name:"newPassword",size:"small",fullWidth:!0,label:s.newPassword,type:m?"text":"password",value:e.values.newPassword,onChange:s=>{let t;""===s.target.value&&i(0);let a=C(s.target.value);i(a),t=a<16?0:a>15&&a<25?1:a>24&&a<35?2:a>34&&a<45?3:4,A(k[t]),e.setFieldValue("newPassword",s.target.value)},error:e.touched.newPassword&&e.errors.newPassword,startIcons:[n.jsx("div",{children:n.jsx("img",{className:y().iconImage,src:t(83585).Z.src,style:{width:"100%",height:"100%"}})},"lock-icon")],endIcons:[n.jsx(c(),{className:y().iconButton,onClick:()=>f(!m),onMouseDown:e=>e.preventDefault(),children:n.jsx(x.Z,{className:y().icon,icon:m?"mdi:eye-outline":"mdi:eye-off-outline"})},"toggle-new-password")]}),n.jsx(h(),{sx:{display:"flex",alignItems:"center",my:2},children:n.jsx(u(),{variant:"determinate",value:a/50*100,sx:{flexGrow:1,height:10,backgroundColor:"lightgrey","& .MuiLinearProgress-bar":{backgroundColor:d}}})}),n.jsx(p.Z,{name:"confirmPassword",size:"small",fullWidth:!0,label:s.confirmPassword,type:v?"text":"password",value:e.values.confirmPassword,onChange:s=>{e.setFieldValue("confirmPassword",s.target.value)},error:e.touched.confirmPassword&&e.errors.confirmPassword,startIcons:[n.jsx("div",{children:n.jsx("img",{className:y().iconImage,src:t(83585).Z.src})},"lock-icon-confirm")],endIcons:[n.jsx(c(),{className:y().iconButton,onClick:()=>P(!v),onMouseDown:e=>e.preventDefault(),children:n.jsx(x.Z,{className:y().icon,icon:v?"mdi:eye-outline":"mdi:eye-off-outline"})},"toggle-confirm-password")]})]}),n.jsx(g(),{children:n.jsx(o(),{container:!0,justifyContent:"flex-end",bottom:0,left:0,width:"100%",position:"fixed",sx:{padding:"8px !important"},children:n.jsx(j.Z,{image:"save.png",tooltipText:l.Submit,onClick:e.handleSubmit,style:{marginRight:1,backgroundColor:"#4eb558",width:50,height:35,minWidth:30,padding:0}})})})]})};a()}catch(e){a(e)}})}};