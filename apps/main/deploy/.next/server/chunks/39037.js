"use strict";exports.id=39037,exports.ids=[39037],exports.modules={6021:(e,s)=>{Object.defineProperty(s,"l",{enumerable:!0,get:function(){return function e(s,a){return a in s?s[a]:"then"in s&&"function"==typeof s.then?s.then(s=>e(s,a)):"function"==typeof s&&"default"===a?s:void 0}}})},2884:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var c=a(20997),l=a(16689),r=a(331),t=a.n(r),n=a(9552),o=a.n(n),i=a(70075);class d extends t(){render(){return(0,c.jsxs)(r.Html,{lang:"en",children:[(0,c.jsxs)(r.Head,{children:[c.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),c.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),c.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"}),c.jsx("link",{rel:"icon",href:"/favicon.ico"}),c.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon.png"}),c.jsx("link",{rel:"icon",href:"/favicon.ico"}),c.jsx("link",{rel:"shortcut icon",href:"/favicon.ico"}),c.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),c.jsx("meta",{name:"theme-color",content:"#231f20"})]}),(0,c.jsxs)("body",{children:[c.jsx(r.Main,{}),c.jsx(r.NextScript,{})]})]})}}d.getInitialProps=async e=>{let s=e.renderPage,a=(0,i.S)(),{extractCriticalToChunks:r}=o()(a);e.renderPage=()=>s({enhanceApp:e=>s=>c.jsx(e,{...s,emotionCache:a})});let n=await t().getInitialProps(e),d=r(n.html).styles.map(e=>c.jsx("style",{"data-emotion":`${e.key} ${e.ids.join(" ")}`,dangerouslySetInnerHTML:{__html:e.css}},e.key));return{...n,styles:[...l.Children.toArray(n.styles),...d]}};let u=d},64565:(e,s,a)=>{a.a(e,async(e,c)=>{try{a.d(s,{Z:()=>y});var l=a(20997),r=a(99155),t=a.n(r),n=a(16689),o=a(86201),i=a(29352),d=a(6416),u=a(95965),h=a(26176),g=a(18611),x=a(60520),m=a(96119),p=a(67906),F=a(18687),j=e([o,i,x,F]);[o,i,x,F]=j.then?(await j)():j;let v=({labels:e,maxAccess:s,data:a,invalidate:c,moduleId:r,resourceId:j,window:v})=>{let{postRequest:y}=(0,n.useContext)(i.$),{platformLabels:C}=(0,n.useContext)(x.l);(0,m.Z)({title:C.AccessLevel,window:v});let{formik:f}=(0,u.c)({maxAccess:s,initialValues:{accessFlags:{get:!1,add:!1,edit:!1,del:!1,close:!1,reopen:!1,post:!1,unpost:!1}},validateOnChange:!0,onSubmit:async e=>{let s=a.list.map(s=>({moduleId:r,resourceId:s.resourceId||s.key,accessFlags:e.accessFlags,sgId:s.sgId}));j==d.i.SecurityGroup&&s.forEach(async e=>{await y({extension:h.y.ModuleClass.set,record:JSON.stringify(e)})}),j==d.i.GlobalAuthorization&&s.forEach(async e=>{await y({extension:h.y.AuthorizationResourceGlobal.set,record:JSON.stringify(e)})}),o.default.success(C.Edited),c(),v.close()}});return l.jsx(F.Z,{onSave:f.handleSubmit,maxAccess:s,children:l.jsx(g.R,{children:(0,l.jsxs)(t(),{container:!0,spacing:2,children:[l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.get",value:f.values?.accessFlags?.get,onChange:e=>f.setFieldValue("accessFlags.get",e.target.checked),label:e.get,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.add",value:f.values?.accessFlags?.add,onChange:e=>f.setFieldValue("accessFlags.add",e.target.checked),label:e.add,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.edit",value:f.values?.accessFlags?.edit,onChange:e=>f.setFieldValue("accessFlags.edit",e.target.checked),label:e.edit,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"del",value:f.values?.accessFlags?.del,onChange:e=>f.setFieldValue("accessFlags.del",e.target.checked),label:e.del,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.close",value:f.values?.accessFlags?.close,onChange:e=>f.setFieldValue("accessFlags.close",e.target.checked),label:e.close,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.reopen",value:f.values?.accessFlags?.reopen,onChange:e=>f.setFieldValue("accessFlags.reopen",e.target.checked),label:e.reopen,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.post",value:f.values?.accessFlags?.post,onChange:e=>f.setFieldValue("accessFlags.post",e.target.checked),label:e.post,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.unpost",value:f.values?.accessFlags?.unpost,onChange:e=>f.setFieldValue("accessFlags.unpost",e.target.checked),label:e.unpost,maxAccess:s})})]})})})};v.width=450,v.height=300;let y=v;c()}catch(e){c(e)}})},22138:(e,s,a)=>{a.a(e,async(e,c)=>{try{a.d(s,{Z:()=>A});var l=a(20997),r=a(16689),t=a(86201),n=a(6416),o=a(99155),i=a.n(o),d=a(29352);a(79660);var u=a(26176),h=a(97969),g=a(44619),x=a(15051),m=a(95965),p=a(18611),F=a(23385),j=a(42020),v=a(47014),y=a(60520),C=a(18687),f=e([t,d,x,v,y,C]);function A({labels:e,maxAccess:s,row:a,invalidate:c,window:o,resourceId:f}){let{getRequest:A,postRequest:b}=(0,r.useContext)(d.$),[I,S]=(0,r.useState)(!1),{getAllKvsByDataset:k}=(0,r.useContext)(v.k),{platformLabels:N}=(0,r.useContext)(y.l),{formik:Z}=(0,m.c)({maxAccess:s,validateOnChange:!0,initialValues:{gridRows:[],search:"",...a},onSubmit:async e=>{let s=Z.values.gridRows.filter(e=>null!=e.accessLevel&&""!==e.accessLevel).map(e=>({resourceId:a.resourceId,sgId:a.sgId,...e})),l={resourceId:a.resourceId,sgId:a.sgId,controls:s};f==n.i.SecurityGroup&&await b({extension:u.y.SGControlAccess.set2,record:JSON.stringify(l)}),f==n.i.GlobalAuthorization&&await b({extension:u.y.GlobalControlAuthorizationPack.set2,record:JSON.stringify(l)}),t.default.success(N.Edited),c(),o.close()}}),V=[{component:"textfield",label:e.controlId,name:"controlId",props:{readOnly:!0}},{component:"textfield",label:e.controlName,name:"name",props:{readOnly:!0}},{component:"resourcecombobox",name:"accessLevelCombo",label:e.accessLevel,props:{datasetId:h.v.AU_RESOURCE_CONTROL_ACCESS_LEVEL,valueField:"key",displayField:"value",mapping:[{from:"key",to:"accessLevel"},{from:"value",to:"accessLevelName"}]}}],{gridRows:w,search:O}=Z.values,P=O.toLowerCase(),E=O?w.filter(({controlId:e,name:s})=>e?.toLowerCase()?.toString().includes(P)||s?.toLowerCase().includes(P)):w;return l.jsx(C.Z,{onSave:Z.handleSubmit,editMode:!0,maxAccess:s,children:(0,l.jsxs)(p.R,{children:[l.jsx(j.g,{children:(0,l.jsxs)(i(),{container:!0,spacing:2,children:[l.jsx(i(),{item:!0,xs:12,children:l.jsx(g.Z,{name:"resourceId",label:e.resourceId,value:Z.values.resourceId,required:!0,onChange:Z.handleChange,maxAccess:s,readOnly:!0,onClear:()=>Z.setFieldValue("resourceId",""),error:Z.touched.resourceId&&!!Z.errors.resourceId,helperText:Z.touched.resourceId&&Z.errors.resourceId})}),l.jsx(i(),{item:!0,xs:12,children:l.jsx(g.Z,{name:"resourceName",label:e.resourceName,value:Z.values.resourceName,required:!0,readOnly:!0,maxAccess:s,onChange:Z.handleChange,onClear:()=>Z.setFieldValue("resourceName",""),error:Z.touched.resourceName&&!!Z.errors.resourceName,helperText:Z.touched.resourceName&&Z.errors.resourceName})}),l.jsx(i(),{item:!0,xs:12,children:l.jsx(g.Z,{name:"search",value:Z.values.search,label:N.Search,onClear:()=>{Z.setFieldValue("search","")},onChange:e=>{let{value:s}=e.target;Z.setFieldValue("search",s)},onSearch:e=>Z.setFieldValue("search",e),search:!0,height:35})})]})}),l.jsx(F.Q,{children:l.jsx(x._,{onChange:e=>(function(e){let s=Z.values.gridRows.map(s=>e.find(e=>e.id===s.id)||s);Z.setFieldValue("gridRows",s)})(e),value:E,error:Z.errors.gridRows,columns:V,allowDelete:!1,allowAddNewLine:!1})})]})})}[t,d,x,v,y,C]=f.then?(await f)():f,A.width=800,A.height=600,c()}catch(e){c(e)}})},14826:(e,s,a)=>{a.a(e,async(e,c)=>{try{a.d(s,{Z:()=>C});var l=a(20997),r=a(99155),t=a.n(r),n=a(16689),o=a(86201),i=a(29352),d=a(6416),u=a(95965),h=a(44619),g=a(26176),x=a(18611),m=a(23385),p=a(67906),F=a(96119),j=a(60520),v=a(18687),y=e([o,i,j,v]);function C({labels:e,maxAccess:s,row:a,window:c,resourceId:r}){let{getRequest:y,postRequest:C}=(0,n.useContext)(i.$),{platformLabels:f}=(0,n.useContext)(j.l);(0,F.Z)({title:f.resourceGlobal,window:c});let{formik:A}=(0,u.c)({maxAccess:s,initialValues:{resourceId:a?.resourceId,resourceName:a?.resourceName,moduleId:a?.moduleId,sgId:a?.sgId,accessFlags:{get:!1,add:!1,edit:!1,del:!1,close:!1,reopen:!1,post:!1,unpost:!1}},validateOnChange:!0,onSubmit:async e=>{r==d.i.SecurityGroup&&await C({extension:g.y.ModuleClass.set,record:JSON.stringify(e)}),r==d.i.GlobalAuthorization&&await C({extension:g.y.AuthorizationResourceGlobal.set,record:JSON.stringify(e)}),o.default.success(f.Edited),c.close()}});return l.jsx(v.Z,{onSave:A.handleSubmit,maxAccess:s,children:l.jsx(x.R,{children:l.jsx(m.Q,{children:(0,l.jsxs)(t(),{container:!0,spacing:2,children:[l.jsx(t(),{item:!0,xs:4,children:l.jsx(h.Z,{name:"resourceId",label:e.resourceId,value:a?.resourceId,required:!0,onChange:A.handleChange,maxAccess:s,readOnly:!0,onClear:()=>A.setFieldValue("resourceId",""),error:A.touched.resourceId&&!!A.errors.resourceId,helperText:A.touched.resourceId&&A.errors.resourceId})}),l.jsx(t(),{item:!0,xs:8,children:l.jsx(h.Z,{name:"resourceName",label:e.resourceName,value:a?.resourceName,required:!0,readOnly:!0,maxAccess:s,onChange:A.handleChange,onClear:()=>A.setFieldValue("resourceName",""),error:A.touched.resourceName&&!!A.errors.resourceName,helperText:A.touched.resourceName&&A.errors.resourceName})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.get",value:A.values?.accessFlags?.get,onChange:e=>A.setFieldValue("accessFlags.get",e.target.checked),label:e.get,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.close",value:A.values?.accessFlags?.close,onChange:e=>A.setFieldValue("accessFlags.close",e.target.checked),label:e.close,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.add",value:A.values?.accessFlags?.add,onChange:e=>A.setFieldValue("accessFlags.add",e.target.checked),label:e.add,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.reopen",value:A.values?.accessFlags?.reopen,onChange:e=>A.setFieldValue("accessFlags.reopen",e.target.checked),label:e.reopen,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.edit",value:A.values?.accessFlags?.edit,onChange:e=>A.setFieldValue("accessFlags.edit",e.target.checked),label:e.edit,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.post",value:A.values?.accessFlags?.post,onChange:e=>A.setFieldValue("accessFlags.post",e.target.checked),label:e.post,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"del",value:A.values?.accessFlags?.del,onChange:e=>A.setFieldValue("accessFlags.del",e.target.checked),label:e.del,maxAccess:s})}),l.jsx(t(),{item:!0,xs:6,children:l.jsx(p.Z,{name:"accessFlags.unpost",value:A.values?.accessFlags?.unpost,onChange:e=>A.setFieldValue("accessFlags.unpost",e.target.checked),label:e.unpost,maxAccess:s})})]})})})})}[o,i,j,v]=y.then?(await y)():y,C.width=700,C.height=400,c()}catch(e){c(e)}})},84591:(e,s)=>{var a;Object.defineProperty(s,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))}};