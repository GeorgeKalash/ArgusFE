"use strict";exports.id=51183,exports.ids=[51183],exports.modules={84999:(e,r,a)=>{a.d(r,{F:()=>l});let i="BP.asmx/",l={LegalStatus:{qry:i+"qryLGS",page:i+"pageLGS",get:i+"getLGS",set:i+"setLGS",del:i+"delLGS"},GroupLegalDocument:{qry:i+"qryGIN",page:i+"pageGIN",get:i+"getGIN",set:i+"setGIN",del:i+"delGIN"},CategoryID:{qry:i+"qryINC",get:i+"getINC",page:i+"pageINC",set:i+"setINC",del:i+"delINC"},Group:{qry:i+"qryGRP",get:i+"getGRP",set:i+"setGRP",del:i+"delGRP"},MasterData:{qry:i+"qryMAS",qry2:i+"qryMAS2",get:i+"getMAS",set:i+"setMAS",del:i+"delMAS",snapshot:i+"snapshotMAS"},RelationTypes:{qry:i+"qryRLT",page:i+"pageRLT",get:i+"getRLT",set:i+"setRLT",del:i+"delRLT"},Groups:{qry:i+"qryGRP",page:i+"pageGRP",get:i+"getGRP",set:i+"setGRP",del:i+"delGRP"},MasterIDNum:{qry:i+"qryMIN",page:i+"pageMIN",get:i+"getMIN",set:i+"setMIN",del:i+"delMIN"},Relation:{qry:i+"qryREL",page:i+"pageREL",get:i+"getREL",set:i+"setREL",del:i+"delREL"},BPAddress:{qry:i+"qryADD",page:i+"pageADD",get:i+"getADD",set:i+"setADD",del:i+"delADD"},RoleCategory:{qry:i+"qryROC",get:i+"getROC",page:i+"pageROC",set:i+"setROC",del:i+"delROC"},Role:{qry:i+"qryROL",page:i+"pageROL",get:i+"getROL",set:i+"setROL",del:i+"delROL"},MasterDataRole:{qry:i+"qryMRO",del:i+"delMRO",get:i+"getMRO",set:i+"setMRO"},MasterSales:{get:i+"getSAL",set:i+"setSAL"},MasterPurchase:{get:i+"getPUR",set:i+"setPUR"},Bank:{qry:i+"qryBNK",get:i+"getBNK",set:i+"setBNK",del:i+"delBNK"}}},51183:(e,r,a)=>{a.a(e,async(e,i)=>{try{a.d(r,{Z:()=>K});var l=a(20997),s=a(99155),d=a.n(s),t=a(47501),n=a.n(t),c=a(84454),o=a.n(c),u=a(16689),m=a(86201),v=a(27736),_=a(91184),y=a(65980),I=a(44619),x=a(5162),f=a(80582),N=a(42020),p=a(18611),w=a(71278),h=a(61274),g=a(70305),j=a(86794),F=a(95965),D=a(38509),V=a(79390),O=a(29352),C=a(65305),R=a(8995),A=a(74548),b=a(79660),q=a(97969),Z=a(6416),M=a(68728),k=a(75609),S=a(60520),T=a(30967),E=a(91370),L=a(84999),G=a(75281),P=a(67906),J=a(38782),U=a(96119),B=e([m,f,w,h,g,j,D,O,S,J]);[m,f,w,h,g,j,D,O,S,J]=B.then?(await B)():B;let $=({recordId:e,plantId:r,cashAccountId:a,dtId:i,window:s})=>{let{getRequest:t,postRequest:c}=(0,u.useContext)(O.$),{stack:B}=(0,g.V)(),{platformLabels:$,defaultsData:K}=(0,u.useContext)(S.l),Y=(0,G.m)("userData").userId,[H,W]=(0,u.useState)([]),{labels:z,access:Q}=(0,J.Z)({datasetId:Z.i.InwardSettlement,editMode:!!e});(0,U.Z)({title:z.InwardSettlement,window:s});let X=(0,D.E)({endpointId:C.N.InwardSettlement.snapshot}),ee={recordId:e||null,dtId:i?parseInt(i):null,date:new Date,inwardDate:null,reference:"",plantId:parseInt(r),cashAccountId:parseInt(a),inwardId:"",corId:null,clientId:null,dispersalMode:null,amount:"",baseAmount:"",charges:0,sender_nationalityId:null,sender_firstName:"",sender_middleName:"",sender_lastName:"",receiver_nationalityId:null,purposeOfTransfer:null,currencyId:null,sourceOfIncome:null,receiver_relationId:null,interfaceId:null,category:null,sender_category:null,wip:1,status:1,releaseStatus:null,inw_receiver_idNo:"",inw_receiver_address1:"",inw_receiver_address2:""},{maxAccess:er}=(0,j.H)({functionId:M.J.InwardSettlement,access:Q,enabled:!e,hasDT:!1}),{formik:ea}=(0,F.c)({maxAccess:er,initialValues:ee,validateOnChange:!0,validationSchema:k.object({date:k.string().required(),corRef:k.string().required(),clientId:k.string().required(),amount:k.number().required(),dispersalMode:k.number().required(),currencyId:k.string().required(),inwardId:k.string().test("is-inward-mandatory","Inward reference is required",function(){let{interfaceId:e}=this.parent;return null==e||""===e||void 0===e}),charges:k.string().test("is-charges-mandatory","Charges is required",function(){let{inwardId:e}=this.parent;return null==e||""===e||null!==e&&""!==e}),sender_firstName:k.string().test("is-first-mandatory","Sender first name is required",function(){let{inwardId:e}=this.parent;return null==e||""===e||null!==e&&""!==e}),sender_lastName:k.string().test("is-lastName-mandatory","Sender last name is required",function(){let{inwardId:e}=this.parent;return null==e||""===e||null!==e&&""!==e}),sender_nationalityId:k.string().test("is-nationality-mandatory","Sender Nationality is required",function(){let{inwardId:e}=this.parent;return null==e||""===e||null!==e&&""!==e}),category:k.string().test("is-category-mandatory","Category is required",function(){let{inwardId:e}=this.parent;return null==e||""===e||null!==e&&""!==e})}),onSubmit:async()=>{try{let e={...ea.values};if(e.date=(0,V.ku)(e?.date),e.inwardId)await ed(e,e.inwardId);else{let a=await en(),i=await et();if(!a){B({message:z.assignDefaultDocType});return}let l={recordId:null,reference:null,date:(0,V.ku)(new Date),plantId:parseInt(r),userId:parseInt(Y),exRate:1,rateCalcMethod:1,taxAmount:ea.values.charges*i/100,netAmount:ea.values.amount-ea.values.charges-ea.values.charges*i/100,corId:ea.values.corId,currencyId:ea.values.currencyId,amount:ea.values.amount,baseAmount:ea.values.amount,sender_firstName:ea.values.sender_firstName,sender_middleName:ea.values.sender_middleName,sender_lastName:ea.values.sender_lastName,sender_nationalityId:ea.values.sender_nationalityId,receiver_category:ea.values.category,receiver_firstName:ea.values.receiver_firstName,receiver_middleName:ea.values.receiver_middleName,receiver_lastName:ea.values.receiver_lastName,dispersalMode:ea.values.dispersalMode,charges:ea.values.charges,wip:1,status:1},s=await c({extension:C.N.InwardsTransfer.set,record:JSON.stringify(l)});ea.setFieldValue("inwardId",s.recordId);let d=await eu(s.recordId);await ex(s.recordId,d?.record?.reference,l),await ef(s.recordId,d?.record?.reference,l),await ed(e,s.recordId)}}catch(e){B(e)}}}),ei=!!ea.values.recordId,el=2===ea.values.wip,es=4===ea.values.status;async function ed(e,r){e.inwardId=r;let a=await c({extension:C.N.InwardSettlement.set,record:JSON.stringify(e)});X(),m.default.success($.Added),await eN(a.recordId)}async function et(){let e=K?.list?.find(({key:e})=>"vatPct"===e);return parseInt(e?.value)}let en=async()=>{try{let e=await t({extension:b.r.UserFunction.get,parameters:`_userId=${Y}&_functionId=${M.J.InwardTransfer}`});return e?.record?.dtId}catch(e){return B(e),""}},ec=async e=>{try{if(!e)return ea.setFieldValue("clientId",null),ea.setFieldValue("clientRef",null),ea.setFieldValue("clientName",null),ea.setFieldValue("category",null),ea.setFieldValue("isResident",null),ea.setFieldValue("receiver_firstName",null),ea.setFieldValue("receiver_middleName",null),ea.setFieldValue("receiver_lastName",null),ea.setFieldValue("receiver_fl_firstName",null),ea.setFieldValue("receiver_fl_middleName",null),ea.setFieldValue("receiver_fl_lastName",null),ea.setFieldValue("receiver_nationalityId",null),ea.setFieldValue("receiver_countryId",null),ea.setFieldValue("receiver_state",null),ea.setFieldValue("receiver_city",null),ea.setFieldValue("receiver_cityDistrict",null),ea.setFieldValue("receiver_professionId",null),ea.setFieldValue("receiver_sponsor",null),ea.setFieldValue("receiver_idtId",null),ea.setFieldValue("receiver_idNo",null),ea.setFieldValue("receiver_idIssueDate",null),ea.setFieldValue("receiver_idExpiryDate",null),ea.setFieldValue("receiver_idIssueCountry",null),ea.setFieldValue("receiver_birthDate",null),{};{let r=await t({extension:E.L.CtClientIndividual.get2,parameters:`_clientId=${e}`});return ea.setFieldValue("clientId",r?.record?.clientId),ea.setFieldValue("clientRef",r?.record?.clientMaster?.reference),ea.setFieldValue("clientName",r?.record?.clientMaster?.name),ea.setFieldValue("category",r?.record?.clientMaster?.category),ea.setFieldValue("isResident",r?.record?.clientIndividual?.isResident),ea.setFieldValue("receiver_firstName",r?.record?.clientIndividual?.firstName),ea.setFieldValue("receiver_middleName",r?.record?.clientIndividual?.middleName),ea.setFieldValue("receiver_lastName",r?.record?.clientIndividual?.lastName),ea.setFieldValue("receiver_fl_firstName",r?.record?.clientIndividual?.fl_firstName),ea.setFieldValue("receiver_fl_middleName",r?.record?.clientIndividual?.fl_middleName),ea.setFieldValue("receiver_fl_lastName",r?.record?.clientIndividual?.fl_lastName),ea.setFieldValue("receiver_nationalityId",r?.record?.clientMaster?.nationalityId),ea.setFieldValue("receiver_countryId",r?.record?.clientIDView?.idCountryId),ea.setFieldValue("receiver_state",r?.record?.addressView?.stateName),ea.setFieldValue("receiver_city",r?.record?.addressView?.city),ea.setFieldValue("receiver_cityDistrict",r?.record?.addressView?.cityDistrict),ea.setFieldValue("receiver_professionId",r?.record?.clientIndividual?.professionId),ea.setFieldValue("receiver_sponsor",r?.record?.clientIndividual?.sponsorName),ea.setFieldValue("receiver_idtId",r?.record?.clientIDView?.idtId),ea.setFieldValue("receiver_idNo",r?.record?.clientIDView?.idNo),ea.setFieldValue("receiver_idIssueDate",(0,V.a1)(r?.record?.clientIDView?.idIssueDate)),ea.setFieldValue("receiver_idExpiryDate",(0,V.a1)(r?.record?.clientIDView?.idExpiryDate)),ea.setFieldValue("receiver_idIssueCountry",r?.record?.clientIDView?.idCountryId),ea.setFieldValue("receiver_birthDate",(0,V.a1)(r?.record?.clientIndividual?.birthDate)),{clientId:r?.record?.clientId,clientRef:r?.record?.clientMaster?.reference,clientName:r?.record?.clientMaster?.name,category:r?.record?.clientMaster?.category,isResident:r?.record?.clientIndividual?.isResident,receiver_firstName:r?.record?.clientIndividual?.firstName,receiver_middleName:r?.record?.clientIndividual?.middleName,receiver_lastName:r?.record?.clientIndividual?.lastName,receiver_fl_firstName:r?.record?.clientIndividual?.fl_firstName,receiver_fl_middleName:r?.record?.clientIndividual?.fl_middleName,receiver_fl_lastName:r?.record?.clientIndividual?.fl_lastName,receiver_nationalityId:r?.record?.clientMaster?.nationalityId,receiver_countryId:r?.record?.clientIDView?.idCountryId,receiver_state:r?.record?.addressView?.stateName,receiver_city:r?.record?.addressView?.city,receiver_cityDistrict:r?.record?.addressView?.cityDistrict,receiver_professionId:r?.record?.clientIndividual?.professionId,receiver_sponsor:r?.record?.clientIndividual?.sponsorName,receiver_idtId:r?.record?.clientIDView?.idtId,receiver_idNo:r?.record?.clientIDView?.idNo,receiver_idIssueDate:(0,V.a1)(r?.record?.clientIDView?.idIssueDate),receiver_idExpiryDate:(0,V.a1)(r?.record?.clientIDView?.idExpiryDate),receiver_idIssueCountry:r?.record?.clientIDView?.idCountryId,receiver_birthDate:(0,V.a1)(r?.record?.clientIndividual?.birthDate)}}}catch(e){}},eo=async e=>{let r=await eu(e);(e=>{Object.entries(e).forEach(([e,r])=>{ea.setFieldValue(e,r)})})({inwardDate:r?.record?.date?(0,V.a1)(r.record.date):null,corId:r?.record?.corId,corRef:r?.record?.corRef,corName:r?.record?.corName,sender_firstName:r?.record?.sender_firstName||null,sender_lastName:r?.record?.sender_lastName||null,sender_middleName:r?.record?.sender_middleName||null,sender_nationalityId:r?.record?.sender_nationalityId,dispersalMode:r?.record?.dispersalMode,currencyId:r?.record?.currencyId,purposeOfTransfer:r?.record?.purposeOfTransfer,charges:r?.record?.charges||"",amount:r?.record?.amount||"",taxAmount:r?.record?.taxAmount||"",baseAmount:r?.record?.baseAmount||"",inw_receiver_category:r?.record?.receiver_category,inw_receiver_firstName:r?.record?.receiver_firstName||null,inw_receiver_middleName:r?.record?.receiver_middleName||null,inw_receiver_lastName:r?.record?.receiver_lastName||null,inw_receiver_fl_firstName:r?.record?.receiver_fl_firstName||null,inw_receiver_fl_middleName:r?.record?.receiver_fl_middleName||null,inw_receiver_fl_lastName:r?.record?.receiver_fl_lastName||null,inw_receiver_nationalityId:r?.record?.receiver_nationalityId,inw_dispersalMode:r?.record?.dispersalMode,inw_receiver_idtId:r?.record?.receiver_idtId,inw_receiver_idIssueDate:r?.record?.receiver_idIssueDate?(0,V.a1)(r.record.receiver_idIssueDate):null,inw_receiver_idExpiryDate:r?.record?.receiver_idExpiryDate?(0,V.a1)(r.record.receiver_idExpiryDate):null,inw_receiver_idNo:r?.record?.receiver_idNo,inw_receiver_accountNo:r?.record?.receiver_accountNo,inw_receiver_isResident:r?.record?.receiver_isResident,inw_receiver_address1:r?.record?.receiver_address1,inw_receiver_address2:r?.record?.receiver_address2})};async function eu(e){if(!e){ea.setFieldValue("sourceOfIncome",""),ea.setFieldValue(" correspondantCurrency","");return}return await t({extension:C.N.InwardsTransfer.get,parameters:`_recordId=${e}`})}async function em(e){try{let r=await t({extension:C.N.InwardSettlement.get,parameters:`_recordId=${e}`});return ea.setValues({...r?.record,date:(0,V.a1)(r?.record?.date)}),r}catch(e){}}async function ev(e){try{if(e){let r=await t({extension:A.d.Correspondent.get,parameters:`_recordId=${e}`});ea.setFieldValue("correspondantCurrency",r?.record?.currencyId)}else ea.setFieldValue("correspondantCurrency",null)}catch(e){}}let e_=async()=>{try{let e={...ea.values};e.date=(0,V.ku)(e?.date);let r=await c({extension:C.N.InwardSettlement.close,record:JSON.stringify(e)});m.default.success($.Closed),X(),await eN(r.recordId)}catch(e){}},ey=async()=>{try{let e={...ea.values};e.date=(0,V.ku)(e.date),e.inwardDate=(0,V.ku)(e.inwardDate);let r=await c({extension:C.N.InwardSettlement.reopen,record:JSON.stringify(e)});m.default.success($.Reopened),X(),await eN(r.recordId)}catch(e){}},eI=async()=>{try{let e={...ea.values};e.date=(0,V.ku)(e.date),e.inwardDate=(0,V.ku)(e.inwardDate),await c({extension:C.N.InwardSettlement.post,record:JSON.stringify(e)}),m.default.success($.Posted),X(),await eN(res.recordId)}catch(e){}},ex=async(e,r,a)=>{try{a.recordId=e,a.reference=r,await c({extension:C.N.InwardsTransfer.close,record:JSON.stringify(a)})}catch(e){B(e)}},ef=async(e,r,a)=>{try{a.recordId=e,a.reference=r,await c({extension:C.N.InwardsTransfer.post,record:JSON.stringify(a)})}catch(e){B(e)}};async function eN(e){let r=await em(e);await eo(r?.record?.inwardId),await ec(r?.record?.clientId),await ev(r?.record?.corId)}let ep=[{key:"Close",condition:!el,onClick:e_,disabled:el||!ei},{key:"Reopen",condition:el,onClick:ey,disabled:!el},{key:"Approval",condition:!0,onClick:"onApproval",disabled:!el},{key:"Locked",condition:!0,onClick:eI,disabled:!es}];async function ew(){let e=K?.list?.find(({key:e})=>"baseCurrencyId"===e);ea.setFieldValue("currencyId",parseInt(e?.value))}(0,u.useEffect)(()=>{!async function(){ew(),e&&await eN(e)}()},[]);let eh=e=>H.includes(e);async function eg(e){if(!e||!e?.clientId){W([]);return}let r={inw_receiver_category:"category",inw_receiver_firstName:"receiver_firstName",inw_receiver_middleName:"receiver_middleName",inw_receiver_lastName:"receiver_lastName",inw_receiver_fl_firstName:"receiver_fl_firstName",inw_receiver_fl_middleName:"receiver_fl_middleName",inw_receiver_fl_lastName:"receiver_fl_lastName",inw_receiver_nationalityId:"receiver_nationalityId",inw_dispersalMode:"dispersalMode",inw_receiver_idtId:"receiver_idtId",inw_receiver_idExpiryDate:"receiver_idExpiryDate",inw_receiver_idNo:"receiver_idNo",inw_receiver_idIssueDate:"receiver_idIssueDate",inw_receiver_isResident:"isResident"},a=Object.keys(r).filter(a=>ea.values[a]!=e[r[a]]);W(a)}return l.jsx(f.Z,{resourceId:Z.i.InwardSettlement,form:ea,editMode:ei,maxAccess:er,functionId:M.J.InwardSettlement,actions:ep,onClose:e_,isClosed:el,disabledSubmit:el,children:l.jsx(p.R,{children:(0,l.jsxs)(N.g,{children:[l.jsx(x.Z,{title:z.header,children:(0,l.jsxs)(d(),{container:!0,spacing:2,children:[l.jsx(d(),{item:!0,xs:3,children:l.jsx(I.Z,{name:"reference",label:z.reference,value:ea?.values?.reference,maxAccess:er,maxLength:"30",readOnly:el,onChange:ea.handleChange,error:ea.touched.reference&&!!ea.errors.reference})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(v.Z,{name:"date",required:!0,label:z.date,value:ea?.values?.date,readOnly:el,onChange:ea.setFieldValue,editMode:ei,maxAccess:er,onClear:()=>ea.setFieldValue("date",""),error:ea.touched.date&&!!ea.errors.date})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(w.Z,{values:ea.values,datasetId:q.v.DOCUMENT_STATUS,name:"status",label:z.status,valueField:"key",displayField:"value",readOnly:!0,maxAccess:er,onChange:(e,r)=>{ea.setFieldValue("status",r?.key)},error:ea.touched.status&&!!ea.errors.status})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(I.Z,{name:"token",label:z.token,value:ea?.values?.token,maxAccess:er,maxLength:"15",readOnly:!0,onChange:e=>ea.setFieldValue("token",e.target.value),error:ea.touched.token&&!!ea.errors.token})})]})}),l.jsx(x.Z,{title:z.inwardDetails,children:(0,l.jsxs)(d(),{container:!0,spacing:2,children:[l.jsx(d(),{item:!0,xs:6,children:l.jsx(h.U,{endpointId:C.N.InwardsTransfer.snapshot2,valueField:"reference",displayField:"reference",name:"inwardRef",secondDisplayField:!1,required:ea.values.interfaceId,readOnly:el&&!ea.values.interfaceId,label:z.inwardRef,maxAccess:er,form:ea,onChange:async(e,r)=>{ea.setFieldValue("inwardId",r?r.recordId:""),ea.setFieldValue("inwardName",r?r.name:""),ea.setFieldValue("inwardRef",r?r.reference:""),await eo(r?.recordId),await ev(r?.corId)},errorCheck:"inwardId"})}),l.jsx(d(),{item:!0,xs:6,children:l.jsx(v.Z,{name:"inwardDate",label:z.inwardDate,value:ea?.values?.inwardDate,readOnly:!0,maxAccess:er,error:ea.touched.inwardDate&&!!ea.errors.inwardDate})}),l.jsx(d(),{item:!0,xs:6,children:l.jsx(h.U,{endpointId:A.d.Correspondent.snapshot,values:ea.values,valueField:"reference",displayField:"name",name:"corName",required:!ea.values.inwardRef,readOnly:ea.values.inwardRef||el,valueShow:"corRef",label:z.Correspondant,form:ea,maxAccess:er,onChange:async(e,r)=>{ea.setFieldValue("interfaceId",r?r.interfaceId:null),ea.setFieldValue("corId",r?r.recordId:null),ea.setFieldValue("corRef",r?r.reference:null),ea.setFieldValue("corName",r?r.name:null),await ev(r?.recordId)},errorCheck:"corRef"})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(w.Z,{endpointId:b.r.Currency.qry,name:"correspondantCurrency",label:z.correspondantCurrency,valueField:"recordId",displayField:["reference"],values:ea.values,maxAccess:er,readOnly:!0,error:ea.touched.correspondantCurrency&&!!ea.errors.correspondantCurrency})})]})}),l.jsx(x.Z,{title:z.senderDetails,children:(0,l.jsxs)(d(),{container:!0,spacing:2,children:[l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"sender_firstName",label:z.firstName,value:ea?.values?.sender_firstName,maxAccess:er,required:!ea.values.inwardRef,readOnly:ea.values.inwardRef||el,onChange:ea.handleChange,error:ea.touched.sender_firstName&&!!ea.errors.sender_firstName})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"sender_middleName",label:z.middleName,value:ea?.values?.sender_middleName,maxAccess:er,onChange:ea.handleChange,readOnly:ea.values.inwardRef||el})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"sender_lastName",label:z.lastName,value:ea?.values?.sender_lastName,maxAccess:er,required:!ea.values.inwardRef,readOnly:ea.values.inwardRef||el,onChange:ea.handleChange,error:ea.touched.sender_lastName&&!!ea.errors.sender_lastName})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{values:ea.values,endpointId:b.r.Country.qry,name:"sender_nationalityId",label:z.nationality,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],onChange:(e,r)=>{ea.setFieldValue("sender_nationalityId",r?r.recordId:"")},error:ea.touched.sender_nationalityId&&!!ea.errors.sender_nationalityId,maxAccess:er,required:!ea.values.inwardRef,readOnly:ea.values.inwardRef||el})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{datasetId:q.v.ID_CATEGORY,name:"sender_category",label:z.category,valueField:"key",displayField:"value",values:ea.values,maxAccess:er,readOnly:el,onChange:(e,r)=>{ea.setFieldValue("type",""),ea&&ea.setFieldValue("sender_category",parseInt(r?.key))}})})]})}),(0,l.jsxs)(x.Z,{title:z.inwardReceiverDetails,children:[l.jsx(d(),{item:!0,xs:3,children:l.jsx(w.Z,{values:ea.values,datasetId:q.v.Category,name:"inw_receiver_category",label:z.category,valueField:"key",displayField:"value",required:!0,maxAccess:er,readOnly:!0,error:eh("inw_receiver_category")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(I.Z,{name:"inw_receiver_firstName",label:z.firstName,value:ea?.values?.inw_receiver_firstName,maxAccess:er,readOnly:!0,required:!0,error:eh("inw_receiver_firstName")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(I.Z,{name:"inw_receiver_middleName",label:z.middleName,value:ea?.values?.inw_receiver_middleName,maxAccess:er,readOnly:!0,error:eh("inw_receiver_middleName")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(I.Z,{name:"inw_receiver_lastName",label:z.lastName,value:ea?.values?.inw_receiver_lastName,maxAccess:er,readOnly:!0,required:!0,error:eh("inw_receiver_lastName")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(I.Z,{name:"inw_receiver_fl_firstName",label:z.fl_firstName,value:ea?.values?.inw_receiver_fl_firstName,maxAccess:er,readOnly:!0,error:eh("inw_receiver_fl_firstName")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(I.Z,{name:"inw_receiver_fl_middleName",label:z.fl_middleName,value:ea?.values?.inw_receiver_fl_middleName,maxAccess:er,readOnly:!0,maxLength:"20",error:eh("inw_receiver_fl_middleName")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(I.Z,{name:"inw_receiver_fl_lastName",label:z.fl_lastName,value:ea?.values?.inw_receiver_fl_lastName,maxAccess:er,readOnly:!0,error:eh("inw_receiver_fl_lastName")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(w.Z,{values:ea.values,endpointId:b.r.Country.qry,name:"inw_receiver_nationalityId",label:z.nationality,valueField:"recordId",displayField:["reference","name"],error:eh("inw_receiver_nationalityId"),maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(w.Z,{values:ea.values,datasetId:q.v.RT_Dispersal_Type,name:"inw_dispersalMode",label:z.dispersalMode,valueField:"key",displayField:"value",readOnly:!0,maxAccess:er,required:!0,error:eh("inw_dispersalMode")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(w.Z,{values:ea.values,endpointId:R.u.IdTypes.qry,name:"inw_receiver_idtId",label:z.idtId,valueField:"recordId",displayField:["name"],error:eh("inw_receiver_idtId"),maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(v.Z,{name:"inw_receiver_idIssueDate",label:z.idIssueDate,value:ea?.values?.inw_receiver_idIssueDate,editMode:ei,maxAccess:er,readOnly:!0,error:eh("inw_receiver_idIssueDate")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(v.Z,{name:"inw_receiver_idExpiryDate",label:z.idExpiryDate,value:ea?.values?.inw_receiver_idExpiryDate,editMode:ei,maxAccess:er,readOnly:ei,error:eh("inw_receiver_idExpiryDate")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(I.Z,{name:"inw_receiver_idNo",label:z.idNo,value:ea?.values?.inw_receiver_idNo,maxAccess:er,readOnly:ei,error:eh("inw_receiver_idNo")})}),l.jsx(d(),{item:!0,xs:3,children:l.jsx(n(),{control:l.jsx(o(),{name:"inw_receiver_isResident",checked:ea.values.inw_receiver_isResident,maxAccess:er,disabled:!0}),label:z.isResident})})]}),(0,l.jsxs)(x.Z,{title:z.receiverDetails,children:[l.jsx(d(),{item:!0,xs:4,children:l.jsx(h.U,{endpointId:T.u.ClientCorporate.snapshot,parameters:{_category:0},valueField:"reference",displayField:"name",name:"clientId",label:z.Client,form:ea,required:!0,readOnly:el,displayFieldWidth:2,valueShow:"clientRef",secondValueShow:"clientName",maxAccess:er,editMode:ei,onChange:async(e,r)=>{ea.setFieldValue("clientId",r?r.recordId:""),ea.setFieldValue("clientName",r?r.name:""),ea.setFieldValue("clientRef",r?r.reference:"");let a=await ec(r?.recordId);await eg(a)},errorCheck:"clientId"})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{datasetId:q.v.ID_CATEGORY,name:"category",label:z.category,valueField:"key",displayField:"value",values:ea.values,required:!0,readOnly:ea.values.inwardRef||el,onChange:(e,r)=>{ea&&ea.setFieldValue("category",parseInt(r?.key))},error:ea.touched.category&&!!ea.errors.category})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{values:ea.values,datasetId:q.v.CA_CASH_ACCOUNT_TYPE,name:"dispersalMode",label:z.dispersalMode,valueField:"key",displayField:"value",required:!ea.values.inwardRef,readOnly:ea.values.inwardRef||el,maxAccess:er,onChange:(e,r)=>{ea.setFieldValue("dispersalMode",r?.key)},error:ea.touched.dispersalMode&&!!ea.errors.dispersalMode})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_firstName",label:z.firstName,value:ea?.values?.receiver_firstName,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{values:ea.values,endpointId:b.r.Country.qry,name:"receiver_countryId",label:z.country,valueField:"recordId",displayField:["reference","name"],maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{values:ea.values,endpointId:R.u.IdTypes.qry,name:"receiver_idtId",label:z.idtId,valueField:"recordId",displayField:["name"],maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_middleName",label:z.middleName,value:ea?.values?.receiver_middleName,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_state",label:z.state,value:ea?.values?.receiver_state,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_idNo",label:z.idNo,value:ea?.values?.receiver_idNo,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_lastName",label:z.lastName,value:ea?.values?.receiver_lastName,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_city",label:z.city,value:ea?.values?.receiver_city,readOnly:!0,maxAccess:er})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(v.Z,{name:"receiver_idIssueDate",label:z.idIssueDate,value:ea?.values?.receiver_idIssueDate,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_fl_firstName",label:z.fl_firstName,value:ea?.values?.receiver_fl_firstName,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_cityDistrict",label:z.cityDistrict,value:ea?.values?.receiver_cityDistrict,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(v.Z,{name:"receiver_idExpiryDate",label:z.idExpiryDate,value:ea?.values?.receiver_idExpiryDate,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_fl_middleName",label:z.fl_middleName,value:ea?.values?.receiver_fl_middleName,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{endpointId:A.d.Profession.qry,label:z.profession,name:"receiver_professionId",displayField:["reference","name"],valueField:"recordId",values:ea.values,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{endpointId:b.r.Country.qry,label:z.nationality,name:"receiver_nationalityId",displayField:["reference","name"],valueField:"recordId",values:ea.values,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_fl_lastName",label:z.fl_lastName,value:ea?.values?.receiver_fl_lastName,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{values:ea.values,endpointId:b.r.Country.qry,name:"receiver_idIssueCountry",label:z.idIssueCountry,valueField:"recordId",displayField:["reference","name"],maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(v.Z,{name:"receiver_birthDate",label:z.birthDate,value:ea?.values?.receiver_birthDate,editMode:!0,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(I.Z,{name:"receiver_sponsor",label:z.sponsor,value:ea?.values?.receiver_sponsor,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{endpointId:L.F.RelationTypes.qry,name:"relationId",label:z.relationId,columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],valueField:"recordId",displayField:"name",readOnly:el,values:ea.values,maxAccess:er,onChange:(e,r)=>{ea&&ea.setFieldValue("relationId",r?.recordId||"")},error:ea.touched.relationId&&!!ea.errors.relationId})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(P.Z,{name:"isResident",value:ea.values?.isResident,onChange:e=>ea.setFieldValue("isResident",e.target.checked),label:z.isResident,disabled:!0,maxAccess:er,readOnly:!0})})]}),l.jsx(x.Z,{title:z.paymentDetails,children:(0,l.jsxs)(d(),{container:!0,spacing:2,children:[l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{values:ea.values,endpointId:b.r.Currency.qry,name:"currencyId",label:z.currency,valueField:"recordId",displayField:["reference","name"],error:ea.touched.currencyId&&!!ea.errors.currencyId,maxAccess:er,required:!0,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{endpointId:R.u.PurposeExchange.qry,name:"purposeOfTransfer",label:z.purposeOfExchange,valueField:"recordId",displayField:["reference","name"],columnsInDropDown:[{key:"reference",value:"Reference"},{key:"name",value:"Name"}],readOnly:!0,values:ea.values,maxAccess:er,onChange:(e,r)=>{ea.setFieldValue("purposeOfTransfer",r?.recordId||null)},error:ea.touched.purposeOfTransfer&&!!ea.errors.purposeOfTransfer})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(w.Z,{endpointId:A.d.SourceOfIncome.qry,name:"sourceOfIncome",label:z.sourceOfIncome,valueField:"recordId",readOnly:!0,values:ea.values,maxAccess:er})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(_.Z,{name:"amount",label:z.amount,value:ea.values.amount,maxAccess:er,required:!ea.values.inwardId,readOnly:ea.values.inwardId||el,onChange:e=>ea.setFieldValue("amount",e.target.value),onClear:()=>ea.setFieldValue("amount",""),error:ea.touched.amount&&!!ea.errors.amount,maxLength:15,decimalScale:2})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(_.Z,{name:"netAmount",label:z.netAmount,value:ea?.values?.netAmount,maxAccess:er,readOnly:!0})}),l.jsx(d(),{item:!0,xs:4,children:l.jsx(y.Z,{name:"remarks",label:z.remarks,value:ea.values.remarks,maxLength:"200",readOnly:el,maxAccess:er,onChange:ea.handleChange,onClear:()=>ea.setFieldValue("remarks",""),error:ea.touched.remarks&&!!ea.errors.remarks})})]})})]})})})};$.width=1200,$.height=650;let K=$;i()}catch(e){i(e)}})}};